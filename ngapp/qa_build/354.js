"use strict";(self.webpackChunkan_scealai=self.webpackChunkan_scealai||[]).push([[354],{8354:(cn,G,d)=>{d.r(G),d.d(G,{RecordYourselfModule:()=>dn});var f=d(6895),y=d(2687),b=d(1281),lt=d(5017),t=d(4650),gt=d(4719),v=d(3238);const pt=["button"],ht=["*"],J=new t.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),q=new t.OlP("MatButtonToggleGroup"),ft={provide:gt.JU,useExisting:(0,t.Gpc)(()=>E),multi:!0};let W=0;class ${constructor(r,e){this.source=r,this.value=e}}let E=(()=>{class o{constructor(e,n){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+W++,this.valueChange=new t.vpe,this.change=new t.vpe,this.appearance=n&&n.appearance?n.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(n=>{n.name=this._name,n._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,b.Ig)(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(n=>n.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=(0,b.Ig)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,b.Ig)(e),this._buttonToggles&&this._buttonToggles.forEach(n=>n._markForCheck())}ngOnInit(){this._selectionModel=new lt.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,n=Array.isArray(e)?e[e.length-1]:e,i=new $(n,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,n,i=!1,a=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?n?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(i)):this._updateModelValue(i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(n=>null!=e.value&&n===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(n=>this._selectValue(n))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const n=this._buttonToggles.find(i=>null!=i.value&&i.value===e);n&&(n.checked=!0,this._selectionModel.select(n))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(J,8))},o.\u0275dir=t.lG2({type:o,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,n,i){if(1&e&&t.Suo(i,L,5),2&e){let a;t.iGM(a=t.CRH())&&(n._buttonToggles=a)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,n){2&e&&(t.uIk("aria-disabled",n.disabled),t.ekj("mat-button-toggle-vertical",n.vertical)("mat-button-toggle-group-appearance-standard","standard"===n.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[t._Bn([ft,{provide:q,useExisting:o}])]}),o})();const ut=(0,v.Kr)(class{});let L=(()=>{class o extends ut{constructor(e,n,i,a,s,c){super(),this._changeDetectorRef=n,this._elementRef=i,this._focusMonitor=a,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new t.vpe;const g=Number(s);this.tabIndex=g||0===g?g:null,this.buttonToggleGroup=e,this.appearance=c&&c.appearance?c.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const n=(0,b.Ig)(e);n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=(0,b.Ig)(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+W++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new $(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(q,8),t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(y.tE),t.$8M("tabindex"),t.Y36(J,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-button-toggle"]],viewQuery:function(e,n){if(1&e&&t.Gf(pt,5),2&e){let i;t.iGM(i=t.CRH())&&(n._buttonElement=i.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,n){1&e&&t.NdJ("focus",function(){return n.focus()}),2&e&&(t.uIk("aria-label",null)("aria-labelledby",null)("id",n.id)("name",null),t.ekj("mat-button-toggle-standalone",!n.buttonToggleGroup)("mat-button-toggle-checked",n.checked)("mat-button-toggle-disabled",n.disabled)("mat-button-toggle-appearance-standard","standard"===n.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[t.qOj],ngContentSelectors:ht,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,n){if(1&e&&(t.F$t(),t.TgZ(0,"button",0,1),t.NdJ("click",function(){return n._onButtonClick()}),t.TgZ(2,"span",2),t.Hsn(3),t.qZA()(),t._UZ(4,"span",3)(5,"span",4)),2&e){const i=t.MAs(1);t.Q6J("id",n.buttonId)("disabled",n.disabled||null),t.uIk("tabindex",n.disabled?-1:n.tabIndex)("aria-pressed",n.checked)("name",n.name||null)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),t.xp6(5),t.Q6J("matRippleTrigger",i)("matRippleDisabled",n.disableRipple||n.disabled)}},directives:[v.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),o})(),_t=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[v.BQ,v.si],v.BQ]}),o})();var D=d(4859),P=d(8184),w=d(4080),H=d(445),x=d(5529),xt=d(8514),mt=d(1086),C=d(2198),k=d(2986),U=d(1059),R=d(3353),p=d(7340),I=d(9521),X=d(8746);function bt(o,r){}class Y{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ct={dialogContainer:(0,p.X$)("dialogContainer",[(0,p.SB)("void, exit",(0,p.oB)({opacity:0,transform:"scale(0.7)"})),(0,p.SB)("enter",(0,p.oB)({transform:"none"})),(0,p.eR)("* => enter",(0,p.ru)([(0,p.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,p.oB)({transform:"none",opacity:1})),(0,p.IO)("@*",(0,p.pV)(),{optional:!0})])),(0,p.eR)("* => void, * => exit",(0,p.ru)([(0,p.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,p.oB)({opacity:0})),(0,p.IO)("@*",(0,p.pV)(),{optional:!0})]))])};let vt=(()=>{class o extends w.en{constructor(e,n,i,a,s,c,g,h){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=i,this._config=s,this._interactivityChecker=c,this._ngZone=g,this._focusMonitor=h,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=l=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(l)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,R.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,R.ht)(),i=this._elementRef.nativeElement;(!n||n===this._document.body||n===i||i.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,R.ht)();return e===n||e.contains(n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(y.qV),t.Y36(t.sBO),t.Y36(f.K0,8),t.Y36(Y),t.Y36(y.ic),t.Y36(t.R0b),t.Y36(y.tE))},o.\u0275dir=t.lG2({type:o,viewQuery:function(e,n){if(1&e&&t.Gf(w.Pl,7),2&e){let i;t.iGM(i=t.CRH())&&(n._portalOutlet=i.first)}},features:[t.qOj]}),o})(),Mt=(()=>{class o extends vt{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return o.\u0275fac=function(){let r;return function(n){return(r||(r=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&t.WFA("@dialogContainer.start",function(a){return n._onAnimationStart(a)})("@dialogContainer.done",function(a){return n._onAnimationDone(a)}),2&e&&(t.Ikx("id",n._id),t.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),t.d8E("@dialogContainer",n._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,bt,0,0,"ng-template",0)},directives:[w.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ct.dialogContainer]}}),o})(),yt=0;class K{constructor(r,e,n="mat-dialog-"+yt++){this._overlayRef=r,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x.xQ,this._afterClosed=new x.xQ,this._beforeClosed=new x.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,C.h)(i=>"opened"===i.state),(0,k.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,C.h)(i=>"closed"===i.state),(0,k.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),r.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),r.keydownEvents().pipe((0,C.h)(i=>i.keyCode===I.hY&&!this.disableClose&&!(0,I.Vb)(i))).subscribe(i=>{i.preventDefault(),j(this,"keyboard")}),r.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():j(this,"mouse")})}close(r){this._result=r,this._containerInstance._animationStateChanged.pipe((0,C.h)(e=>"closing"===e.state),(0,k.q)(1)).subscribe(e=>{this._beforeClosed.next(r),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(r){let e=this._getPositionStrategy();return r&&(r.left||r.right)?r.left?e.left(r.left):e.right(r.right):e.centerHorizontally(),r&&(r.top||r.bottom)?r.top?e.top(r.top):e.bottom(r.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(r="",e=""){return this._overlayRef.updateSize({width:r,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(r){return this._overlayRef.addPanelClass(r),this}removePanelClass(r){return this._overlayRef.removePanelClass(r),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function j(o,r,e){return void 0!==o._containerInstance&&(o._containerInstance._closeInteractionType=r),o.close(e)}const wt=new t.OlP("MatDialogData"),Ot=new t.OlP("mat-dialog-default-options"),tt=new t.OlP("mat-dialog-scroll-strategy"),kt={provide:tt,deps:[P.aV],useFactory:function Pt(o){return()=>o.scrollStrategies.block()}};let St=(()=>{class o{constructor(e,n,i,a,s,c,g,h,l,_){this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=s,this._dialogRefConstructor=g,this._dialogContainerType=h,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.xQ,this._afterOpenedAtThisLevel=new x.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,xt.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,U.O)(void 0))),this._scrollStrategy=c}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){n=function Tt(o,r){return{...r,...o}}(n,this._defaultOptions||new Y),n.id&&this.getDialogById(n.id);const i=this._createOverlay(n),a=this._attachDialogContainer(i,n),s=this._attachDialogContent(e,a,i,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),a._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new P.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const a=t.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:Y,useValue:n}]}),s=new w.C5(this._dialogContainerType,n.viewContainerRef,a,n.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,n,i,a){const s=new this._dialogRefConstructor(i,n,a.id);if(e instanceof t.Rgc)n.attachTemplatePortal(new w.UE(e,null,{$implicit:a.data,dialogRef:s}));else{const c=this._createInjector(a,s,n),g=n.attachComponentPortal(new w.C5(e,a.viewContainerRef,c,a.componentFactoryResolver));s.componentInstance=g.instance}return s.updateSize(a.width,a.height).updatePosition(a.position),s}_createInjector(e,n,i){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!a||!a.get(H.Is,null,t.XFs.Optional))&&s.push({provide:H.Is,useValue:{value:e.direction,change:(0,mt.of)()}}),t.zs3.create({parent:a||this._injector,providers:s})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let i=n.length-1;i>-1;i--){let a=n[i];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return o.\u0275fac=function(e){t.$Z()},o.\u0275dir=t.lG2({type:o}),o})(),N=(()=>{class o extends St{constructor(e,n,i,a,s,c,g,h){super(e,n,a,c,g,s,K,Mt,wt,h)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(P.aV),t.LFG(t.zs3),t.LFG(f.Ye,8),t.LFG(Ot,8),t.LFG(tt),t.LFG(o,12),t.LFG(P.Xj),t.LFG(X.Qb,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),Bt=(()=>{class o{constructor(e,n,i){this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Rt(o,r){let e=o.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?r.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){j(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(K,8),t.Y36(t.SBq),t.Y36(N))},o.\u0275dir=t.lG2({type:o,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){1&e&&t.NdJ("click",function(a){return n._onButtonClick(a)}),2&e&&t.uIk("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[t.TTD]}),o})(),At=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),o})(),Dt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=t.lG2({type:o,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),o})(),It=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[N,kt],imports:[[P.U8,w.eL,v.BQ],v.BQ]}),o})();var O=d(675),zt=d(3753),Ft=d(6787),et=d(4850),Zt=d(3489);function nt(o){return r=>r.lift(new Et(o))}class Et{constructor(r){this.value=r}call(r,e){return e.subscribe(new Lt(r,this.value))}}class Lt extends Zt.L{constructor(r,e){super(r),this.value=e}_next(r){this.destination.next(this.value)}}var M=d(7625),Ht=d(5778),Ut=d(13);const ot=["*"],Yt=["content"];function jt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&o){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Nt(o,r){1&o&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const Vt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Qt=["mat-drawer","mat-drawer-content","*"],Gt={transformDrawer:(0,p.X$)("transform",[(0,p.SB)("open, open-instant",(0,p.oB)({transform:"none",visibility:"visible"})),(0,p.SB)("void",(0,p.oB)({"box-shadow":"none",visibility:"hidden"})),(0,p.eR)("void => open-instant",(0,p.jt)("0ms")),(0,p.eR)("void <=> open, open-instant => void",(0,p.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Jt=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function qt(){return!1}}),it=new t.OlP("MAT_DRAWER_CONTAINER");let z=(()=>{class o extends O.PQ{constructor(e,n,i,a,s){super(i,a,s),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>at)),t.Y36(t.SBq),t.Y36(O.mF),t.Y36(t.R0b))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:O.PQ,useExisting:o}]),t.qOj],ngContentSelectors:ot,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),o})(),rt=(()=>{class o{constructor(e,n,i,a,s,c,g,h){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=a,this._ngZone=s,this._interactivityChecker=c,this._doc=g,this._container=h,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.xQ,this._animationEnd=new x.xQ,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,C.h)(l=>l),(0,et.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,C.h)(l=>l.fromState!==l.toState&&0===l.toState.indexOf("open")),nt(void 0)),this._closedStream=this.openedChange.pipe((0,C.h)(l=>!l),(0,et.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,C.h)(l=>l.fromState!==l.toState&&"void"===l.toState),nt(void 0)),this._destroyed=new x.xQ,this.onPositionChanged=new t.vpe,this._modeChanged=new x.xQ,this.openedChange.subscribe(l=>{l?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,zt.R)(this._elementRef.nativeElement,"keydown").pipe((0,C.h)(l=>l.keyCode===I.hY&&!this.disableClose&&!(0,I.Vb)(l)),(0,M.R)(this._destroyed)).subscribe(l=>this._ngZone.run(()=>{this.close(),l.stopPropagation(),l.preventDefault()}))}),this._animationEnd.pipe((0,Ht.x)((l,_)=>l.fromState===_.fromState&&l.toState===_.toState)).subscribe(l=>{const{fromState:_,toState:u}=l;(0===u.indexOf("open")&&"void"===_||"void"===u&&0===_.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,b.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,b.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,b.Ig)(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,n,i){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(a=>{this.openedChange.pipe((0,k.q)(1)).subscribe(s=>a(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,i=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,n)),i.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(y.qV),t.Y36(y.tE),t.Y36(R.t4),t.Y36(t.R0b),t.Y36(y.ic),t.Y36(f.K0,8),t.Y36(it,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&t.Gf(Yt,5),2&e){let i;t.iGM(i=t.CRH())&&(n._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&t.WFA("@transform.start",function(a){return n._animationStarted.next(a)})("@transform.done",function(a){return n._animationEnd.next(a)}),2&e&&(t.uIk("align",null),t.d8E("@transform",n._animationState),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ot,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},directives:[O.PQ],encapsulation:2,data:{animation:[Gt.transformDrawer]},changeDetection:0}),o})(),at=(()=>{class o{constructor(e,n,i,a,s,c=!1,g){this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=g,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new x.xQ,this._doCheckSubject=new x.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x.xQ,e&&e.change.pipe((0,M.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe((0,M.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,b.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,b.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,U.O)(this._allDrawers),(0,M.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,U.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ut.b)(10),(0,M.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();n+=i,e-=i}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,C.h)(n=>n.fromState!==n.toState),(0,M.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,M.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,M.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,k.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,M.R)((0,Ft.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?n.add(i):n.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(H.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(O.rL),t.Y36(Jt),t.Y36(X.Qb,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,i){if(1&e&&(t.Suo(i,z,5),t.Suo(i,rt,5)),2&e){let a;t.iGM(a=t.CRH())&&(n._content=a.first),t.iGM(a=t.CRH())&&(n._allDrawers=a)}},viewQuery:function(e,n){if(1&e&&t.Gf(z,5),2&e){let i;t.iGM(i=t.CRH())&&(n._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:it,useExisting:o}])],ngContentSelectors:Qt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(Vt),t.YNc(0,jt,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,Nt,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},directives:[z,f.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),o})(),Wt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.ez,v.BQ,O.ZD],O.ZD,v.BQ]}),o})();var $t=d(5107),Xt=d(1696),m=d(6572),F=d(5861),Kt=d(6210),te=d(5399);class ee{constructor(r,e=[],n=[],i=[],a=[]){this.paragraphAudioIds=e,this.paragraphIndices=n,this.sentenceAudioIds=i,this.sentenceIndices=a,this.storyData=r,this.date=new Date,this.archived=!1}}var S=d(7159),T=d(4929),Z=d(4642),V=d(5893),st=d(5678),dt=d(1481),ct=d(8092),ne=d(8294);function oe(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"*"),t.qZA())}function ie(o,r){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t._UZ(2,"i",10),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.ts.l.saved," ")}}function re(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveRecordings()}),t._uU(1),t._UZ(2,"i",12),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.ts.l.save," ")}}function ae(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToDashboard()}),t._UZ(2,"i",5),t._uU(3),t.qZA(),t._UZ(4,"div"),t.TgZ(5,"div",6),t.YNc(6,ie,3,1,"div",7),t.YNc(7,re,3,1,"div",8),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.ts.l.story,""),t.xp6(3),t.Q6J("ngIf",e.recordingSaved),t.xp6(1),t.Q6J("ngIf",!e.recordingSaved)}}function se(o,r){if(1&o&&(t.TgZ(0,"div",27)(1,"b"),t._uU(2),t.qZA(),t._UZ(3,"grid-spinner"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.ts.l.synthesising)}}function de(o,r){1&o&&(t._UZ(0,"span",36),t.ALo(1,"safeHtml")),2&o&&t.Q6J("innerHTML",t.lcZ(1,1,r.$implicit.outerHTML),t.oJD)}function ce(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).stopSection(i)}),t._UZ(1,"i",39),t.qZA()}}function le(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(2).playSection(i)}),t._UZ(1,"i",40),t.qZA()}}function ge(o,r){if(1&o&&(t.ynx(0,33),t.YNc(1,ce,2,0,"button",37),t.YNc(2,le,2,0,"button",37),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("ngSwitch",!!e.audio.paused),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0)}}function pe(o,r){1&o&&t._UZ(0,"grid-spinner")}function he(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw(2).recordAudio(i)}),t._UZ(1,"i",42),t.qZA()}}function fe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw(2).stopRecording(i)}),t._UZ(1,"i",44),t.qZA()}}function ue(o,r){if(1&o){const e=t.EpF();t._UZ(0,"hr"),t.TgZ(1,"div",45),t._UZ(2,"audio",46,47),t.TgZ(4,"button",48),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index;return t.oxw(2).deleteRecording(i)}),t._UZ(5,"i",49),t.qZA()()}if(2&o){const e=t.oxw().index,n=t.oxw(2);t.xp6(2),t.uIk("src",n.sectionAudioSources[e],t.LSH)}}function _e(o,r){if(1&o&&(t.TgZ(0,"div",28)(1,"div",29)(2,"div",30),t.YNc(3,de,2,3,"span",31),t.YNc(4,ge,3,3,"ng-template",32),t.YNc(5,pe,1,0,"grid-spinner",0),t.ynx(6,33),t.YNc(7,he,2,0,"button",34),t.YNc(8,fe,2,0,"button",35),t.BQk(),t.qZA(),t.YNc(9,ue,6,1,"ng-template",32),t.qZA()()),2&o){const e=r.$implicit,n=r.index,i=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.spans),t.xp6(1),t.Q6J("ngIf",i.audioFinishedLoading),t.xp6(1),t.Q6J("ngIf",!i.audioFinishedLoading),t.xp6(1),t.Q6J("ngSwitch",!!i.isRecording(e,n)),t.xp6(1),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngIf",i.sectionAudioSources[n])}}const xe=function(o){return["/record-yourself","archive",o]};function me(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14),t._uU(2),t.qZA(),t.TgZ(3,"div",15),t.YNc(4,se,4,1,"div",16),t.YNc(5,_e,10,7,"div",17),t.qZA(),t.TgZ(6,"div",18)(7,"mat-button-toggle-group",19),t.NdJ("change",function(i){t.CHM(e);const a=t.oxw();return a.changeSections(a[i.value])}),t.TgZ(8,"div",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-button-toggle",21),t._uU(11),t.qZA(),t.TgZ(12,"mat-button-toggle",22),t._uU(13),t.qZA()(),t.TgZ(14,"div")(15,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return i.archive(i.story)}),t._uU(16),t._UZ(17,"i",24),t.qZA(),t.TgZ(18,"button",25),t._uU(19),t._UZ(20,"i",26),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.ts.l.listen_record_compare," "),t.xp6(2),t.Q6J("ngIf",!e.chosenSections),t.xp6(1),t.Q6J("ngForOf",e.chosenSections),t.xp6(2),t.Q6J("disabled",!e.audioFinishedLoading),t.xp6(2),t.hij(" ",e.ts.l.listen_by," "),t.xp6(2),t.hij("",e.ts.l.sentence," "),t.xp6(1),t.Q6J("checked",e.audioFinishedLoading),t.xp6(1),t.hij("",e.ts.l.paragraph," "),t.xp6(3),t.hij(" ",e.ts.l.archive_recording," "),t.xp6(2),t.Q6J("color",e.primary)("routerLink",t.VKq(12,xe,e.story._id)),t.xp6(1),t.hij(" ",e.ts.l.go_to_archive," ")}}let be=(()=>{class o{constructor(e){this.ts=e,this.console=console,this.save=new t.vpe}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["recording-component-save-story-dialog"]],decls:8,vars:4,consts:[["mat-button","","mat-dialog-close",""],["mat-button","",3,"mat-dialog-close","click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-dialog-content")(1,"h3"),t._uU(2),t.qZA()(),t.TgZ(3,"mat-dialog-actions")(4,"button",0),t._uU(5),t.qZA(),t.TgZ(6,"button",1),t.NdJ("click",function(){return n.save.next(!0)}),t._uU(7),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",n.ts.l.save_changes_made_to_this_recording,"\n"),t.xp6(3),t.hij(" ",n.ts.l.cancel," "),t.xp6(1),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",n.ts.l.save," "))},directives:[At,Dt,D.lW,Bt],encapsulation:2}),o})(),Ce=(()=>{class o{constructor(e,n,i,a,s,c,g,h,l){this.ts=e,this.dialog=n,this.storyService=i,this.sanitizer=a,this.route=s,this.router=c,this.recordingService=g,this.synthesis=h,this.engagement=l,this.story=new Kt.o,this.paragraphs=[],this.sentences=[],this.isRecordingParagraph=[],this.isRecordingSentence=[],this.isRecordingSection=[],this.paragraphAudioSources=[],this.sentenceAudioSources=[],this.sectionAudioSources=[],this.paragraphBlobs=[],this.sentenceBlobs=[],this.sectionBlobs=[],this.paragraphChunks=[],this.sentenceChunks=[],this.sectionChunks=[],this.modalClass="hidden",this.modalChoice=new x.xQ,this.recordingSaved=!0,this.popupVisible=!1,this.audioFinishedLoading=!1,this.router.events.subscribe(_=>{_ instanceof m.OD&&(this.latestNavStart=_,console.dir(_))})}sentence_paragraph_selection(e){this[e+"Mode"]()}ngOnInit(){this.modalClass="hidden",this.chunks=[],this.sectionAudioSources=this.paragraphAudioSources,this.sectionBlobs=this.paragraphBlobs,this.sectionChunks=this.paragraphChunks,this.isRecordingSection=this.isRecordingParagraph;const e=this.route.snapshot.paramMap.get("id");this.storyService.getStory(e).subscribe(n=>{this.story=n,this.story.activeRecording?this.recordingService.get(this.story.activeRecording).subscribe(i=>{this.loadSynthesis(i.storyData),this.loadAudio(i)}):this.archive(this.story)})}showModal(){var e=this;this.dialog.open(be).componentInstance.save.subscribe(function(){var i=(0,F.Z)(function*(a){console.log(a),yield e.saveRecordings(),e.modalChoice.next(!0),e.router.navigateByUrl(e.latestNavStart.url)});return function(a){return i.apply(this,arguments)}}())}loadSynthesis(e){this.synthesis.synthesiseStory(e).then(([n,i])=>{this.paragraphs=n,this.sentences=i,this.chosenSections=this.paragraphs,this.audioFinishedLoading=!0})}archive(e){e.activeRecording&&this.recordingService.updateArchiveStatus(e.activeRecording).subscribe();const n=new ee(e);this.recordingService.create(n).subscribe(i=>{if(i.recording){const a=i.recording._id;this.storyService.updateActiveRecording(e._id,a).subscribe(s=>{this.story.activeRecording=a,this.paragraphs=[],this.paragraphAudioSources=[],this.paragraphChunks=[],this.sentences=[],this.sentenceAudioSources=[],this.sentenceChunks=[],this.chosenSections=[],this.sectionAudioSources=[],this.sectionChunks=[],this.popupVisible=!1,this.loadSynthesis(e)})}})}loadAudio(e){this.audioFinishedLoading=!1;for(let n=0;n<e.paragraphIndices.length;++n)this.recordingService.getAudio(e.paragraphAudioIds[n]).subscribe(i=>{this.paragraphBlobs[n]=i,this.paragraphAudioSources[e.paragraphIndices[n]]=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i))});for(let n=0;n<e.sentenceIndices.length;++n)this.recordingService.getAudio(e.sentenceAudioIds[n]).subscribe(i=>{this.sentenceBlobs[n]=i,this.sentenceAudioSources[e.sentenceIndices[n]]=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i))})}recordAudio(e){this.engagement.addEventForLoggedInUser(te.tw["RECORD-STORY"],this.story),console.log("Record audio:",e),navigator.mediaDevices.getUserMedia({audio:!0}).then(i=>{this.stream=i,this.recorder=new MediaRecorder(this.stream),this.sectionChunks[e]=[],this.recorder.start(),this.isRecordingSection[e]=!0,this.recorder.ondataavailable=a=>{this.sectionChunks[e].push(a.data)}}).catch()}stopRecording(e){this.recorder.stop(),this.isRecordingSection[e]=!1,this.stream.getTracks().forEach(n=>n.stop()),setTimeout(()=>{const n=new Blob(this.sectionChunks[e],{type:"audio/mp3"});this.sectionBlobs[e]=n,this.sectionAudioSources[e]=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(n)),this.recordingSaved=!1},500)}deleteRecording(e){this.recordingSaved=!1,delete this.sectionAudioSources[e],delete this.sectionChunks[e],delete this.sectionBlobs[e]}saveRecordings(){var e=this;return(0,F.Z)(function*(){const n=Object.entries(e.paragraphBlobs).map(function(){var u=(0,F.Z)(function*([A,Q]){return e.recordingService.saveAudio(e.story._id,Q,A).toPromise()});return function(A){return u.apply(this,arguments)}}()),i=Object.entries(e.sentenceBlobs).map(function(){var u=(0,F.Z)(function*([A,Q]){return e.recordingService.saveAudio(e.story._id,Q,A).toPromise()});return function(A){return u.apply(this,arguments)}}()),a=yield Promise.all(n),s=yield Promise.all(i);let c=[],g=[];for(const u of a)c.push(u.index),g.push(u.fileId);let h=[],l=[];for(const u of s)h.push(u.index),l.push(u.fileId);e.recordingService.update(e.story.activeRecording,{paragraphAudioIds:g,paragraphIndices:c,sentenceIndices:h,sentenceAudioIds:l}).subscribe(u=>{e.recordingSaved=!0})})()}isRecording(e,n){return e instanceof S.cj?this.isRecordingSentence[n]:e instanceof S.nv?this.isRecordingParagraph[n]:void 0}isSentenceMode(){return this.chosenSections[0]instanceof S.cj}isParagraphMode(){return this.chosenSections[0]instanceof S.nv}changeSections(e){this.chosenSections=e,this.paragraphs.concat(this.sentences).forEach(i=>this.stopSection(i)),this.isSentenceMode()?(this.sectionAudioSources=this.sentenceAudioSources,this.sectionBlobs=this.sentenceBlobs,this.sectionChunks=this.sentenceChunks,this.isRecordingSection=this.isRecordingSentence):this.isParagraphMode()&&(this.sectionAudioSources=this.paragraphAudioSources,this.sectionBlobs=this.paragraphBlobs,this.sectionChunks=this.paragraphChunks,this.isRecordingSection=this.isRecordingParagraph)}playSection(e){e.play(),e.highlight()}stopSection(e){e.stop(),e.removeHighlight()}hideModal(){this.modalClass="hiddenFade",this.modalChoice.next(!1)}setModalChoice(){this.modalChoice.next(!0)}saveModal(){this.saveRecordings(),this.modalChoice.next(!0)}goToDashboard(){this.router.navigateByUrl("/dashboard/"+this.story._id)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.D),t.Y36(N),t.Y36(Z.N),t.Y36(dt.H7),t.Y36(m.gz),t.Y36(m.F0),t.Y36(V.s),t.Y36(S.cf),t.Y36(st.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-recording"]],decls:5,vars:4,consts:[[4,"ngIf"],["class","recordingBookHeader",4,"ngIf"],["class","recordingStoryContainer",4,"ngIf"],[1,"recordingBookHeader"],[1,"myStoriesBtn",3,"click"],[1,"fa","fa-chevron-left"],[1,"recordingSaveIcon"],["class","recordingSavedIcon",4,"ngIf"],["class","recordingUnsavedIcon",3,"click",4,"ngIf"],[1,"recordingSavedIcon"],[1,"fas","fa-check"],[1,"recordingUnsavedIcon",3,"click"],[1,"fas","fa-save"],[1,"recordingStoryContainer"],[1,"recordingStoryHeader"],[1,"textContainerSynth"],["class","loaderContainer",4,"ngIf"],["class","paragraphContainer",4,"ngFor","ngForOf"],[1,"footer","btnContainer"],[3,"disabled","change"],[1,"footerText"],["value","sentences"],["value","paragraphs",3,"checked"],["mat-button","","color","lightgreen",3,"click"],[1,"fas","fa-inbox"],["mat-button","",3,"color","routerLink"],[1,"fas","fa-arrow-right"],[1,"loaderContainer"],[1,"paragraphContainer"],[1,"textCard"],[1,"cardBody"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"ngIf"],[3,"ngSwitch"],["class","recordingBtn",3,"click",4,"ngSwitchCase"],["class","notRecordingBtn blink",3,"click",4,"ngSwitchCase"],[3,"innerHTML"],["class","playAudioBtn",3,"click",4,"ngSwitchCase"],[1,"playAudioBtn",3,"click"],[1,"fas","fa-pause"],[1,"fa","fa-play"],[1,"recordingBtn",3,"click"],[1,"fas","fa-microphone"],[1,"notRecordingBtn","blink",3,"click"],[1,"fas","fa-stop-circle"],[1,"cardFooter"],["controls",""],["audioTag",""],["mat-button","",1,"notRecordingBtn","trashBtn",3,"click"],[1,"fas","fa-trash-alt"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.YNc(2,oe,2,0,"span",0),t.qZA(),t.YNc(3,ae,8,3,"div",1),t.YNc(4,me,21,14,"div",2)),2&e&&(t.xp6(1),t.hij(" ",null==n.story?null:n.story.title,""),t.xp6(1),t.Q6J("ngIf",!n.recordingSaved),t.xp6(1),t.Q6J("ngIf",n.story),t.xp6(1),t.Q6J("ngIf",n.story))},directives:[f.O5,ct.P,f.sg,f.RF,f.n9,D.lW,E,L,m.rH],pipes:[ne.z],styles:['.mat-sidenav-container[_ngcontent-%COMP%]{margin:30px;border-radius:10px}.mat-button-toggle[_ngcontent-%COMP%]{background-color:#90ee90}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#90ee90;filter:brightness(85%)}.recordingStoryHeader[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px 4px 0 0}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;border-style:none;color:#261500;width:100px;font-size:12pt;padding-top:10px;padding-left:5%}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingSaveIcon[_ngcontent-%COMP%]{color:#261500;border-style:none;font-size:11pt;padding-right:5%;padding-top:15px}.recordingSavedIcon[_ngcontent-%COMP%]{color:#b3a995}.optionsPopupRec[_ngcontent-%COMP%]{z-index:10;right:0;margin-top:25px;display:flex;padding:10px 5px 5px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopupRec[_ngcontent-%COMP%]:after{content:"";top:0px;right:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0}.recordingUnsavedIcon[_ngcontent-%COMP%]{background-color:#70a87f;padding-left:6px;padding-right:6px;border-radius:5px;margin-top:-5px;color:#fff}.recordingUnsavedIcon[_ngcontent-%COMP%]:hover{background-color:#437250;cursor:pointer;transition:.5s}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.footer[_ngcontent-%COMP%]{width:90%;display:flex}.btnContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding-top:5px;padding-bottom:5px;justify-content:space-between}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;font-size:10pt;color:#fff}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt}.cardFooter[_ngcontent-%COMP%]{display:flex}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 10px}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.trashBtn[_ngcontent-%COMP%]{background-color:#be0a0a}.trashBtn[_ngcontent-%COMP%]:hover{filter:brightness(85%);transition:.2s}@-webkit-keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}.audioPlayer[_ngcontent-%COMP%]{width:100%;height:35px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-top:20px}.modalContainer[_ngcontent-%COMP%]{width:620px;height:510px}.textContainerSynth[_ngcontent-%COMP%]{height:390px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:800px;height:600px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:980px;height:730px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .highlightable{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .highlightable:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .highlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .noHighlight:before{right:0;width:0%}.contentsContainer[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;height:390px;width:100%;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.contentsLinkContainer[_ngcontent-%COMP%]{height:300px;overflow:auto;padding:10px;box-shadow:inset 0 0 12px #00000080;border-radius:5px}.contentsTitleContainer[_ngcontent-%COMP%]{width:100%;padding:5px;display:flex;justify-content:space-between}.contentsLink[_ngcontent-%COMP%]{color:#261500;text-align:left;width:50%}.contentsDate[_ngcontent-%COMP%]{color:#261500}.contentSection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contentsDateTitle[_ngcontent-%COMP%]{font-size:14pt;color:#c15a2e}.contentsLinkTitle[_ngcontent-%COMP%]{float:left;margin-left:1%;font-size:14pt;color:#c15a2e}.contentsBtnsContainer[_ngcontent-%COMP%]{margin-top:10px}.newStoryBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:right;border-radius:5px}.newStoryBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.messagesBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:center;border-radius:5px;display:inline-flex}.messagesBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.notificationBtn[_ngcontent-%COMP%]{margin-left:5px;background-color:#bd2323;color:#fff;font-size:8pt;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -9px 9px -14px #000000bf}.optionsBtn[_ngcontent-%COMP%]{font-size:14pt;background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:left;border-radius:5px}.optionsBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.optionsPopup[_ngcontent-%COMP%]{z-index:10;position:fixed;margin-top:10px;margin-left:5%;display:flex;align-items:center;padding:4px 0 4px 4px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopup[_ngcontent-%COMP%]:after{content:"";top:0px;left:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0;margin-left:-10px;margin-top:-10px}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:2px 7px 7px;height:38px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:24px}.optionsPopupBtn[_ngcontent-%COMP%]{height:38px;margin-right:4px}.deleteCheckbox[_ngcontent-%COMP%]{float:left;margin-right:5px;margin-top:5px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.contentsContainer[_ngcontent-%COMP%]{width:90%;margin-left:5%}.contentsLinkContainer[_ngcontent-%COMP%]{height:270px;padding-top:10px}.contentsLinkTitle[_ngcontent-%COMP%], .contentsDateTitle[_ngcontent-%COMP%]{font-size:12pt}.optionsPopupBtn[_ngcontent-%COMP%]{padding:2px 5px 5px;margin:0 4px 0 0;height:30px;font-size:12pt}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:0 3px 3px;height:30px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:20px}}.newStoryMessage[_ngcontent-%COMP%]{color:#a79d88;width:80%;margin-left:10%;margin-top:30px}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}@media only screen and (min-width: 1400px) and (min-height: 800px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px;margin-top:100px}.bookContentsContainer[_ngcontent-%COMP%]{position:fixed;left:50%;margin-left:-280px;padding-top:40px;margin-top:100px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}.bookImg[_ngcontent-%COMP%]{z-index:-10;width:90%;height:500px;position:fixed;right:5%}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.hiddenFade[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.visibleFade[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility .3s,opacity .3s ease-out}.modalContainer[_ngcontent-%COMP%]{margin-top:-10px;z-index:100;height:520px;width:100%;border-radius:5px;background-color:#00000080;text-align:center}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;float:left;border-style:none;color:#261500;font-size:12pt;padding-top:10px}.myStoriesBtn[_ngcontent-%COMP%]:hover{color:#c15a2e;cursor:pointer;transition:color .5s}.chatbotBtn[_ngcontent-%COMP%]{display:inline;float:right;color:#261500;border-style:none;font-size:12pt;padding-top:10px;padding-right:5%}.chatbotBtn[_ngcontent-%COMP%]:hover{color:#c15a2e}.recordingBookHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.textContainerSynth[_ngcontent-%COMP%]{height:290px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;overflow:auto}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingStoryContainer[_ngcontent-%COMP%]{margin-top:10px}.audioPlayer[_ngcontent-%COMP%]{height:15px}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.playAudioBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.loaderContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px;color:#437250}.footer[_ngcontent-%COMP%]{margin-left:5%;width:90%;display:flex}.footerText[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12pt;margin-right:5px}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;color:#fff}.changeSplitBtn[_ngcontent-%COMP%]:hover{background-color:#437250}.sentenceContainer[_ngcontent-%COMP%]{margin-bottom:10px}.selectedBtn[_ngcontent-%COMP%]{background-color:#437250}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;margin-left:5%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt;margin-left:5px}.textCard[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px;margin-bottom:10px;border-radius:5px;box-shadow:0 0 5px 3px #00000038}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 10px}.recordingBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 2s linear infinite;animation:blinker 2s linear infinite}@keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}@media only screen and (max-width: 350px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:10pt}}@media only screen and (max-width: 300px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:8pt}}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-left:-245px;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%;margin-left:-400px}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-left:-310px;margin-top:20px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%;margin-left:-500px}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-left:-400px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%;margin-left:-600px}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-left:-490px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .spanText{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .spanText:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .spanTextHighlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .spanTextNoHighlight:before{right:0;width:0%}.paragraphContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}.sentenceContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}']}),o})();const ve=function(o){return["/record-yourself","recording",o]};function Me(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"button",8),t.NdJ("click",function(){t.CHM(e),t.oxw();const i=t.MAs(9);return i.opened=!i.opened}),t._uU(2),t.qZA()()}if(2&o){const e=r.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,ve,e._id)),t.xp6(1),t.hij(" ",e.title," ")}}let ye=(()=>{class o{constructor(e,n){this.story=e,this.ts=n}ngOnInit(){this.stories=this.story.getStoriesForLoggedInUser()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.N),t.Y36(T.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["record-yourself-navigation"]],decls:15,vars:4,consts:[[1,"bookContentsContainer"],[2,"display","flex"],["mat-button","",3,"click"],[2,"font-size","25pt"],[2,"width","100%","padding","2%"],[3,"activated"],["sidenav",""],[4,"ngFor","ngForOf"],["mat-button","",3,"routerLink","click"]],template:function(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer-content")(2,"div",1)(3,"button",2),t.NdJ("click",function(){t.CHM(i);const s=t.MAs(9);return s.opened=!s.opened}),t.TgZ(4,"span",3),t._uU(5,"\u203a"),t.qZA()(),t.TgZ(6,"div",4)(7,"router-outlet",5),t.NdJ("activated",function(s){return n.activatedComponentRef=s}),t.qZA()()()(),t.TgZ(8,"mat-drawer",null,6)(10,"div")(11,"h3"),t._uU(12),t.qZA()(),t.YNc(13,Me,3,4,"div",7),t.ALo(14,"async"),t.qZA()()}2&e&&(t.xp6(12),t.Oqu(n.ts.l.my_stories),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,2,n.stories)))},directives:[at,z,D.lW,m.lC,rt,f.sg,m.rH],pipes:[f.Ov],styles:['.mat-sidenav-container[_ngcontent-%COMP%]{margin:30px;border-radius:10px}.mat-button-toggle[_ngcontent-%COMP%]{background-color:#90ee90}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#90ee90;filter:brightness(85%)}.recordingStoryHeader[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px 4px 0 0}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;border-style:none;color:#261500;width:100px;font-size:12pt;padding-top:10px;padding-left:5%}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingSaveIcon[_ngcontent-%COMP%]{color:#261500;border-style:none;font-size:11pt;padding-right:5%;padding-top:15px}.recordingSavedIcon[_ngcontent-%COMP%]{color:#b3a995}.optionsPopupRec[_ngcontent-%COMP%]{z-index:10;right:0;margin-top:25px;display:flex;padding:10px 5px 5px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopupRec[_ngcontent-%COMP%]:after{content:"";top:0px;right:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0}.recordingUnsavedIcon[_ngcontent-%COMP%]{background-color:#70a87f;padding-left:6px;padding-right:6px;border-radius:5px;margin-top:-5px;color:#fff}.recordingUnsavedIcon[_ngcontent-%COMP%]:hover{background-color:#437250;cursor:pointer;transition:.5s}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.footer[_ngcontent-%COMP%]{width:90%;display:flex}.btnContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding-top:5px;padding-bottom:5px;justify-content:space-between}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;font-size:10pt;color:#fff}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt}.cardFooter[_ngcontent-%COMP%]{display:flex}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 10px}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.trashBtn[_ngcontent-%COMP%]{background-color:#be0a0a}.trashBtn[_ngcontent-%COMP%]:hover{filter:brightness(85%);transition:.2s}@-webkit-keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}.audioPlayer[_ngcontent-%COMP%]{width:100%;height:35px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-top:20px}.modalContainer[_ngcontent-%COMP%]{width:620px;height:510px}.textContainerSynth[_ngcontent-%COMP%]{height:390px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:800px;height:600px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:980px;height:730px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .highlightable{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .highlightable:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .highlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .noHighlight:before{right:0;width:0%}.contentsContainer[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;height:390px;width:100%;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.contentsLinkContainer[_ngcontent-%COMP%]{height:300px;overflow:auto;padding:10px;box-shadow:inset 0 0 12px #00000080;border-radius:5px}.contentsTitleContainer[_ngcontent-%COMP%]{width:100%;padding:5px;display:flex;justify-content:space-between}.contentsLink[_ngcontent-%COMP%]{color:#261500;text-align:left;width:50%}.contentsDate[_ngcontent-%COMP%]{color:#261500}.contentSection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contentsDateTitle[_ngcontent-%COMP%]{font-size:14pt;color:#c15a2e}.contentsLinkTitle[_ngcontent-%COMP%]{float:left;margin-left:1%;font-size:14pt;color:#c15a2e}.contentsBtnsContainer[_ngcontent-%COMP%]{margin-top:10px}.newStoryBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:right;border-radius:5px}.newStoryBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.messagesBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:center;border-radius:5px;display:inline-flex}.messagesBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.notificationBtn[_ngcontent-%COMP%]{margin-left:5px;background-color:#bd2323;color:#fff;font-size:8pt;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -9px 9px -14px #000000bf}.optionsBtn[_ngcontent-%COMP%]{font-size:14pt;background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:left;border-radius:5px}.optionsBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.optionsPopup[_ngcontent-%COMP%]{z-index:10;position:fixed;margin-top:10px;margin-left:5%;display:flex;align-items:center;padding:4px 0 4px 4px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopup[_ngcontent-%COMP%]:after{content:"";top:0px;left:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0;margin-left:-10px;margin-top:-10px}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:2px 7px 7px;height:38px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:24px}.optionsPopupBtn[_ngcontent-%COMP%]{height:38px;margin-right:4px}.deleteCheckbox[_ngcontent-%COMP%]{float:left;margin-right:5px;margin-top:5px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.contentsContainer[_ngcontent-%COMP%]{width:90%;margin-left:5%}.contentsLinkContainer[_ngcontent-%COMP%]{height:270px;padding-top:10px}.contentsLinkTitle[_ngcontent-%COMP%], .contentsDateTitle[_ngcontent-%COMP%]{font-size:12pt}.optionsPopupBtn[_ngcontent-%COMP%]{padding:2px 5px 5px;margin:0 4px 0 0;height:30px;font-size:12pt}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:0 3px 3px;height:30px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:20px}}.newStoryMessage[_ngcontent-%COMP%]{color:#a79d88;width:80%;margin-left:10%;margin-top:30px}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}@media only screen and (min-width: 1400px) and (min-height: 800px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px;margin-top:100px}.bookContentsContainer[_ngcontent-%COMP%]{position:fixed;left:50%;margin-left:-280px;padding-top:40px;margin-top:100px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}.bookImg[_ngcontent-%COMP%]{z-index:-10;width:90%;height:500px;position:fixed;right:5%}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.hiddenFade[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.visibleFade[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility .3s,opacity .3s ease-out}.modalContainer[_ngcontent-%COMP%]{margin-top:-10px;z-index:100;height:520px;width:100%;border-radius:5px;background-color:#00000080;text-align:center}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;float:left;border-style:none;color:#261500;font-size:12pt;padding-top:10px}.myStoriesBtn[_ngcontent-%COMP%]:hover{color:#c15a2e;cursor:pointer;transition:color .5s}.chatbotBtn[_ngcontent-%COMP%]{display:inline;float:right;color:#261500;border-style:none;font-size:12pt;padding-top:10px;padding-right:5%}.chatbotBtn[_ngcontent-%COMP%]:hover{color:#c15a2e}.recordingBookHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.textContainerSynth[_ngcontent-%COMP%]{height:290px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;overflow:auto}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingStoryContainer[_ngcontent-%COMP%]{margin-top:10px}.audioPlayer[_ngcontent-%COMP%]{height:15px}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.playAudioBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.loaderContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px;color:#437250}.footer[_ngcontent-%COMP%]{margin-left:5%;width:90%;display:flex}.footerText[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12pt;margin-right:5px}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;color:#fff}.changeSplitBtn[_ngcontent-%COMP%]:hover{background-color:#437250}.sentenceContainer[_ngcontent-%COMP%]{margin-bottom:10px}.selectedBtn[_ngcontent-%COMP%]{background-color:#437250}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;margin-left:5%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt;margin-left:5px}.textCard[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px;margin-bottom:10px;border-radius:5px;box-shadow:0 0 5px 3px #00000038}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 10px}.recordingBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 2s linear infinite;animation:blinker 2s linear infinite}@keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}@media only screen and (max-width: 350px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:10pt}}@media only screen and (max-width: 300px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:8pt}}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-left:-245px;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%;margin-left:-400px}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-left:-310px;margin-top:20px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%;margin-left:-500px}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-left:-400px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%;margin-left:-600px}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-left:-490px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .spanText{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .spanText:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .spanTextHighlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .spanTextNoHighlight:before{right:0;width:0%}.paragraphContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}.sentenceContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}']}),o})();var we=d(7826),Oe=d(4206),Pe=d(5188),ke=d(4337),Se=d(1188);function Te(o,r){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.date,"M/d/yy, h:mm"))}}function Be(o,r){if(1&o&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.date,"d/M/yy, h:mm"))}}const Ae=function(o){return["/record-yourself","view",o]};function De(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div",9)(2,"a",10),t._uU(3),t.qZA(),t.YNc(4,Te,3,4,"div",11),t.YNc(5,Be,3,4,"div",11),t.qZA(),t._UZ(6,"hr"),t.qZA()),2&o){const e=r.$implicit,n=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(4,Ae,e._id)),t.xp6(1),t.Oqu(e.storyData.title),t.xp6(1),t.Q6J("ngIf",n.isFromAmerica),t.xp6(1),t.Q6J("ngIf",!n.isFromAmerica)}}let Re=(()=>{class o{constructor(e,n,i,a,s,c,g,h,l,_,u){this.ts=e,this.storyService=n,this.auth=i,this.engagement=a,this.router=s,this.messageService=c,this.profileService=g,this.classroomService=h,this.ns=l,this.route=_,this.recordingService=u,this.recordings=[],this.storyId="",this.userId="",this.isFromAmerica=!1}ngOnInit(){this.getStoryId().then(e=>{this.storyId=e.id,this.recordingService.getHistory(this.storyId).subscribe(n=>{this.recordings=n,this.recordings.sort((i,a)=>i.date>a.date?-1:1)})}),this.profileService.getForUser(this.userId).subscribe(e=>{let i=e.profile.country;this.isFromAmerica="United States of America"==i||"America"==i||"USA"==i||"United States"==i})}getStoryId(){return new Promise((e,n)=>{this.route.params.subscribe(i=>{e(i)})})}goToDashboard(){this.router.navigateByUrl("/dashboard/"+this.storyId)}viewRecording(e){this.router.navigateByUrl("/record-yourself/view/"+e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.D),t.Y36(Z.N),t.Y36(Se.$),t.Y36(st.M),t.Y36(m.F0),t.Y36(Oe.e),t.Y36(ke.H),t.Y36(we.u),t.Y36(Pe.g),t.Y36(m.gz),t.Y36(V.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-recording-history"]],hostAttrs:[1,"bookContentsContainer"],decls:13,vars:5,consts:[[1,"contentsContainer"],[1,"myStoriesBtn",3,"click"],[1,"fa","fa-chevron-left"],[1,"bookTitle"],[1,"contentsTitleContainer"],[1,"contentsLinkTitle"],[1,"contentsDateTitle"],[1,"contentsLinkContainer"],[4,"ngFor","ngForOf"],[1,"contentSection"],[1,"contentsLink",3,"routerLink"],["class","contentsDate",4,"ngIf"],[1,"contentsDate"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return n.goToDashboard()}),t._UZ(2,"i",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t._uU(5),t.qZA(),t.TgZ(6,"div",4)(7,"div",5),t._uU(8),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA()(),t.TgZ(11,"div",7),t.YNc(12,De,7,6,"div",8),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",n.ts.l.back,""),t.xp6(2),t.Oqu(n.ts.l.recordings_archive),t.xp6(3),t.Oqu(n.ts.l.recording),t.xp6(2),t.Oqu(n.ts.l.date),t.xp6(2),t.Q6J("ngForOf",n.recordings))},directives:[f.sg,m.yS,f.O5],pipes:[f.uU],styles:['.mat-sidenav-container[_ngcontent-%COMP%]{margin:30px;border-radius:10px}.mat-button-toggle[_ngcontent-%COMP%]{background-color:#90ee90}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#90ee90;filter:brightness(85%)}.recordingStoryHeader[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px 4px 0 0}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;border-style:none;color:#261500;width:100px;font-size:12pt;padding-top:10px;padding-left:5%}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingSaveIcon[_ngcontent-%COMP%]{color:#261500;border-style:none;font-size:11pt;padding-right:5%;padding-top:15px}.recordingSavedIcon[_ngcontent-%COMP%]{color:#b3a995}.optionsPopupRec[_ngcontent-%COMP%]{z-index:10;right:0;margin-top:25px;display:flex;padding:10px 5px 5px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopupRec[_ngcontent-%COMP%]:after{content:"";top:0px;right:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0}.recordingUnsavedIcon[_ngcontent-%COMP%]{background-color:#70a87f;padding-left:6px;padding-right:6px;border-radius:5px;margin-top:-5px;color:#fff}.recordingUnsavedIcon[_ngcontent-%COMP%]:hover{background-color:#437250;cursor:pointer;transition:.5s}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.footer[_ngcontent-%COMP%]{width:90%;display:flex}.btnContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding-top:5px;padding-bottom:5px;justify-content:space-between}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;font-size:10pt;color:#fff}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt}.cardFooter[_ngcontent-%COMP%]{display:flex}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 10px}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.trashBtn[_ngcontent-%COMP%]{background-color:#be0a0a}.trashBtn[_ngcontent-%COMP%]:hover{filter:brightness(85%);transition:.2s}@-webkit-keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}.audioPlayer[_ngcontent-%COMP%]{width:100%;height:35px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-top:20px}.modalContainer[_ngcontent-%COMP%]{width:620px;height:510px}.textContainerSynth[_ngcontent-%COMP%]{height:390px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:800px;height:600px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:980px;height:730px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .highlightable{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .highlightable:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .highlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .noHighlight:before{right:0;width:0%}.contentsContainer[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;height:390px;width:100%;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.contentsLinkContainer[_ngcontent-%COMP%]{height:300px;overflow:auto;padding:10px;box-shadow:inset 0 0 12px #00000080;border-radius:5px}.contentsTitleContainer[_ngcontent-%COMP%]{width:100%;padding:5px;display:flex;justify-content:space-between}.contentsLink[_ngcontent-%COMP%]{color:#261500;text-align:left;width:50%}.contentsDate[_ngcontent-%COMP%]{color:#261500}.contentSection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contentsDateTitle[_ngcontent-%COMP%]{font-size:14pt;color:#c15a2e}.contentsLinkTitle[_ngcontent-%COMP%]{float:left;margin-left:1%;font-size:14pt;color:#c15a2e}.contentsBtnsContainer[_ngcontent-%COMP%]{margin-top:10px}.newStoryBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:right;border-radius:5px}.newStoryBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.messagesBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:center;border-radius:5px;display:inline-flex}.messagesBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.notificationBtn[_ngcontent-%COMP%]{margin-left:5px;background-color:#bd2323;color:#fff;font-size:8pt;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -9px 9px -14px #000000bf}.optionsBtn[_ngcontent-%COMP%]{font-size:14pt;background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:left;border-radius:5px}.optionsBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.optionsPopup[_ngcontent-%COMP%]{z-index:10;position:fixed;margin-top:10px;margin-left:5%;display:flex;align-items:center;padding:4px 0 4px 4px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopup[_ngcontent-%COMP%]:after{content:"";top:0px;left:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0;margin-left:-10px;margin-top:-10px}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:2px 7px 7px;height:38px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:24px}.optionsPopupBtn[_ngcontent-%COMP%]{height:38px;margin-right:4px}.deleteCheckbox[_ngcontent-%COMP%]{float:left;margin-right:5px;margin-top:5px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.contentsContainer[_ngcontent-%COMP%]{width:90%;margin-left:5%}.contentsLinkContainer[_ngcontent-%COMP%]{height:270px;padding-top:10px}.contentsLinkTitle[_ngcontent-%COMP%], .contentsDateTitle[_ngcontent-%COMP%]{font-size:12pt}.optionsPopupBtn[_ngcontent-%COMP%]{padding:2px 5px 5px;margin:0 4px 0 0;height:30px;font-size:12pt}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:0 3px 3px;height:30px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:20px}}.newStoryMessage[_ngcontent-%COMP%]{color:#a79d88;width:80%;margin-left:10%;margin-top:30px}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}@media only screen and (min-width: 1400px) and (min-height: 800px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px;margin-top:100px}.bookContentsContainer[_ngcontent-%COMP%]{position:fixed;left:50%;margin-left:-280px;padding-top:40px;margin-top:100px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}.bookImg[_ngcontent-%COMP%]{z-index:-10;width:90%;height:500px;position:fixed;right:5%}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.hiddenFade[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.visibleFade[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility .3s,opacity .3s ease-out}.modalContainer[_ngcontent-%COMP%]{margin-top:-10px;z-index:100;height:520px;width:100%;border-radius:5px;background-color:#00000080;text-align:center}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;float:left;border-style:none;color:#261500;font-size:12pt;padding-top:10px}.myStoriesBtn[_ngcontent-%COMP%]:hover{color:#c15a2e;cursor:pointer;transition:color .5s}.chatbotBtn[_ngcontent-%COMP%]{display:inline;float:right;color:#261500;border-style:none;font-size:12pt;padding-top:10px;padding-right:5%}.chatbotBtn[_ngcontent-%COMP%]:hover{color:#c15a2e}.recordingBookHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.textContainerSynth[_ngcontent-%COMP%]{height:290px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;overflow:auto}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingStoryContainer[_ngcontent-%COMP%]{margin-top:10px}.audioPlayer[_ngcontent-%COMP%]{height:15px}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.playAudioBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.loaderContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px;color:#437250}.footer[_ngcontent-%COMP%]{margin-left:5%;width:90%;display:flex}.footerText[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12pt;margin-right:5px}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;color:#fff}.changeSplitBtn[_ngcontent-%COMP%]:hover{background-color:#437250}.sentenceContainer[_ngcontent-%COMP%]{margin-bottom:10px}.selectedBtn[_ngcontent-%COMP%]{background-color:#437250}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;margin-left:5%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt;margin-left:5px}.textCard[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px;margin-bottom:10px;border-radius:5px;box-shadow:0 0 5px 3px #00000038}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 10px}.recordingBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 2s linear infinite;animation:blinker 2s linear infinite}@keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}@media only screen and (max-width: 350px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:10pt}}@media only screen and (max-width: 300px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:8pt}}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-left:-245px;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%;margin-left:-400px}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-left:-310px;margin-top:20px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%;margin-left:-500px}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-left:-400px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%;margin-left:-600px}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-left:-490px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .spanText{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .spanText:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .spanTextHighlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .spanTextNoHighlight:before{right:0;width:0%}.paragraphContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}.sentenceContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}']}),o})();function Ie(o,r){if(1&o&&(t.TgZ(0,"div",15),t._uU(1),t._UZ(2,"i",16),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.ts.l.saved," ")}}function ze(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).saveRecordings()}),t._uU(1),t._UZ(2,"i",18),t.qZA()}if(2&o){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.ts.l.save," ")}}function Fe(o,r){if(1&o&&(t.TgZ(0,"div",12),t.YNc(1,Ie,3,1,"div",13),t.YNc(2,ze,3,1,"div",14),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.recordingSaved),t.xp6(1),t.Q6J("ngIf",!e.recordingSaved)}}const Ze=function(o){return["/record-yourself","archive",o]};function Ee(o,r){if(1&o&&(t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"i",10),t._uU(3),t.qZA(),t._UZ(4,"div"),t.YNc(5,Fe,3,2,"div",11),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("routerLink",t.VKq(3,Ze,e.story._id)),t.xp6(2),t.hij("",e.ts.l.archive," "),t.xp6(2),t.Q6J("ngIf",e.recordingMode)}}function Le(o,r){if(1&o&&(t.TgZ(0,"div",23)(1,"b"),t._uU(2),t.qZA(),t._UZ(3,"grid-spinner"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.ts.l.synthesising)}}function He(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).stopAudio(i)}),t._UZ(1,"i",33),t.qZA()}}function Ue(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).playAudio(i)}),t._UZ(1,"i",34),t.qZA()}}function Ye(o,r){1&o&&t._UZ(0,"hr",35)}function je(o,r){if(1&o&&t._UZ(0,"audio",39,40),2&o){const e=t.oxw(3).$implicit,n=t.oxw(3);t.Q6J("src",n.paragraphToAudioSource[e.index],t.LSH)}}function Ne(o,r){if(1&o&&(t.TgZ(0,"div",41),t._uU(1),t.qZA()),2&o){const e=t.oxw(6);t.xp6(1),t.Oqu(e.errorText)}}function Ve(o,r){if(1&o&&(t.TgZ(0,"div",36),t.YNc(1,je,2,1,"audio",37),t.YNc(2,Ne,2,1,"div",38),t.qZA()),2&o){const e=t.oxw(2).$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.paragraphToAudioSource[e.index]),t.xp6(1),t.Q6J("ngIf",n.registrationError)}}function Qe(o,r){if(1&o&&(t.TgZ(0,"span")(1,"div",26)(2,"div",27),t._UZ(3,"span",28),t.YNc(4,He,2,0,"button",29),t.YNc(5,Ue,2,0,"button",29),t.qZA(),t.YNc(6,Ye,1,0,"hr",30),t.YNc(7,Ve,3,2,"div",31),t.qZA()()),2&o){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(3),t.Q6J("innerHTML",e.responseHtml,t.oJD),t.uIk("id","paragraph-"+e.index),t.xp6(1),t.Q6J("ngIf",e.audioPlaying),t.xp6(1),t.Q6J("ngIf",!e.audioPlaying),t.xp6(1),t.Q6J("ngIf",n.paragraphToAudioSource[e.index]),t.xp6(1),t.Q6J("ngIf",n.paragraphToAudioSource[e.index])}}function Ge(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(5).stopAudio(i)}),t._UZ(1,"i",33),t.qZA()}}function Je(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(5).playAudio(i)}),t._UZ(1,"i",34),t.qZA()}}function qe(o,r){if(1&o&&t._UZ(0,"hr")(1,"audio",39,40),2&o){const e=t.oxw().$implicit,n=t.oxw(5);t.xp6(1),t.Q6J("src",n.sentenceToAudioSource[e.index],t.LSH)}}function We(o,r){if(1&o&&(t.TgZ(0,"div",43)(1,"div",26)(2,"div",27),t._UZ(3,"span",28),t.YNc(4,Ge,2,0,"button",29),t.YNc(5,Je,2,0,"button",29),t.qZA(),t.YNc(6,qe,3,1,"ng-template",44),t.qZA()()),2&o){const e=r.$implicit,n=t.oxw(5);t.xp6(3),t.Q6J("innerHTML",e.responseHtml,t.oJD),t.uIk("id","sentence-"+e.index),t.xp6(1),t.Q6J("ngIf",e.audioPlaying),t.xp6(1),t.Q6J("ngIf",!e.audioPlaying),t.xp6(1),t.Q6J("ngIf",n.sentenceToAudioSource[e.index])}}function $e(o,r){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,We,7,5,"div",42),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.sentences)}}function Xe(o,r){if(1&o&&(t.TgZ(0,"div",25),t.YNc(1,Qe,8,6,"span",1),t.YNc(2,$e,2,1,"span",1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","paragraph"===e.sectionSplit),t.xp6(1),t.Q6J("ngIf","sentence"===e.sectionSplit)}}function Ke(o,r){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Xe,3,2,"div",24),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.paragraphs)}}function tn(o,r){if(1&o&&(t.TgZ(0,"div")(1,"h2",19),t._uU(2),t.qZA(),t.TgZ(3,"div",20)(4,"div",21),t.YNc(5,Le,4,1,"div",22),t.YNc(6,Ke,2,1,"div",1),t.qZA()()()),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",e.ts.l.listen_and_compare," "),t.xp6(3),t.Q6J("ngIf",!e.audioFinishedLoading||!e.recordingsFinishedLoading),t.xp6(1),t.Q6J("ngIf",e.audioFinishedLoading&&e.recordingsFinishedLoading)}}let en=(()=>{class o{constructor(e,n,i,a,s){this.recordingService=e,this.route=n,this.sanitizer=i,this.ts=a,this.storyService=s,this.audioSource=null,this.paragraphs=[],this.sentences=[],this.audioFinishedLoading=!1,this.recordingsFinishedLoading=!1,this.sectionSplit="paragraph",this.audioPlaying=!1,this.audioTimeouts=[],this.paragraphToAudioSource=[],this.sentenceToAudioSource=[]}ngOnInit(){this.route.params.subscribe(e=>{console.log(e),this.recordingService.get(e.id).subscribe(n=>{this.story=n.storyData,this.synthesiseStory(this.story),this.loadRecordings(n)})})}sentence_paragraph_selection(e){this[e+"Mode"]()}loadRecordings(e){for(let n=0;n<e.paragraphIndices.length;++n)this.recordingService.getAudio(e.paragraphAudioIds[n]).subscribe(i=>{this.paragraphToAudioSource[e.paragraphIndices[n]]=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i))});for(let n=0;n<e.sentenceIndices.length;++n)this.recordingService.getAudio(e.sentenceAudioIds[n]).subscribe(i=>{this.sentenceToAudioSource[e.sentenceIndices[n]]=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i))});this.recordingsFinishedLoading=!0}synthesiseStory(e){this.storyService.synthesiseObject(e).subscribe(n=>{for(let a of n.html){let s="",c=new nn;for(let g of a){s+=g;let h=new on;h.responseHtml=this.sanitizer.bypassSecurityTrustHtml(g),h.audioPlaying=!1,h.paragraph=c,c.sentences.push(h),this.sentences.push(h)}c.responseHtml=this.sanitizer.bypassSecurityTrustHtml(s),c.audioPlaying=!1,this.paragraphs.push(c)}let i=0;for(let a in n.audio){this.paragraphs[a].audioUrl=n.audio[a],this.paragraphs[a].index=a;for(let s of this.paragraphs[a].sentences)s.index=i,++i}this.audioFinishedLoading=!0,this.paragraphMode()})}paragraphMode(){this.sectionSplit="paragraph",this.pauseAllAudio(),setTimeout(()=>{this.paragraphs.forEach(e=>{let n=document.getElementById("paragraph-"+e.index);n&&n.querySelectorAll("span").forEach(a=>{"sentence_normal"!=a.className&&(a.addEventListener("click",this.playWord.bind(this)),a.setAttribute("audio-url",e.audioUrl),a.classList.add("wordBtn"))})})},1e3)}sentenceMode(){this.sectionSplit="sentence",this.pauseAllAudio(),setTimeout(()=>{this.sentences.forEach(e=>{let n=document.getElementById("sentence-"+e.index);n&&n.children[0].querySelectorAll("span").forEach(a=>{"sentence_normal"!=a.className&&(a.addEventListener("click",this.playWord.bind(this)),a.setAttribute("audio-url",e.paragraph.audioUrl),a.classList.add("wordBtn"))})})},1e3)}pauseAllAudio(){this.a&&(this.a.pause(),this.audioPlaying=!1,this.paragraphs.forEach(e=>{"paragraph"===this.sectionSplit?(e.audioPlaying=!1,B.stopHighlighting(e)):"sentence"===this.sectionSplit&&(e.sentences.forEach(n=>{n.audioPlaying=!1,B.stopHighlighting(n)}),this.audioTimeouts.forEach(n=>{clearTimeout(n)}))}))}playAudio(e){if(this.pauseAllAudio(),"Paragraph"===e.type)this.a=new Audio(e.audioUrl),this.a.play(),this.audioPlaying=!0,B.startHighlighting(e);else if("Sentence"===e.type){let n=document.getElementById("sentence-"+e.index);e.startTime||(e.startTime=n.children[0].children[0].getAttribute("data-begin")),e.duration||(e.duration=+n.children[0].children[n.children[0].childElementCount-1].getAttribute("data-begin")+ +n.children[0].children[n.children[0].childElementCount-1].getAttribute("data-dur")-e.startTime),this.a=new Audio(e.paragraph.audioUrl),this.a.currentTime=e.startTime,this.a.play(),this.audioPlaying=!0,B.startHighlighting(e);let i=setTimeout(()=>{this.a.pause(),this.audioPlaying=!1},1e3*e.duration);this.audioTimeouts.push(i)}}stopAudio(e){this.a.pause(),this.audioPlaying=!1,B.stopHighlighting(e)}playWord(e){let n=e.target;this.pauseAllAudio(),this.a=new Audio(n.getAttribute("audio-url"));let i=n.getAttribute("data-begin"),a=n.getAttribute("data-dur");this.a.currentTime=i,this.a.play(),n.style.background="#0088ff6b";let s=setTimeout(()=>{this.a.pause(),n.classList.remove("staticHighlight"),n.style.background="#00000000"},1500*a);this.audioTimeouts.push(s)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(V.s),t.Y36(m.gz),t.Y36(dt.H7),t.Y36(T.D),t.Y36(Z.N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-recording"]],hostAttrs:[1,"page","bookContainerSynth"],decls:13,vars:8,consts:[["class","recordingBookHeader",4,"ngIf"],[4,"ngIf"],[1,"footer"],[1,"btnContainer"],[1,"footerText"],[3,"disabled","change"],["value","sentence"],["value","paragraph",3,"checked"],[1,"recordingBookHeader"],[1,"myStoriesBtn",3,"routerLink"],[1,"fa","fa-chevron-left"],["class","recordingSaveIcon",4,"ngIf"],[1,"recordingSaveIcon"],["class","recordingSavedIcon",4,"ngIf"],["class","recordingUnsavedIcon",3,"click",4,"ngIf"],[1,"recordingSavedIcon"],[1,"fas","fa-check"],[1,"recordingUnsavedIcon",3,"click"],[1,"fas","fa-save"],[1,"recordingStoryHeader"],[1,"textFieldContainer"],[1,"textContainerSynth"],["class","loaderContainer",4,"ngIf"],[1,"loaderContainer"],["class","paragraphContainer",4,"ngFor","ngForOf"],[1,"paragraphContainer"],[1,"textCard"],[1,"cardBody"],[3,"innerHTML"],["class","playAudioBtn",3,"click",4,"ngIf"],["class","dividerLine",4,"ngIf"],["class","cardFooter",4,"ngIf"],[1,"playAudioBtn",3,"click"],[1,"fas","fa-pause"],[1,"fa","fa-play"],[1,"dividerLine"],[1,"cardFooter"],["controls","","class","audioPlayer",3,"src",4,"ngIf"],["class","errorMessage",4,"ngIf"],["controls","",1,"audioPlayer",3,"src"],["audioTag",""],[1,"errorMessage"],["class","sentenceContainer",4,"ngFor","ngForOf"],[1,"sentenceContainer"],[3,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.YNc(2,Ee,6,5,"div",0),t.YNc(3,tn,7,3,"div",1),t.TgZ(4,"div",2)(5,"div",3)(6,"div",4),t._uU(7),t.qZA(),t.TgZ(8,"mat-button-toggle-group",5),t.NdJ("change",function(a){return n.sentence_paragraph_selection(a.value)}),t.TgZ(9,"mat-button-toggle",6),t._uU(10),t.qZA(),t.TgZ(11,"mat-button-toggle",7),t._uU(12),t.qZA()()()()),2&e&&(t.xp6(1),t.Oqu(null==n.story?null:n.story.title),t.xp6(1),t.Q6J("ngIf",n.story),t.xp6(1),t.Q6J("ngIf",n.story),t.xp6(4),t.hij(" ",n.ts.l.listen_by," "),t.xp6(1),t.Q6J("disabled",!n.audioFinishedLoading),t.xp6(2),t.hij("",n.ts.l.sentence," "),t.xp6(1),t.Q6J("checked",!0),t.xp6(1),t.hij("",n.ts.l.paragraph," "))},directives:[f.O5,m.rH,ct.P,f.sg,E,L],styles:['.mat-sidenav-container[_ngcontent-%COMP%]{margin:30px;border-radius:10px}.mat-button-toggle[_ngcontent-%COMP%]{background-color:#90ee90}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#90ee90;filter:brightness(85%)}.recordingStoryHeader[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px 4px 0 0}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;border-style:none;color:#261500;width:100px;font-size:12pt;padding-top:10px;padding-left:5%}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingSaveIcon[_ngcontent-%COMP%]{color:#261500;border-style:none;font-size:11pt;padding-right:5%;padding-top:15px}.recordingSavedIcon[_ngcontent-%COMP%]{color:#b3a995}.optionsPopupRec[_ngcontent-%COMP%]{z-index:10;right:0;margin-top:25px;display:flex;padding:10px 5px 5px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopupRec[_ngcontent-%COMP%]:after{content:"";top:0px;right:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0}.recordingUnsavedIcon[_ngcontent-%COMP%]{background-color:#70a87f;padding-left:6px;padding-right:6px;border-radius:5px;margin-top:-5px;color:#fff}.recordingUnsavedIcon[_ngcontent-%COMP%]:hover{background-color:#437250;cursor:pointer;transition:.5s}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.footer[_ngcontent-%COMP%]{width:90%;display:flex}.btnContainer[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding-top:5px;padding-bottom:5px;justify-content:space-between}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;font-size:10pt;color:#fff}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt}.cardFooter[_ngcontent-%COMP%]{display:flex}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 10px}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;font-size:10pt;padding:4px 8px}.trashBtn[_ngcontent-%COMP%]{background-color:#be0a0a}.trashBtn[_ngcontent-%COMP%]:hover{filter:brightness(85%);transition:.2s}@-webkit-keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}.audioPlayer[_ngcontent-%COMP%]{width:100%;height:35px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-top:20px}.modalContainer[_ngcontent-%COMP%]{width:620px;height:510px}.textContainerSynth[_ngcontent-%COMP%]{height:390px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:800px;height:600px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-top:30px}.modalContainer[_ngcontent-%COMP%]{width:980px;height:730px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .highlightable{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .highlightable:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .highlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .noHighlight:before{right:0;width:0%}.contentsContainer[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;height:390px;width:100%;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.contentsLinkContainer[_ngcontent-%COMP%]{height:300px;overflow:auto;padding:10px;box-shadow:inset 0 0 12px #00000080;border-radius:5px}.contentsTitleContainer[_ngcontent-%COMP%]{width:100%;padding:5px;display:flex;justify-content:space-between}.contentsLink[_ngcontent-%COMP%]{color:#261500;text-align:left;width:50%}.contentsDate[_ngcontent-%COMP%]{color:#261500}.contentSection[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.contentsDateTitle[_ngcontent-%COMP%]{font-size:14pt;color:#c15a2e}.contentsLinkTitle[_ngcontent-%COMP%]{float:left;margin-left:1%;font-size:14pt;color:#c15a2e}.contentsBtnsContainer[_ngcontent-%COMP%]{margin-top:10px}.newStoryBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:right;border-radius:5px}.newStoryBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.messagesBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:center;border-radius:5px;display:inline-flex}.messagesBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.notificationBtn[_ngcontent-%COMP%]{margin-left:5px;background-color:#bd2323;color:#fff;font-size:8pt;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 -9px 9px -14px #000000bf}.optionsBtn[_ngcontent-%COMP%]{font-size:14pt;background-color:#e5bd3b;border-style:none;color:#fff;font-size:12pt;margin:0;float:left;border-radius:5px}.optionsBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b;color:#fff}.optionsPopup[_ngcontent-%COMP%]{z-index:10;position:fixed;margin-top:10px;margin-left:5%;display:flex;align-items:center;padding:4px 0 4px 4px;background:url(/assets/img/paperBg.jpg) no-repeat center center fixed;background-size:cover;box-shadow:-1px 5px 32px 10px #0003;border-radius:5px}.optionsPopup[_ngcontent-%COMP%]:after{content:"";top:0px;left:60px;width:0;height:0;border:10px solid transparent;border-bottom-color:#f1e9d8;border-top:0;margin-left:-10px;margin-top:-10px}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:2px 7px 7px;height:38px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:24px}.optionsPopupBtn[_ngcontent-%COMP%]{height:38px;margin-right:4px}.deleteCheckbox[_ngcontent-%COMP%]{float:left;margin-right:5px;margin-top:5px}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.contentsContainer[_ngcontent-%COMP%]{width:90%;margin-left:5%}.contentsLinkContainer[_ngcontent-%COMP%]{height:270px;padding-top:10px}.contentsLinkTitle[_ngcontent-%COMP%], .contentsDateTitle[_ngcontent-%COMP%]{font-size:12pt}.optionsPopupBtn[_ngcontent-%COMP%]{padding:2px 5px 5px;margin:0 4px 0 0;height:30px;font-size:12pt}.deleteBtn[_ngcontent-%COMP%]{background-color:#e5bd3b;border-style:none;color:#fff;margin:0 4px 0 0;float:left;padding:0 3px 3px;height:30px;border-radius:5px}.deleteBtn[_ngcontent-%COMP%]:hover{background-color:#ad8f2b}.deleteModeBtn[_ngcontent-%COMP%]{background-color:#dd000e}.deleteModeBtn[_ngcontent-%COMP%]:hover{background-color:#b7000a}.trashImg[_ngcontent-%COMP%]{width:20px}}.newStoryMessage[_ngcontent-%COMP%]{color:#a79d88;width:80%;margin-left:10%;margin-top:30px}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}@media only screen and (min-width: 1400px) and (min-height: 800px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px;margin-top:100px}.bookContentsContainer[_ngcontent-%COMP%]{position:fixed;left:50%;margin-left:-280px;padding-top:40px;margin-top:100px}.optionsPopup[_ngcontent-%COMP%]{margin-left:55px}}.bookImg[_ngcontent-%COMP%]{z-index:-10;width:90%;height:500px;position:fixed;right:5%}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.hiddenFade[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}.visibleFade[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility .3s,opacity .3s ease-out}.modalContainer[_ngcontent-%COMP%]{margin-top:-10px;z-index:100;height:520px;width:100%;border-radius:5px;background-color:#00000080;text-align:center}.myStoriesBtn[_ngcontent-%COMP%]{display:inline;float:left;border-style:none;color:#261500;font-size:12pt;padding-top:10px}.myStoriesBtn[_ngcontent-%COMP%]:hover{color:#c15a2e;cursor:pointer;transition:color .5s}.chatbotBtn[_ngcontent-%COMP%]{display:inline;float:right;color:#261500;border-style:none;font-size:12pt;padding-top:10px;padding-right:5%}.chatbotBtn[_ngcontent-%COMP%]:hover{color:#c15a2e}.recordingBookHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.textContainerSynth[_ngcontent-%COMP%]{height:290px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;overflow:auto}.historyTextContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:360px;color:#261500;background-color:#f7f2e7;border:1px solid #261500a2;text-align:left;padding-left:8px;padding-right:8px;padding-top:4px;overflow:auto}.recordingStoryContainer[_ngcontent-%COMP%]{margin-top:10px}.audioPlayer[_ngcontent-%COMP%]{height:15px}.playAudioBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.playAudioBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.loaderContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px;color:#437250}.footer[_ngcontent-%COMP%]{margin-left:5%;width:90%;display:flex}.footerText[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12pt;margin-right:5px}.changeSplitBtn[_ngcontent-%COMP%]{background-color:#70a87f;border-radius:4px;margin-right:5px;color:#fff}.changeSplitBtn[_ngcontent-%COMP%]:hover{background-color:#437250}.sentenceContainer[_ngcontent-%COMP%]{margin-bottom:10px}.selectedBtn[_ngcontent-%COMP%]{background-color:#437250}.historyToolbar[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;display:flex;width:90%;margin-left:5%;padding:5px}.selectStoryFilter[_ngcontent-%COMP%]{font-size:10pt;margin-left:5px}.textCard[_ngcontent-%COMP%]{background-color:#fff;padding:10px;margin-top:5px;margin-bottom:10px;border-radius:5px;box-shadow:0 0 5px 3px #00000038}.recordingBtn[_ngcontent-%COMP%]{background-color:#70a87f;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 10px}.recordingBtn[_ngcontent-%COMP%]:hover{background-color:#437250;transition:.5s}.notRecordingBtn[_ngcontent-%COMP%]{background-color:red;color:#fff;border-radius:4px;border:none;margin-left:4px;font-size:10pt;padding:4px 8px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 2s linear infinite;animation:blinker 2s linear infinite}@keyframes blinker{0%{background-color:red}50%{background-color:#700}to{background-color:red}}@media only screen and (max-width: 350px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:10pt}}@media only screen and (max-width: 300px){.footerText[_ngcontent-%COMP%], .changeSplitBtn[_ngcontent-%COMP%]{font-size:8pt}}@media only screen and (max-width: 700px){.bookImg[_ngcontent-%COMP%]{display:none}.bookContentsContainer[_ngcontent-%COMP%]{width:100%;padding-top:10px;z-index:10}.bookContainerSynth[_ngcontent-%COMP%]{width:90%;margin-left:5%}}@media only screen and (min-width: 700px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:630px;left:50%;margin-left:-315px}.bookContainerSynth[_ngcontent-%COMP%]{width:490px;position:fixed;left:50%;margin-left:-245px;margin-top:20px}}@media only screen and (min-width: 1000px) and (min-height: 750px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:800px;height:600px;left:50%;margin-left:-400px}.bookContainerSynth[_ngcontent-%COMP%]{width:620px;height:510px;position:fixed;left:50%;margin-left:-310px;margin-top:20px}}@media only screen and (min-width: 1400px) and (min-height: 900px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1000px;height:740px;left:50%;margin-left:-500px}.bookContainerSynth[_ngcontent-%COMP%]{width:800px;height:600px;position:fixed;left:50%;margin-left:-400px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:480px}}@media only screen and (min-width: 1900px) and (min-height: 1000px){.bookImg[_ngcontent-%COMP%]{z-index:-10;width:1200px;height:850px;left:50%;margin-left:-600px}.bookContainerSynth[_ngcontent-%COMP%]{width:980px;height:730px;position:fixed;left:50%;margin-left:-490px;margin-top:30px}.textContainerSynth[_ngcontent-%COMP%]{height:610px}.myStoriesBtn[_ngcontent-%COMP%]{width:120px}}.paragraphContainer[_ngcontent-%COMP%]     .spanText{position:relative}.paragraphContainer[_ngcontent-%COMP%]     .spanText:before{content:"";height:22px;width:0%;background:#0088ff6b;transition:var(--trans)}.paragraphContainer[_ngcontent-%COMP%]     .spanTextHighlight:before{width:100%}.paragraphContainer[_ngcontent-%COMP%]     .spanTextNoHighlight:before{right:0;width:0%}.paragraphContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}.sentenceContainer[_ngcontent-%COMP%]     .wordBtn:hover{background:#0088ff36;cursor:pointer}']}),o})();class nn{constructor(){this.highlightTimeouts=[],this.sentences=[],this.type="Paragraph"}}class on{constructor(){this.index="0",this.highlightTimeouts=[],this.type="Sentence"}}class B{static startHighlighting(r){r.audioPlaying=!0;let i,s,n="Sentence"===r.type,a=0;"Paragraph"===r.type?i=document.getElementById("paragraph-"+r.index).querySelectorAll("span"):n&&(i=document.getElementById("sentence-"+r.index).children[0].querySelectorAll("span"),a=1e3*r.startTime),i.forEach(c=>{"sentence_normal"!=c.className&&c.classList.add("spanText")}),i.forEach((c,g)=>{if("sentence_normal"!=c.className){let h=setTimeout(()=>{g===i.length-1&&setTimeout(()=>{c.classList.add("spanTextNoHighlight"),c.classList.remove("spanTextHighlight"),this.resetHighlight(r)},1e3*+c.getAttribute("data-dur")),s&&s.classList.add("spanTextNoHighlight"),c.classList.add("spanTextHighlight"),c.style.setProperty("--trans","width "+(+c.getAttribute("data-dur")/2).toString()+"s  ease-in-out"),s=c},1e3*+c.getAttribute("data-begin")+ +c.getAttribute("data-dur")/2*1e3-a);r.highlightTimeouts.push(h)}})}static stopHighlighting(r){r.highlightTimeouts.forEach(e=>{clearTimeout(e)}),this.resetHighlight(r)}static resetHighlight(r){r.audioPlaying=!1;let i,n="Sentence"===r.type;if("Paragraph"===r.type){let a=document.getElementById("paragraph-"+r.index);a&&(i=a.querySelectorAll("span"))}else if(n){let a=document.getElementById("sentence-"+r.index);a&&(i=a.children[0].querySelectorAll("span"))}i&&i.forEach(a=>{a.classList.remove("spanText"),a.classList.remove("spanTextHighlight"),a.classList.remove("spanTextNoHighlight")})}}const an=[{path:"",component:ye,children:[{path:"recording/:id",component:Ce,canDeactivate:[d(2126).I]},{path:"archive/:id",component:Re},{path:"view/:id",component:en}]}];let sn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.Bz.forChild(an)],m.Bz]}),o})(),dn=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[Xt.k,_t,D.ot,f.ez,sn,$t.F,It,Wt]]}),o})()}}]);