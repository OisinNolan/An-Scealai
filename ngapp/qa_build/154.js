"use strict";(self.webpackChunkan_scealai=self.webpackChunkan_scealai||[]).push([[154],{3267:(it,L,f)=>{f.d(L,{SJ:()=>_,jA:()=>c,kh:()=>h});var E=f(5589),M=f(6895),e=f(4650),T=f(3238),k=f(2687),q=f(445),y=f(1281),P=f(9521),j=f(3353),x=f(7579),W=f(4968),H=f(6451),S=f(9300),I=f(4004),F=f(9718),w=f(2722),Y=f(1884),V=f(5698),z=f(8675),N=f(8372),C=f(7340);const A=["*"],J=["content"];function $(s,a){if(1&s){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d._onBackdropClicked())}),e.qZA()}if(2&s){const t=e.oxw();e.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function B(s,a){1&s&&(e.TgZ(0,"mat-drawer-content"),e.Hsn(1,2),e.qZA())}const O=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Q=["mat-drawer","mat-drawer-content","*"],U={transformDrawer:(0,C.X$)("transform",[(0,C.SB)("open, open-instant",(0,C.oB)({transform:"none",visibility:"visible"})),(0,C.SB)("void",(0,C.oB)({"box-shadow":"none",visibility:"hidden"})),(0,C.eR)("void => open-instant",(0,C.jt)("0ms")),(0,C.eR)("void <=> open, open-instant => void",(0,C.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},u=new e.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function l(){return!1}}),i=new e.OlP("MAT_DRAWER_CONTAINER");let r=(()=>{class s extends E.PQ{constructor(t,n,d,m,b){super(d,m,b),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.sBO),e.Y36((0,e.Gpc)(()=>h)),e.Y36(e.SBq),e.Y36(E.mF),e.Y36(e.R0b))},s.\u0275cmp=e.Xpm({type:s,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){2&t&&e.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[e._Bn([{provide:E.PQ,useExisting:s}]),e.qOj],ngContentSelectors:A,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),s})(),c=(()=>{class s{constructor(t,n,d,m,b,Z,K,st){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=d,this._platform=m,this._ngZone=b,this._interactivityChecker=Z,this._doc=K,this._container=st,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.x,this._animationEnd=new x.x,this._animationState="void",this.openedChange=new e.vpe(!0),this._openedStream=this.openedChange.pipe((0,S.h)(p=>p),(0,I.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,S.h)(p=>p.fromState!==p.toState&&0===p.toState.indexOf("open")),(0,F.h)(void 0)),this._closedStream=this.openedChange.pipe((0,S.h)(p=>!p),(0,I.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,S.h)(p=>p.fromState!==p.toState&&"void"===p.toState),(0,F.h)(void 0)),this._destroyed=new x.x,this.onPositionChanged=new e.vpe,this._modeChanged=new x.x,this.openedChange.subscribe(p=>{p?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,W.R)(this._elementRef.nativeElement,"keydown").pipe((0,S.h)(p=>p.keyCode===P.hY&&!this.disableClose&&!(0,P.Vb)(p)),(0,w.R)(this._destroyed)).subscribe(p=>this._ngZone.run(()=>{this.close(),p.stopPropagation(),p.preventDefault()}))}),this._animationEnd.pipe((0,Y.x)((p,R)=>p.fromState===R.fromState&&p.toState===R.toState)).subscribe(p=>{const{fromState:R,toState:et}=p;(0===et.indexOf("open")&&"void"===R||"void"===et&&0===R.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=(0,y.Ig)(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=(0,y.Ig)(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle((0,y.Ig)(t))}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const d=()=>{t.removeEventListener("blur",d),t.removeEventListener("mousedown",d),t.removeAttribute("tabindex")};t.addEventListener("blur",d),t.addEventListener("mousedown",d)})),t.focus(n)}_focusByCssSelector(t,n){let d=this._elementRef.nativeElement.querySelector(t);d&&this._forceFocus(d,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const d=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),d}_setOpen(t,n,d){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(d)),this._updateFocusTrapState(),new Promise(m=>{this.openedChange.pipe((0,V.q)(1)).subscribe(b=>m(b?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const n=this._elementRef.nativeElement,d=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),d.insertBefore(this._anchor,n)),d.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(e.SBq),e.Y36(k.qV),e.Y36(k.tE),e.Y36(j.t4),e.Y36(e.R0b),e.Y36(k.ic),e.Y36(M.K0,8),e.Y36(i,8))},s.\u0275cmp=e.Xpm({type:s,selectors:[["mat-drawer"]],viewQuery:function(t,n){if(1&t&&e.Gf(J,5),2&t){let d;e.iGM(d=e.CRH())&&(n._content=d.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){1&t&&e.WFA("@transform.start",function(m){return n._animationStarted.next(m)})("@transform.done",function(m){return n._animationEnd.next(m)}),2&t&&(e.uIk("align",null),e.d8E("@transform",n._animationState),e.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:A,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA())},dependencies:[E.PQ],encapsulation:2,data:{animation:[U.transformDrawer]},changeDetection:0}),s})(),h=(()=>{class s{constructor(t,n,d,m,b,Z=!1,K){this._dir=t,this._element=n,this._ngZone=d,this._changeDetectorRef=m,this._animationMode=K,this._drawers=new e.n_E,this.backdropClick=new e.vpe,this._destroyed=new x.x,this._doCheckSubject=new x.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x.x,t&&t.change.pipe((0,w.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),b.change().pipe((0,w.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Z}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=(0,y.Ig)(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:(0,y.Ig)(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,z.O)(this._allDrawers),(0,w.R)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,z.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,N.b)(10),(0,w.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const d=this._left._getWidth();t+=d,n-=d}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const d=this._right._getWidth();n+=d,t-=d}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,S.h)(n=>n.fromState!==n.toState),(0,w.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,w.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe((0,w.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,V.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe((0,w.R)((0,H.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,d="mat-drawer-container-has-open";t?n.add(d):n.remove(d)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(q.Is,8),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(E.rL),e.Y36(u),e.Y36(e.QbO,8))},s.\u0275cmp=e.Xpm({type:s,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,d){if(1&t&&(e.Suo(d,r,5),e.Suo(d,c,5)),2&t){let m;e.iGM(m=e.CRH())&&(n._content=m.first),e.iGM(m=e.CRH())&&(n._allDrawers=m)}},viewQuery:function(t,n){if(1&t&&e.Gf(r,5),2&t){let d;e.iGM(d=e.CRH())&&(n._userContent=d.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e._Bn([{provide:i,useExisting:s}])],ngContentSelectors:Q,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){1&t&&(e.F$t(O),e.YNc(0,$,1,2,"div",0),e.Hsn(1),e.Hsn(2,1),e.YNc(3,B,2,0,"mat-drawer-content",1)),2&t&&(e.Q6J("ngIf",n.hasBackdrop),e.xp6(3),e.Q6J("ngIf",!n._content))},dependencies:[M.O5,r],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),s})(),_=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[M.ez,T.BQ,E.ZD,E.ZD,T.BQ]}),s})()},5802:(it,L,f)=>{f.d(L,{g6:()=>tt,fi:()=>U});var E=f(5861),M=f(6895),e=f(4650),T=f(1481),k=f(9770),q=f(727),y=f(4968),P=f(7579),j=f(6063);class x extends P.x{constructor(u=1/0,i=1/0,l=j.l){super(),this._bufferSize=u,this._windowTime=i,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,i)}next(u){const{isStopped:i,_buffer:l,_infiniteTimeWindow:r,_timestampProvider:c,_windowTime:h}=this;i||(l.push(u),!r&&l.push(c.now()+h)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(u),{_infiniteTimeWindow:l,_buffer:r}=this,c=r.slice();for(let h=0;h<c.length&&!u.closed;h+=l?1:2)u.next(c[h]);return this._checkFinalizedStatuses(u),i}_trimBuffer(){const{_bufferSize:u,_timestampProvider:i,_buffer:l,_infiniteTimeWindow:r}=this,c=(r?1:2)*u;if(u<1/0&&c<l.length&&l.splice(0,l.length-c),!r){const h=i.now();let g=0;for(let v=1;v<l.length&&l[v]<=h;v+=2)g=v;g&&l.splice(0,g+1)}}}var W=f(3099),S=f(8372),I=f(4006);function F(o,u){1&o&&e._UZ(0,"div",2)}function w(o,u){1&o&&e._UZ(0,"pre",2)}function Y(o,u){if(1&o&&(e.ynx(0),e.YNc(1,F,1,0,"div",1),e.YNc(2,w,1,0,"pre",1),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve)}}function V(o,u){1&o&&e._UZ(0,"div",2)}function z(o,u){1&o&&e._UZ(0,"pre",2)}function N(o,u){if(1&o&&(e.ynx(0),e.YNc(1,V,1,0,"div",1),e.YNc(2,z,1,0,"pre",1),e.BQk()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.preserve),e.xp6(1),e.Q6J("ngIf",i.preserve)}}const C=[[["","quill-editor-toolbar",""]]],A=["[quill-editor-toolbar]"],B={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},O=(o,u)=>o||u||"html",Q=new e.OlP("config",{providedIn:"root",factory:()=>({modules:B})});let G=(()=>{class o{constructor(i,l){var r=this;this.config=l,this.quill$=(0,k.P)((0,E.Z)(function*(){if(!r.Quill){const c=r.document.addEventListener;r.document.addEventListener=r.document.__zone_symbol__addEventListener||r.document.addEventListener;const h=yield f.e(971).then(f.t.bind(f,9971,19));r.document.addEventListener=c,r.Quill=h.default?h.default:h}return r.config.customOptions?.forEach(c=>{const h=r.Quill.import(c.import);h.whitelist=c.whitelist,r.Quill.register(h,!0,r.config.suppressGlobalRegisterWarning)}),r.config.customModules?.forEach(({implementation:c,path:h})=>{r.Quill.register(h,c,r.config.suppressGlobalRegisterWarning)}),r.Quill})).pipe(function H(o,u,i){let l,r=!1;return o&&"object"==typeof o?({bufferSize:l=1/0,windowTime:u=1/0,refCount:r=!1,scheduler:i}=o):l=o??1/0,(0,W.B)({connector:()=>new x(l,u,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0})),this.document=i.get(M.K0),this.config||(this.config={modules:B})}getQuill(){return this.quill$}}return o.\u0275fac=function(i){return new(i||o)(e.LFG(e.zs3),e.LFG(Q,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),X=(()=>{class o{constructor(i,l,r,c,h,g,v,D){this.elementRef=l,this.cd=r,this.domSanitizer=c,this.platformId=h,this.renderer=g,this.zone=v,this.service=D,this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.valueGetter=(_,s)=>{let a=s.querySelector(".ql-editor").innerHTML;("<p><br></p>"===a||"<div><br></div>"===a)&&(a=this.defaultEmptyValue);let t=a;const n=O(this.format,this.service.config.format);if("text"===n)t=_.getText();else if("object"===n)t=_.getContents();else if("json"===n)try{t=JSON.stringify(_.getContents())}catch{t=_.getText()}return t},this.valueSetter=(_,s)=>{const a=O(this.format,this.service.config.format);if("html"===a)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(s=this.domSanitizer.sanitize(e.q3G.HTML,s)),_.clipboard.convert(s);if("json"===a)try{return JSON.parse(s)}catch{return[{insert:s}]}return s},this.selectionChangeHandler=(_,s,a)=>{const t=!_&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!t||this.zone.run(()=>{null===_?this.onBlur.emit({editor:this.quillEditor,source:a}):null===s&&this.onFocus.emit({editor:this.quillEditor,source:a}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:s,range:_,source:a}),t&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(_,s,a)=>{const t=this.quillEditor.getText(),n=this.quillEditor.getContents();let d=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===d||"<div><br></div>"===d)&&(d=this.defaultEmptyValue);const m=this.trackChanges||this.service.config.trackChanges,b=("user"===a||m&&"all"===m)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!b||this.zone.run(()=>{b&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:n,delta:_,editor:this.quillEditor,html:d,oldDelta:s,source:a,text:t}),this.cd.markForCheck()})},this.editorChangeHandler=(_,s,a,t)=>{if(this.onEditorChanged.observers.length)if("text-change"===_){const n=this.quillEditor.getText(),d=this.quillEditor.getContents();let m=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===m||"<div><br></div>"===m)&&(m=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:d,delta:s,editor:this.quillEditor,event:_,html:m,oldDelta:a,source:t,text:n}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:_,oldRange:a,range:s,source:t}),this.cd.markForCheck()})},this.document=i.get(M.K0)}static normalizeClassNames(i){return i.trim().split(" ").reduce((r,c)=>{const h=c.trim();return h&&r.push(h),r},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,M.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(i=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const l=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),r=Object.assign({},this.modules||this.service.config.modules);l?r.toolbar=l:void 0===r.toolbar&&(r.toolbar=B.toolbar);let c=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===c&&(c="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(a=>{this.renderer.setStyle(this.editorElem,a,this.styles[a])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(a=>{const t=i.import(a.import);t.whitelist=a.whitelist,i.register(t,!0)}),this.customModules.forEach(({implementation:a,path:t})=>{i.register(t,a)});let h=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;h||(h=this.service.config.bounds?this.service.config.bounds:this.document.body);let g=this.debug;!g&&!1!==g&&this.service.config.debug&&(g=this.service.config.debug);let v=this.readOnly;!v&&!1!==this.readOnly&&(v=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let D=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(D=this.service.config.defaultEmptyValue);let _=this.scrollingContainer;!_&&null!==this.scrollingContainer&&(_=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let s=this.formats;if(!s&&void 0===s&&(s=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new i(this.editorElem,{bounds:h,debug:g,formats:s,modules:r,placeholder:c,readOnly:v,defaultEmptyValue:D,scrollingContainer:_,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const t=this.quillEditor?.theme?.tooltip?.root?.querySelector("input[data-link]");t?.dataset&&(t.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===O(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const t=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(t,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){this.dispose(),this.quillSubscription?.unsubscribe(),this.quillSubscription=null}ngOnChanges(i){if(this.quillEditor){if(i.readOnly&&this.quillEditor.enable(!i.readOnly.currentValue),i.placeholder&&(this.quillEditor.root.dataset.placeholder=i.placeholder.currentValue),i.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=i.defaultEmptyValue.currentValue),i.styles){const l=i.styles.currentValue,r=i.styles.previousValue;r&&Object.keys(r).forEach(c=>{this.renderer.removeStyle(this.editorElem,c)}),l&&Object.keys(l).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles[c])})}if(i.classes){const l=i.classes.currentValue,r=i.classes.previousValue;r&&this.removeClasses(r),l&&this.addClasses(l)}i.debounceTime&&this.addQuillEventListeners()}}addClasses(i){o.normalizeClassNames(i).forEach(l=>{this.renderer.addClass(this.editorElem,l)})}removeClasses(i){o.normalizeClassNames(i).forEach(l=>{this.renderer.removeClass(this.editorElem,l)})}writeValue(i){if(this.filterNull&&null===i||(this.content=i,!this.quillEditor))return;const l=O(this.format,this.service.config.format),r=this.valueSetter(this.quillEditor,i);if(this.compareValues){const c=this.quillEditor.getContents();if(JSON.stringify(c)===JSON.stringify(r))return}i?"text"===l?this.quillEditor.setText(i):this.quillEditor.setContents(r):this.quillEditor.setText("")}setDisabledState(i=this.disabled){this.disabled=i,this.quillEditor&&(i?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(i){this.onModelChange=i}registerOnTouched(i){this.onModelTouched=i}registerOnValidatorChange(i){this.onValidatorChanged=i}validate(){if(!this.quillEditor)return null;const i={};let l=!0;const r=this.quillEditor.getText(),c=this.trimOnValidation?r.trim().length:1===r.length&&0===r.trim().length?0:r.length-1,h=this.quillEditor.getContents().ops,g=h&&1===h.length&&["\n",""].includes(h[0].insert);return this.minLength&&c&&c<this.minLength&&(i.minLengthError={given:c,minLength:this.minLength},l=!1),this.maxLength&&c>this.maxLength&&(i.maxLengthError={given:c,maxLength:this.maxLength},l=!1),this.required&&!c&&g&&(i.requiredError={empty:!0},l=!1),l?null:i}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new q.w0,this.subscription.add((0,y.R)(this.quillEditor,"selection-change").subscribe(([r,c,h])=>{this.selectionChangeHandler(r,c,h)}));let i=(0,y.R)(this.quillEditor,"text-change"),l=(0,y.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(i=i.pipe((0,S.b)(this.debounceTime)),l=l.pipe((0,S.b)(this.debounceTime))),this.subscription.add(i.subscribe(([r,c,h])=>{this.textChangeHandler(r,c,h)})),this.subscription.add(l.subscribe(([r,c,h,g])=>{this.editorChangeHandler(r,c,h,g)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(T.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(G))},o.\u0275dir=e.lG2({type:o,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.TTD]}),o})(),tt=(()=>{class o extends X{constructor(i,l,r,c,h,g,v,D){super(i,l,r,c,h,g,v,D)}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(T.H7),e.Y36(e.Lbi),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(G))},o.\u0275cmp=e.Xpm({type:o,selectors:[["quill-editor"]],features:[e._Bn([{multi:!0,provide:I.JU,useExisting:(0,e.Gpc)(()=>o)},{multi:!0,provide:I.Cf,useExisting:(0,e.Gpc)(()=>o)}]),e.qOj],ngContentSelectors:A,decls:3,vars:2,consts:[[4,"ngIf"],["quill-editor-element","",4,"ngIf"],["quill-editor-element",""]],template:function(i,l){1&i&&(e.F$t(C),e.YNc(0,Y,3,2,"ng-container",0),e.Hsn(1),e.YNc(2,N,3,2,"ng-container",0)),2&i&&(e.Q6J("ngIf","top"!==l.toolbarPosition),e.xp6(2),e.Q6J("ngIf","top"===l.toolbarPosition))},dependencies:[M.O5],styles:[":host{display:inline-block}\n"],encapsulation:2}),o})(),U=(()=>{class o{static forRoot(i){return{ngModule:o,providers:[{provide:Q,useValue:i}]}}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[M.ez]]}),o})()}}]);