"use strict";(self.webpackChunkan_scealai=self.webpackChunkan_scealai||[]).push([[485],{4485:(We,M,l)=>{l.r(M),l.d(M,{TeacherModule:()=>Ge});var c=l(4006),p=l(6895),u=l(1390),g=l(5861),f=l(8977),x=l(25),h=l(4633),e=l(4650),C=l(5412),y=l(3267),_=l(3905),w=l(1745),J=l(5042),N=l(2481),q=l(7392),U=l(4859),k=l(8255);function B(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",5),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ts.l.my_classrooms)}}function Y(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.setClassroom(r))}),e.TgZ(1,"div",7)(2,"div",8),e.NdJ("blur",function(){const s=e.CHM(t),r=s.index,a=s.$implicit,d=e.oxw();return e.KtG(d.saveClassroomTitle(r,a))})("keydown.enter",function(){const s=e.CHM(t),r=s.index,a=s.$implicit,d=e.oxw();return e.KtG(d.saveClassroomTitle(r,a))}),e._uU(3),e.qZA(),e.TgZ(4,"div",9),e._uU(5),e.TgZ(6,"button",10)(7,"mat-icon"),e._uU(8,"more_vert"),e.qZA()(),e.TgZ(9,"mat-menu",null,11)(11,"button",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.openDeleteClassroomDialog(r._id))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"button",12),e.NdJ("click",function(){const r=e.CHM(t).index,a=e.oxw();return e.KtG(a.makeTitleDivEditable(r))}),e.TgZ(17,"mat-icon"),e._uU(18,"create"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()()()(),e._UZ(21,"hr"),e.qZA()}if(2&n){const t=i.$implicit,o=i.index,s=e.MAs(10),r=e.oxw();e.xp6(1),e.uIk("id",t._id),e.xp6(1),e.uIk("id",o),e.xp6(1),e.hij(" ",null==t?null:t.title," "),e.xp6(2),e.hij(" ",null==t?null:t.studentIds.length," "),e.xp6(1),e.Q6J("matMenuTriggerFor",s),e.xp6(9),e.Oqu(r.ts.l.delete),e.xp6(5),e.Oqu(r.ts.l.rename)}}let P=(()=>{class n{constructor(t,o,s,r,a){this.ts=t,this.auth=o,this.classroomService=s,this.notificationService=r,this.dialog=a,this.classrooms=[],this.lastClickedClassroomId="",this.searchText="",this.classroomEmitter=new e.vpe,this.titleUpdated=new e.vpe,this.classroomsLoaded=new e.vpe}ngOnInit(){const t=this.auth.getUserDetails();t?(this.getClassrooms(t._id),this.notificationService.getTeacherNotifications()):this.auth.logout()}getClassrooms(t){var o=this;return(0,g.Z)(function*(){o.classrooms=yield(0,_.z)(o.classroomService.getClassroomsForTeacher(t)),o.classrooms.length>0&&(o.classrooms.sort((s,r)=>s.date>r.date?-1:1),o.lastClickedClassroomId=o.classrooms[0]._id,setTimeout(()=>{o.setClassroom(o.classrooms[0])})),o.classroomsLoaded.emit(!0)})()}setClassroom(t){this.classroomEmitter.emit(t);let o=t._id,s=document.getElementById(o);s&&(this.lastClickedClassroomId&&document.getElementById(this.lastClickedClassroomId).classList.remove("clickedresultCard"),this.lastClickedClassroomId=o,s.classList.add("clickedresultCard"))}createNewClassroom(){var t=this;this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.add_new_classroom,type:"updateText",confirmText:this.ts.l.create,cancelText:this.ts.l.cancel},width:"50vh"}),this.dialogRef.afterClosed().subscribe(function(){var o=(0,g.Z)(function*(s){if(t.dialogRef=void 0,s){const r=t.auth.getUserDetails();if(!r)return;let a=new N.r;a.title=s[0],a.teacherId=r._id,a.date=new Date;let d=yield(0,_.z)(t.classroomService.getAllCodes()),m=t.getUniqueCode(d);a.code=m,t.classroomService.createClassroom(a).subscribe({next:()=>{t.getClassrooms(r._id)},error:()=>{alert("Not able to create a new classroom")}})}});return function(s){return o.apply(this,arguments)}}())}getUniqueCode(t){let o=this.classroomService.generateCode();for(;t.includes(o);)o=this.classroomService.generateCode();return o}openDeleteClassroomDialog(t){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.sure_you_want_to_delete_code,type:"simpleConfirm",confirmText:this.ts.l.delete,cancelText:this.ts.l.cancel},width:"50vh"}),this.dialogRef.afterClosed().subscribe(o=>{this.dialogRef=void 0,o&&this.deleteClassroom(t)})}deleteClassroom(t){const o=this.classrooms.findIndex(s=>s._id===t);this.classroomService.deleteClassroom(t).subscribe(s=>{this.classrooms.splice(o,1),this.classrooms.length?this.setClassroom(this.classrooms[0]):this.classroomEmitter.emit(null)})}makeTitleDivEditable(t){const o=document.getElementById(t);o.setAttribute("contenteditable","true"),window.setTimeout(()=>o.focus(),0)}saveClassroomTitle(t,o){const s=document.getElementById(t);s.setAttribute("contenteditable","false"),o.title.trim()!=s.textContent.trim()&&(o.title=s.textContent,this.classroomService.editTitle(o._id,o.title.trim()).subscribe({next:()=>{this.ngOnInit()},error:()=>{alert("Not able to save new classroom title")}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.D),e.Y36(w.$),e.Y36(x.u),e.Y36(J.g),e.Y36(C.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-classroom-drawer"]],outputs:{classroomEmitter:"classroomEmitter",titleUpdated:"titleUpdated",classroomsLoaded:"classroomsLoaded"},decls:7,vars:2,consts:[[1,"body"],[4,"ngIf"],[1,"storyList"],[3,"click",4,"ngFor","ngForOf"],["mat-fab","",1,"newStoryButton",3,"click"],[1,"myStories"],[3,"click"],[1,"contentSection"],[1,"contentsTitle",3,"blur","keydown.enter"],[1,"contentsDate"],["mat-icon-button","","aria-label","Options to delete or rename your classroom",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,B,3,1,"div",1),e.TgZ(2,"div",2),e.YNc(3,Y,22,7,"div",3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return o.createNewClassroom()}),e.TgZ(5,"mat-icon"),e._uU(6,"add"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.classrooms.length>0),e.xp6(2),e.Q6J("ngForOf",o.classrooms))},dependencies:[p.sg,p.O5,q.Hw,U.lW,k.VK,k.OP,k.p6],styles:[".body[_ngcontent-%COMP%]{display:flex;width:100%;height:98%;flex-direction:column}.storyList[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}.myStories[_ngcontent-%COMP%]{color:var(--dark-text);font-size:16pt;padding-bottom:10px;text-align:left;font-weight:bolder}.searchBox[_ngcontent-%COMP%]{min-width:300px}.contentSection[_ngcontent-%COMP%]{display:flex;padding:5px}.contentSection[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#eee;border-radius:5px}.contentsTitle[_ngcontent-%COMP%]{color:var(--dark-text);text-align:left;text-decoration:none;min-width:50%;flex:1 0 50%;overflow-wrap:break-word;padding-left:5px}.contentsTitle[_ngcontent-%COMP%]:hover{cursor:pointer}.contentsDate[_ngcontent-%COMP%]{flex:1 0 50%;text-align:right;padding-right:20px}.newStoryButton[_ngcontent-%COMP%]{margin-left:auto}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%]{background-color:var(--scealai-green);box-shadow:none}.clickedresultCard[_ngcontent-%COMP%]{background-color:#eee;font-weight:700;border-radius:5px}"]}),n})();var v=l(8386),Z=l(1765),T=l(7084),A=l(1281),I=l(3238);let E=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,A.Ig)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,A.Ig)(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,o){2&t&&(e.uIk("aria-orientation",o.vertical?"vertical":"horizontal"),e.ekj("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,o){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[I.BQ,I.BQ]}),n})();var Q=l(4687),H=l(6012),L=l(4186),z=l(529),R=l(1481),O=l(5802);function G(n,i){if(1&n&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.ts.l.made_using_prompts)}}function K(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"i",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openUpdateStoryTextDialog())}),e.qZA()}}function $(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"quill-editor",29),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.story.feedback.feedbackMarkup=s)})("onEditorCreated",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.onEditorCreated(s))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("modules",t.config)("ngModel",t.story.feedback.feedbackMarkup)}}function W(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"textarea",31),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.story.feedback.text=s)})("input",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.feedbackSent=!1)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.hYB("placeholder","",t.ts.l.leave_feedback_for," ",null==t.story?null:t.story.author,""),e.Q6J("ngModel",t.story.feedback.text)}}function X(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"i",33),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.ts.l.seen_by," ",null==t.story?null:t.story.author," ")}}function V(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.ts.l.not_seen_by," ",null==t.story?null:t.story.author,"")}}function ee(n,i){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,X,3,2,"span",25),e.YNc(2,V,2,2,"span",25),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.story.feedback.seenByStudent),e.xp6(1),e.Q6J("ngIf",!t.story.feedback.seenByStudent)}}function te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendFeedback())}),e._uU(1),e._UZ(2,"i",34),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij("",t.ts.l.send," ")}}function oe(n,i){if(1&n&&(e.TgZ(0,"button",35),e._uU(1),e._UZ(2,"i",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("",t.ts.l.sent," ")}}function ne(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"audio",36,37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.audioSource,e.LSH)}}let D=(()=>{class n{constructor(t,o,s,r,a,d,m,b,Ke,$e){this.route=t,this.http=o,this.storyService=s,this.sanitizer=r,this.ts=a,this.router=d,this.userService=m,this.profileService=b,this.auth=Ke,this.dialog=$e,this.feedbackSent=!1,this.isFromAmerica=!1,this.baseUrl=L.Z.baseurl,this.storyUpdated=!1,this.config={toolbar:[[{color:[]},{background:[]}],["bold","italic","underline","strike"]]},this.closeFeedbackEmitter=new e.vpe}ngOnInit(){this.auth.getUserDetails()}ngOnChanges(t){this.getStoryData()}getStoryData(){this.story&&(null==this.story.feedback.feedbackMarkup?this.story.feedback.feedbackMarkup=this.story.htmlText||this.story.text:this.storyUpdated=this.checkTextDifference(this.story.feedback.feedbackMarkup,this.story.text),this.initialMarkupText=this.story.feedback.feedbackMarkup,this.getFeedbackAudio(),this.getAuthorPossessive(),this.getUserId())}checkTextDifference(t,o){return t.replace(/(<([^>]+)>)/gi,"").replace(/[\s,\.]+/g,"")!==o.replace(/(<([^>]+)>)/gi,"").replace(/[\s,\.]+/g,"")}getAuthorPossessive(){let t=this.story.author;this.authorPossessive=t+"'"+("s"===t[t.length-1]?"":"s")}getUserId(){this.userService.getUserByUsername(this.story.author).subscribe(t=>{this.userId=t[0]._id})}getFeedbackAudio(){this.storyService.getFeedbackAudio(this.story._id).subscribe(t=>{"audio/mp3"==t.type&&(this.audioSource=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t)))})}sendFeedback(){let t=null;this.story.htmlText!==this.story.feedback.feedbackMarkup&&(t=this.story.feedback.feedbackMarkup),this.storyService.addFeedback(this.story._id,this.story.feedback.text,t).subscribe(o=>{this.feedbackSent=!0}),this.initialMarkupText=t}openRecordingDialog(){this.dialogRef=this.dialog.open(H.g,{data:{type:"feedbackAudio",id:this.story._id,confirmButton:this.ts.l.save},width:"30vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&this.getFeedbackAudio()})}openUpdateStoryTextDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.story_updated,message:this.ts.l.student_has_made_changes_since_feedback.replace("#",this.story.author),confirmText:this.ts.l.yes,cancelText:this.ts.l.no},width:"60vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&(this.storyService.updateFeedbackMarkup(this.story._id,null).subscribe(),this.story.feedback.feedbackMarkup=this.story.htmlText)})}onEditorCreated(t){this.quillEditor=t,this.quillEditor.root.setAttribute("spellcheck","false")}goBack(){this.initialMarkupText!==this.story.feedback.feedbackMarkup?(this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.save_changes,message:this.ts.l.would_you_like_save_feedback_changes,confirmText:this.ts.l.yes,cancelText:this.ts.l.no},width:"60vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&this.sendFeedback(),this.router.navigateByUrl("teacher/student/"+this.userId)})):this.router.navigateByUrl("teacher/student/"+this.userId)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(z.eN),e.Y36(Z.N),e.Y36(R.H7),e.Y36(f.D),e.Y36(u.F0),e.Y36(v.K),e.Y36(Q.H),e.Y36(w.$),e.Y36(C.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-story"]],inputs:{story:"story"},outputs:{closeFeedbackEmitter:"closeFeedbackEmitter"},features:[e.TTD],decls:50,vars:24,consts:[[1,"contents"],[1,"classContainer"],[1,"classHeader"],["class","madeWithPrompts",4,"ngIf"],[1,"closeFeedbackBtn",3,"click"],[1,"fa","fa-times"],[1,"storyClassBody"],[1,"storyTextContainer"],[1,"storyTextHeader"],["class","fa fa-redo-alt refresh",3,"click",4,"ngIf"],["class","storyText","placeholder","","name","text",3,"modules","ngModel","ngModelChange","onEditorCreated",4,"ngIf"],[1,"storyInfoContainer"],[1,"storyInfoBody"],[1,"userInfoContainer"],[1,"userInfo"],["readonly","",1,"userInfoTextarea"],[1,"feedbackContainer"],[1,"feedbackHeaderTeacherStory"],["class","feedbackBody",4,"ngIf"],[1,"feedbackFooter"],["class","seenByStudent",4,"ngIf"],[1,"sendFeedbackBtn"],["class","headerIconBtn",3,"click",4,"ngIf"],["class","headerIconBtn",4,"ngIf"],[1,"feedbackBtnContainer"],[4,"ngIf"],[1,"headerIconBtn",3,"click"],[1,"madeWithPrompts"],[1,"fa","fa-redo-alt","refresh",3,"click"],["placeholder","","name","text",1,"storyText",3,"modules","ngModel","ngModelChange","onEditorCreated"],[1,"feedbackBody"],["spellcheck","false",1,"feedbackTextarea",3,"placeholder","ngModel","ngModelChange","input"],[1,"seenByStudent"],[1,"fas","fa-check"],[1,"fas","fa-paper-plane"],[1,"headerIconBtn"],["id","audio","controls","",1,"audioPlayer",3,"src"],["audioTag",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div"),e._uU(4),e.YNc(5,G,2,1,"span",3),e.qZA(),e.TgZ(6,"div",4),e.NdJ("click",function(){return o.closeFeedbackEmitter.next(!0)}),e._UZ(7,"i",5),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8),e._uU(11),e.YNc(12,K,1,0,"i",9),e.qZA(),e.YNc(13,$,1,2,"quill-editor",10),e.qZA(),e.TgZ(14,"div",11)(15,"div",8),e._uU(16),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14),e._uU(20),e.TgZ(21,"textarea",15),e._uU(22),e.qZA()(),e.TgZ(23,"div",14),e._uU(24),e.TgZ(25,"textarea",15),e._uU(26),e.qZA()(),e.TgZ(27,"div",14),e._uU(28),e.TgZ(29,"textarea",15),e._uU(30),e.ALo(31,"date"),e.qZA()(),e.TgZ(32,"div",14),e._uU(33),e.TgZ(34,"textarea",15),e._uU(35),e.qZA()()(),e.TgZ(36,"div",16)(37,"div",17),e._uU(38),e.qZA(),e.YNc(39,W,2,3,"div",18),e.TgZ(40,"div",19),e.YNc(41,ee,3,2,"div",20),e.TgZ(42,"div",21),e.YNc(43,te,3,1,"button",22),e.YNc(44,oe,3,1,"button",23),e.qZA()(),e.TgZ(45,"div",24),e.YNc(46,ne,3,1,"div",25),e.TgZ(47,"div")(48,"button",26),e.NdJ("click",function(){return o.openRecordingDialog()}),e._uU(49),e.qZA()()()()()()()()()),2&t&&(e.xp6(4),e.hij(" ",null==o.story?null:o.story.title," "),e.xp6(1),e.Q6J("ngIf",null==o.story?null:o.story.createdWithPrompts),e.xp6(6),e.Oqu(o.ts.l.text),e.xp6(1),e.Q6J("ngIf",o.storyUpdated),e.xp6(1),e.Q6J("ngIf",o.story),e.xp6(3),e.Oqu(o.ts.l.information),e.xp6(4),e.hij("",o.ts.l.title," "),e.xp6(2),e.Oqu(null==o.story?null:o.story.title),e.xp6(2),e.hij("",o.ts.l.story_author," "),e.xp6(2),e.Oqu(null==o.story?null:o.story.author),e.xp6(2),e.hij("",o.ts.l.creation_date," "),e.xp6(2),e.Oqu(e.xi3(31,21,null==o.story?null:o.story.date,"dd/MM/yyyy, hh:mm aa")),e.xp6(3),e.hij("",o.ts.l.dialect," "),e.xp6(2),e.Oqu(null==o.story?null:o.story.dialect),e.xp6(3),e.Oqu(o.ts.l.feedback),e.xp6(1),e.Q6J("ngIf",o.story),e.xp6(2),e.Q6J("ngIf",o.story),e.xp6(2),e.Q6J("ngIf",!o.feedbackSent),e.xp6(1),e.Q6J("ngIf",o.feedbackSent),e.xp6(2),e.Q6J("ngIf",o.audioSource),e.xp6(3),e.Oqu(o.ts.l.audio_message))},dependencies:[p.O5,c.Fj,c.JJ,c.On,O.g6,p.uU],styles:[".contents{display:flex;padding-left:5%;padding-right:5%}.classContainer{display:inline-flex;flex-direction:column}.classHeader{justify-content:space-between;padding-right:10px}.closeFeedbackBtn:hover{cursor:pointer}.madeWithPrompts{color:#fff6;padding-left:5px}.storyClassBody{display:inline-flex;flex-direction:row;padding:5px;gap:1rem;flex-grow:1;overflow-y:scroll}.storyClassBody>*{flex:1}.storyTextContainer{display:inline-flex;flex-direction:column;background-color:var(--scealai-gray);border-radius:5px}.storyTextHeader{background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0;color:#fff;padding:4px;font-size:12pt}.refresh{float:right;padding:5px 10px 5px 5px}.refresh:hover{color:var(--scealai-light-green);cursor:pointer}.storyText{text-align:left;padding:4px;overflow:auto;white-space:pre-wrap;background-color:#fff;border-radius:5px;margin:8px;height:100%}.ql-toolbar.ql-snow{box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px;text-align:center}.ql-editor{background-color:#fff;z-index:1;font-size:14pt;font-family:Times New Roman,Times,serif}.storyInfoContainer{display:inline-flex;flex-direction:column;background-color:var(--scealai-gray);border-radius:5px}.storyInfoBody{display:inline-flex;flex-direction:column;margin:8px;overflow:auto;height:100%}.userInfoContainer{flex:.75}.userInfo{float:right;display:flex;align-items:center;padding-top:8px;width:100%;white-space:nowrap}.userInfoTextarea{width:100%}.feedbackContainer{background-color:#fff;border-radius:5px;display:flex;flex-direction:column;flex:2}.feedbackHeaderTeacherStory{width:100%;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0;color:#fff;padding:4px}.feedbackBody{padding:4px;text-align:left;overflow-y:scroll;height:100%}.feedbackTextarea{border:none;width:100%;resize:none;height:100%}.feedbackFooter{width:100%;display:flex;align-items:center;padding:4px;border-top:1px solid var(--scealai-gray);border-radius:5px;margin-top:auto}.seenByStudent{font-size:10pt;color:var(--scealai-light-gray);margin-left:4px}.sendFeedbackBtn{margin-left:auto}.feedbackBtnContainer{width:100%;display:flex;align-items:center;justify-content:center;padding-bottom:5px}.audioPlayer{height:32px;margin-top:7px}@keyframes blinker{0%{opacity:1}to{opacity:0}}@media only screen and (max-width: 1000px) and (max-height: 750px){.userInfo{font-size:12px}}\n",'.ql-editor{overflow-y:auto}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=times-new-roman]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=times-new-roman]:before{content:"Times New Roman";font-family:Times New Roman}.ql-font-times-new-roman{font-family:times new roman}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=arial]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=arial]:before{content:"Arial";font-family:arial}.ql-font-arial{font-family:arial}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=sans-serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=sans-serif]:before{content:"Sans Serif";font-family:"sans serif"}.ql-font-sans-serif{font-family:"sans serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace";font-family:"monospace"}.ql-font-monospace{font-family:"monospace"}\n'],encapsulation:2}),n})();const se=["rightDrawer"];function ie(n,i){if(1&n&&(e.TgZ(0,"mat-panel-description"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.hij(" ",o.studentStories[t.username].length," ")}}function re(n,i){1&n&&e._UZ(0,"i",17)}function ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"mat-divider"),e.TgZ(2,"div",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(3),d=e.MAs(5);return a.setStoryForFeedback(r),e.KtG(d.open())}),e.TgZ(3,"div",13),e._uU(4),e.qZA(),e.TgZ(5,"div",13),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"div",14),e.YNc(9,re,1,0,"i",16),e.qZA()()()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.xp6(2),e.uIk("id",t._id),e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(e.xi3(7,4,t.lastUpdated,"d/M/yy")),e.xp6(3),e.Q6J("ngIf",o.hasFeedback(t))}}function le(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",9),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.resetFeedbackDrawer())}),e.TgZ(2,"mat-panel-title",10),e._uU(3),e.qZA(),e.YNc(4,ie,2,1,"mat-panel-description",11),e.qZA(),e.TgZ(5,"div",12)(6,"div",13),e._uU(7),e.qZA(),e.TgZ(8,"div",13),e._uU(9),e.qZA(),e.TgZ(10,"div",14),e._uU(11,"Feedback given"),e.qZA()(),e.YNc(12,ae,10,7,"div",8),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(3),e.hij(" ",t.username," "),e.xp6(1),e.Q6J("ngIf",o.studentStories[t.username]),e.xp6(3),e.Oqu(o.ts.l.title),e.xp6(2),e.Oqu(o.ts.l.last_updated),e.xp6(3),e.Q6J("ngForOf",o.studentStories[t.username])}}function ce(n,i){if(1&n&&(e.TgZ(0,"mat-accordion",6)(1,"mat-expansion-panel",7)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," Student "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," Num. of stories "),e.qZA()()(),e.YNc(7,le,13,5,"mat-expansion-panel",8),e.qZA()),2&n){const t=e.oxw();e.Q6J("multi",!0),e.xp6(7),e.Q6J("ngForOf",t.students)}}function de(n,i){1&n&&(e.TgZ(0,"div",18),e._uU(1," Click on the 'Share Code' button to get the classroom code. Your students can use this code to join the classroom. "),e.qZA())}let pe=(()=>{class n{constructor(t,o,s){this.ts=t,this.userService=o,this.storyService=s,this.storyEmitter=new e.vpe,this.students=[],this.studentStories={},this.lastClickedStoryId=""}ngOnInit(){}ngOnChanges(t){this.getStudents()}getStudents(){var t=this;return(0,g.Z)(function*(){t.students=[];for(let o of t.classroom.studentIds)t.userService.getUserById(o).subscribe({next:function(){var s=(0,g.Z)(function*(r){t.students.push(r);let a=yield(0,_.z)(t.storyService.getStoriesForClassroom(r._id,t.classroom.date?.toString()));a.sort((d,m)=>d.lastUpdated>m.lastUpdated?-1:1),t.studentStories[r.username]=a||[]});return function(a){return s.apply(this,arguments)}}(),error:()=>{console.log(o+" does not exist")},complete:()=>{t.students.sort((s,r)=>s.username>r.username?1:-1)}})})()}setStoryForFeedback(t){this.storyEmitter.emit(t),this.storyForFeedback=t;let o=t._id,s=document.getElementById(o);s&&(this.lastClickedStoryId&&document.getElementById(this.lastClickedStoryId)&&document.getElementById(this.lastClickedStoryId).classList.remove("clickedresultCard"),this.lastClickedStoryId=o,s.classList.add("clickedresultCard"))}hasFeedback(t){return t.feedback.text||t.feedback.audioId}resetFeedbackDrawer(){this.lastClickedStoryId&&document.getElementById(this.lastClickedStoryId)&&document.getElementById(this.lastClickedStoryId).classList.remove("clickedresultCard"),this.rightDrawer.opened&&this.rightDrawer.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.D),e.Y36(v.K),e.Y36(Z.N))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-student-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(se,5),2&t){let s;e.iGM(s=e.CRH())&&(o.rightDrawer=s.first)}},inputs:{classroom:"classroom"},outputs:{storyEmitter:"storyEmitter"},features:[e.TTD],decls:7,vars:3,consts:[["autosize","",1,"studentListContainer"],[3,"multi",4,"ngIf","ngIfElse"],["noStudentsMessage",""],["mode","side","position","end",1,"rightDrawer",2,"width","80%"],["rightDrawer",""],[3,"story","closeFeedbackEmitter"],[3,"multi"],["disabled","",1,"expansionHeader",2,"cursor","pointer"],[4,"ngFor","ngForOf"],[3,"click"],[2,"font-weight","bolder"],[4,"ngIf"],[1,"storyListHeader"],[2,"flex","2"],[2,"flex","1"],[1,"storyEntry",3,"click"],["class","fas fa-check",4,"ngIf"],[1,"fas","fa-check"],[1,"noStudentsMessage"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-drawer-container",0),e.YNc(1,ce,8,2,"mat-accordion",1),e.YNc(2,de,2,0,"ng-template",null,2,e.W1O),e.TgZ(4,"mat-drawer",3,4)(6,"app-teacher-story",5),e.NdJ("closeFeedbackEmitter",function(){return o.resetFeedbackDrawer()}),e.qZA()()()),2&t){const s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.students.length>0)("ngIfElse",s),e.xp6(5),e.Q6J("story",o.storyForFeedback)}},dependencies:[p.sg,p.O5,y.jA,y.kh,T.pp,T.ib,T.yz,T.yK,T.u4,E,D,p.uU],styles:[".studentListContainer[_ngcontent-%COMP%]{height:100%;width:100%;padding:20px;overflow-y:scroll}.storyEntry[_ngcontent-%COMP%]{text-align:left;display:flex;padding:20px}.storyEntry[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#0000000a}.noStudentsMessage[_ngcontent-%COMP%]{font-size:20px;text-align:center;padding-top:100px}.clickedresultCard[_ngcontent-%COMP%]{background-color:#eee;font-weight:bolder;border-radius:10px}.expansionHeader[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px;text-decoration:underline}.mat-expansion-panel-header[aria-disabled=true][_ngcontent-%COMP%]{color:#000;font-weight:bolder}.storyListHeader[_ngcontent-%COMP%]{display:flex;padding:20px;font-weight:bolder;text-decoration:underline;text-align:left}"]}),n})();function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",12),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.updatedTitle=s)})("blur",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.updateClassroomTitle())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("size",t.updatedTitle.length),e.Q6J("ngModel",t.updatedTitle)}}function ge(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.goToStats())}),e._uU(1),e._UZ(2,"i",18),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.ts.l.stats," ")}}function _e(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.goToMessages())}),e._uU(1),e._UZ(2,"i",19),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.ts.l.messages," ")}}function he(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.goToDictogloss())}),e._uU(1),e._UZ(2,"i",20),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.ts.l.dictogloss," ")}}function me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",13)(2,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openCodeDialog())}),e._uU(3),e._UZ(4,"i",15),e.qZA(),e.YNc(5,ge,3,1,"div",16),e.YNc(6,_e,3,1,"div",16),e.YNc(7,he,3,1,"div",16),e.TgZ(8,"div",14),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToSettings())}),e._uU(9),e._UZ(10,"i",17),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.ts.l.share_code," "),e.xp6(2),e.Q6J("ngIf",t.classroom.studentIds.length>0),e.xp6(1),e.Q6J("ngIf",t.classroom.studentIds.length>0),e.xp6(1),e.Q6J("ngIf",t.classroom.studentIds.length>0),e.xp6(2),e.hij(" ",t.ts.l.settings," ")}}function fe(n,i){if(1&n&&(e.TgZ(0,"div",21),e._UZ(1,"app-student-list",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("classroom",t.classroom)}}function xe(n,i){1&n&&(e.TgZ(0,"div"),e._UZ(1,"grid-spinner"),e.qZA())}function ve(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Click on the '+' button below to create your first classroom! "),e.qZA())}function Te(n,i){if(1&n&&(e.YNc(0,xe,2,0,"div",6),e.YNc(1,ve,2,0,"div",23)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.classroomsLoaded),e.xp6(1),e.Q6J("ngIf",t.classroomsLoaded)}}let Ce=(()=>{class n{constructor(t,o,s,r){this.ts=t,this.classroomService=o,this.dialog=s,this.router=r,this.updatedTitle="",this.classroomsLoaded=!0}ngOnInit(){return(0,g.Z)(function*(){})()}setCurrentClassroom(t){this.classroom=t,this.classroom&&(this.updatedTitle=this.classroom.title)}updateClassroomTitle(){this.updatedTitle!=this.classroom.title&&(this.classroom.title=this.updatedTitle,this.classroomService.editTitle(this.classroom._id,this.classroom.title).subscribe({next:()=>{console.log("title updated")},error:()=>{alert("Not able to save new classroom title")}}))}openCodeDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.classroom_code,type:"classCode",data:this.classroom.code,confirmText:this.ts.l.done},width:"15vh"}),this.dialogRef.afterClosed().subscribe(()=>this.dialogRef=void 0)}goToMessages(){this.router.navigateByUrl("/messages/"+this.classroom._id)}goToStats(){this.router.navigateByUrl("/stats-dashboard/"+this.classroom._id)}goToSettings(){this.router.navigateByUrl("/teacher/teacher-settings/"+this.classroom._id)}goToDictogloss(){this.router.navigateByUrl("/teacher/teacher-dictogloss/"+this.classroom._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.D),e.Y36(x.u),e.Y36(C.uw),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-dashboard"]],decls:13,vars:5,consts:[["class","storyTitleHeader",4,"ngIf"],[1,"menuButton","material-symbols-outlined",3,"click"],["autosize","",1,"bodyContainer"],["mode","side",1,"storyListDrawer",3,"opened"],["classroomDrawer",""],[3,"classroomEmitter","titleUpdated","classroomsLoaded"],[4,"ngIf"],[1,"storyContainer",2,"display","flex","justify-content","center","align-items","center"],["class","studentListContainer",4,"ngIf","ngIfElse"],["newClassroomMessage",""],[1,"storyTitleHeader"],[1,"storyTitleContainer"],[1,"storyTitle",3,"size","ngModel","ngModelChange","blur"],[1,"teacherOptionsBtnContainer"],[1,"optionsBtn",3,"click"],[1,"fas","fa-share-alt","headerIcon"],["class","optionsBtn",3,"click",4,"ngIf"],[1,"fas","fa-cog","optionsBtnIcon"],[1,"fas","fa-calculator","optionsBtnIcon"],[1,"fa","fa-envelope","optionsBtnIcon"],[1,"fas","fa-file-audio","optionsBtnIcon"],[1,"studentListContainer"],[3,"classroom"],["class","newStoryMessage",4,"ngIf"],[1,"newStoryMessage"]],template:function(t,o){if(1&t){const s=e.EpF();e.YNc(0,ue,3,2,"div",0),e.TgZ(1,"span",1),e.NdJ("click",function(){e.CHM(s);const a=e.MAs(5);return e.KtG(a.toggle())}),e._uU(2,"menu"),e.qZA(),e.TgZ(3,"mat-drawer-container",2)(4,"mat-drawer",3,4)(6,"app-classroom-drawer",5,4),e.NdJ("classroomEmitter",function(a){return o.setCurrentClassroom(a)})("titleUpdated",function(a){return o.updatedTitle=a})("classroomsLoaded",function(a){return o.classroomsLoaded=a}),e.qZA()(),e.YNc(8,me,11,5,"div",6),e.TgZ(9,"div",7),e.YNc(10,fe,2,1,"div",8),e.YNc(11,Te,2,2,"ng-template",null,9,e.W1O),e.qZA()()}if(2&t){const s=e.MAs(12);e.Q6J("ngIf",o.classroom),e.xp6(4),e.Q6J("opened",!0),e.xp6(4),e.Q6J("ngIf",o.classroom),e.xp6(2),e.Q6J("ngIf",o.classroom)("ngIfElse",s)}},dependencies:[p.O5,c.Fj,c.JJ,c.On,y.jA,y.kh,P,pe],styles:['.storyTitleHeader[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:-30px}.storyTitleContainer[_ngcontent-%COMP%]{margin:auto;overflow:auto;font-size:20px;font-weight:bolder}.storyTitle[_ngcontent-%COMP%]{border:1px solid transparent;text-align:center;resize:none}.storyTitle[_ngcontent-%COMP%]:hover{border:1px solid;border-radius:5px}.teacherOptionsBtnContainer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:2rem}.teacherOptionsBtnContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-wrap:wrap;--options-btn-background-color-hover: lightgray;background-color:#fff;padding-left:30px;padding-right:30px}.optionsBtn[_ngcontent-%COMP%]{background-color:var(--scealai-yellow);border-style:none;color:#464444;margin:0;border-radius:2px;display:flex;align-items:center;padding:5px;background:rgba(223,217,200,0)}.optionsBtn[_ngcontent-%COMP%]:hover{background-color:var(--options-btn-background-color-hover);color:#35322f;cursor:pointer;border-radius:2}.optionsBtnIcon[_ngcontent-%COMP%]{margin-left:5px}.bodyContainer[_ngcontent-%COMP%]{width:100%;height:100%}.storyListDrawer[_ngcontent-%COMP%]{padding:40px;max-width:35%;height:100%}.storyContainer[_ngcontent-%COMP%]{height:100%}.studentListContainer[_ngcontent-%COMP%]{height:80vh;width:100%}.menuButton[_ngcontent-%COMP%]{float:left;padding:10px;transform:scale(1.5);z-index:100}.menuButton[_ngcontent-%COMP%]:hover{cursor:pointer}.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 48}.newStoryMessage[_ngcontent-%COMP%]{font-weight:bolder;max-width:200px;padding-top:50px;padding-bottom:50px;height:80vh;width:100%}']}),n})();var F=l(1245);function ye(n,i){if(1&n&&(e.TgZ(0,"span",16),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.unreadMessages)}}function be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToMessages())}),e._uU(1),e._UZ(2,"i",14),e.YNc(3,ye,2,1,"span",15),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.ts.l.messages," "),e.xp6(2),e.Q6J("ngIf",t.unreadMessages>0)}}function ke(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToStats())}),e._uU(1),e._UZ(2,"i",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij("",t.ts.l.stats," ")}}function Ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.goToDictgloss())}),e._uU(1),e._UZ(2,"i",18),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.ts.l.dictogloss," ")}}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.goToStudent(r._id))}),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"i",20),e._uU(4),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Oqu(t.username),e.xp6(2),e.hij(" ",o.numOfStories.get(t.username)," ")}}let Se=(()=>{class n{constructor(t,o,s,r,a,d,m,b){this.route=t,this.classroomService=o,this.router=s,this.userService=r,this.ts=a,this.messageService=d,this.storyService=m,this.dialog=b,this.students=[],this.registrationError=!1,this.unreadMessages=0,this.messagesForNotifications=[],this.numOfStories=new Map}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.classroom=yield(0,_.z)(t.classroomService.getClassroom(t.route.snapshot.params.id)),t.getStudents(),t.messageService.getMessagesForLoggedInUser().subscribe(o=>{t.messagesForNotifications=o,t.unreadMessages=t.messageService.getNumberOfUnreadMessagesForClass(t.messagesForNotifications,t.classroom.studentIds)})})()}getStudents(){var t=this;return(0,g.Z)(function*(){for(let o of t.classroom.studentIds)t.userService.getUserById(o).subscribe({next:function(){var s=(0,g.Z)(function*(r){t.students.push(r);let a=yield(0,_.z)(t.storyService.getNumberOfStories(r._id,t.classroom?.date?.toString()));t.numOfStories.set(r.username,a)});return function(a){return s.apply(this,arguments)}}(),error:()=>{console.log(o+" does not exist")}})})()}deleteClassroom(){this.classroomService.deleteClassroom(this.classroom._id).subscribe(t=>{this.router.navigateByUrl("/landing")})}goToStudent(t){this.router.navigateByUrl("/teacher/student/"+t)}goToMessages(){this.router.navigateByUrl("/messages/"+this.classroom._id)}goToStats(){this.router.navigateByUrl("/stats-dashboard/"+this.classroom._id)}goToSettings(){this.router.navigateByUrl("/teacher/teacher-settings/"+this.classroom._id)}goToDictgloss(){this.router.navigateByUrl("/teacher/teacher-dictogloss/"+this.classroom._id)}openCodeDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.classroom_code,type:"classCode",data:this.classroom.code,confirmText:this.ts.l.done},width:"15vh"}),this.dialogRef.afterClosed().subscribe(()=>this.dialogRef=void 0)}openDeleteClassroomDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.sure_you_want_to_delete_code,type:"simpleConfirm",confirmText:this.ts.l.delete,cancelText:this.ts.l.cancel},width:"50vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&this.deleteClassroom()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(x.u),e.Y36(u.F0),e.Y36(v.K),e.Y36(f.D),e.Y36(F.e),e.Y36(Z.N),e.Y36(C.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-classroom"]],decls:24,vars:9,consts:[[1,"contents"],[1,"classContainer"],[1,"classHeader"],["routerLink","/teacher/dashboard",1,"backArrow"],[1,"fas","fa-arrow-left"],[1,"headerIconContainer"],[1,"headerIconBtn",3,"click"],[1,"fas","fa-share-alt","headerIcon"],["class","headerIconBtn",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-cog","headerIcon"],[1,"fas","fa-trash-alt","headerIcon"],[1,"classroomKey"],[1,"classBody"],["class","classroomCard",3,"click",4,"ngFor","ngForOf"],[1,"fa","fa-envelope"],["class","notificationBtn",4,"ngIf"],[1,"notificationBtn"],[1,"fas","fa-calculator"],["aria-hidden","true",1,"fa","fa-file-audio","headerIcon"],[1,"classroomCard",3,"click"],[1,"fas","fa-arrow-right","arrow"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e.qZA(),e._uU(5),e.TgZ(6,"div",5)(7,"div",6),e.NdJ("click",function(){return o.openCodeDialog()}),e._uU(8),e._UZ(9,"i",7),e.qZA(),e.YNc(10,be,4,2,"div",8),e.YNc(11,ke,3,1,"div",8),e.YNc(12,Ze,3,1,"div",8),e.TgZ(13,"div",6),e.NdJ("click",function(){return o.goToSettings()}),e._uU(14),e._UZ(15,"i",9),e.qZA(),e.TgZ(16,"div",6),e.NdJ("click",function(){return o.openDeleteClassroomDialog()}),e._uU(17),e._UZ(18,"i",10),e.qZA()()(),e.TgZ(19,"div",11)(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"div",12),e.YNc(23,we,5,2,"div",13),e.qZA()()()),2&t&&(e.xp6(5),e.hij(" ",null==o.classroom?null:o.classroom.title," "),e.xp6(3),e.Oqu(o.ts.l.share_code),e.xp6(2),e.Q6J("ngIf",o.students.length>0),e.xp6(1),e.Q6J("ngIf",o.students.length>0),e.xp6(1),e.Q6J("ngIf",o.students.length>0),e.xp6(2),e.hij(" ",o.ts.l.settings," "),e.xp6(3),e.hij("",o.ts.l.delete," "),e.xp6(4),e.Oqu(o.ts.l.student_username),e.xp6(2),e.Q6J("ngForOf",o.students))},dependencies:[p.sg,p.O5,u.rH],styles:[".contents[_ngcontent-%COMP%]{display:flex;padding-left:5%;padding-right:5%}.notificationBtn[_ngcontent-%COMP%]{display:inline-flex}@media (max-width: 550px){.classHeader[_ngcontent-%COMP%], .headerIconBtn[_ngcontent-%COMP%]{font-size:10pt}}"]}),n})();function Me(n,i){1&n&&(e.TgZ(0,"span",13),e._uU(1,"s"),e.qZA())}function qe(n,i){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.YNc(2,Me,2,0,"span",12),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",null==t.student?null:t.student.username,"'"),e.xp6(1),e.Q6J("ngIf","s"!==(null==t.student?null:t.student.username[(null==t.student?null:t.student.username.length)-1])),e.xp6(1),e.hij("",t.ts.l.stories," ")}}function Ue(n,i){if(1&n&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.ts.l.stories," ",null==t.student?null:t.student.username," ")}}function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.goToStory(r._id))}),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"i",18),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,2,t.lastUpdated,"MMMM dd, yyyy h:mm aa")," ")}}function Ie(n,i){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,Ae,8,5,"div",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.stories)}}function Oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.goToStory(r._id))}),e.TgZ(1,"div",17),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"i",18),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(5,2,t.lastUpdated,"MMMM dd, yyyy h:mm aa")," ")}}function De(n,i){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,Oe,8,5,"div",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.storiesWithoutFeedback)}}let Fe=(()=>{class n{constructor(t,o,s,r,a,d){this.route=t,this.storyService=o,this.userService=s,this.router=r,this.ts=a,this.classroomService=d,this.storiesWithoutFeedback=[],this.viewNoFeedback=!1}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.student=yield(0,_.z)(t.userService.getUserById(t.route.snapshot.params.id)),t.classroom=yield(0,_.z)(t.classroomService.getClassroomOfStudent(t.student._id)),t.stories=yield(0,_.z)(t.storyService.getStoriesForClassroom(t.student._id,t.classroom.date?.toString())),t.stories.sort((o,s)=>o.lastUpdated>s.lastUpdated?-1:s.lastUpdated>o.lastUpdated?1:0),t.storiesWithoutFeedback=t.stories.filter(o=>null===o.feedback.text&&null===o.feedback.audioId)})()}goToStory(t){this.router.navigateByUrl("teacher/story/"+t.toString())}goBack(){this.router.navigateByUrl("teacher/classroom/"+this.classroom._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(Z.N),e.Y36(v.K),e.Y36(u.F0),e.Y36(f.D),e.Y36(x.u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-student"]],decls:20,vars:10,consts:[[1,"contentContainer"],[1,"classContainer"],[1,"classHeader"],[1,"backArrow",3,"click"],[1,"fas","fa-arrow-left"],["class","storyAuthor",4,"ngIf"],[1,"filter"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"classroomKey"],[1,"title"],["class","classBody",4,"ngIf"],[1,"storyAuthor"],["style","margin-right: 8px;",4,"ngIf"],[2,"margin-right","8px"],[1,"classBody"],["class","classroomCard",3,"click",4,"ngFor","ngForOf"],[1,"classroomCard",3,"click"],[1,"storyTitle"],[1,"fas","fa-arrow-right","arrow"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return o.goBack()}),e._UZ(4,"i",4),e.qZA(),e.YNc(5,qe,4,3,"span",5),e.YNc(6,Ue,2,2,"span",5),e.TgZ(7,"div",6),e._uU(8),e.qZA(),e.TgZ(9,"div")(10,"input",7),e.NdJ("ngModelChange",function(r){return o.viewNoFeedback=r}),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"div",8)(13,"div",9),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e._UZ(17,"div"),e.qZA(),e.YNc(18,Ie,2,1,"div",10),e.YNc(19,De,2,1,"div",10),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",o.ts.inEnglish()),e.xp6(1),e.Q6J("ngIf",o.ts.inIrish()),e.xp6(2),e.hij(" ",o.ts.l.filter_by,": "),e.xp6(2),e.Q6J("ngModel",o.viewNoFeedback),e.xp6(1),e.AsE(" ",o.ts.l.no_feedback_given," (",o.storiesWithoutFeedback.length,")"),e.xp6(3),e.Oqu(o.ts.l.title),e.xp6(2),e.hij(" ",o.ts.l.last_updated," "),e.xp6(2),e.Q6J("ngIf",!o.viewNoFeedback),e.xp6(1),e.Q6J("ngIf",o.viewNoFeedback))},dependencies:[p.sg,p.O5,c.Wl,c.JJ,c.On,p.uU],styles:[".storyAuthor[_ngcontent-%COMP%]{width:300px;text-align:left}.filter[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100px}.classroomKey[_ngcontent-%COMP%]{justify-content:space-between}.title[_ngcontent-%COMP%]{width:370px;text-align:left}.storyTitle[_ngcontent-%COMP%]{width:400px;text-align:left}.arrow[_ngcontent-%COMP%]{margin-left:auto}"]}),n})();var S=l(3546);function Je(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"i",16),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeStudent(r._id))}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.username)}}function Be(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" *",t.ts.l.dictogloss_required,". ")}}function Ye(n,i){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,Be,2,1,"div",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.newDictogloss.controls.passage.errors.required)}}function Pe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAllStudents())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.ts.l.select_all)}}function Ee(n,i){if(1&n&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" *",t.ts.l.choose_at_least_one_student," ")}}function je(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.selectAllStudents())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.ts.l.deselect_all)}}function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",19),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw();return e.KtG(r.updateSendList(s._id))}),e.TgZ(1,"b"),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.username)}}function He(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw();return e.KtG(r.updateSendList(s._id))}),e.TgZ(1,"b"),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.username)}}function Le(n,i){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,Qe,3,1,"mat-card",17),e.YNc(2,He,3,1,"mat-card",18),e.qZA()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",-1==o.sendTo.indexOf(t._id)),e.xp6(1),e.Q6J("ngIf",-1!=o.sendTo.indexOf(t._id))}}const ze=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",pathMatch:"full",component:Ce},{path:"classroom/:id",pathMatch:"full",component:Se},{path:"student/:id",pathMatch:"full",component:Fe},{path:"story/:id",pathMatch:"full",component:D},{path:"teacher-settings/:id",pathMatch:"full",component:(()=>{class n{constructor(t,o,s,r,a){this.route=t,this.ts=o,this.classroomService=s,this.dialog=r,this.userService=a,this.students=[],this.checkerSelection={anGramadoir:!0,relativeClause:!0,genitive:!0,broadSlender:!0,gaelSpell:!0},this.changesSaved=!0}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.classroom=yield(0,_.z)(t.classroomService.getClassroom(t.route.snapshot.params.id)),t.students=[];for(let s of t.classroom.studentIds)t.userService.getUserById(s).subscribe({next:r=>{t.students.push(r),t.students.sort((a,d)=>a.username.toLowerCase().localeCompare(d.username.toLowerCase()))},error:()=>console.log(s+" does not exist")});let o=yield(0,_.z)(t.classroomService.getClassroomCheckers(t.classroom._id));if(o.length>0)for(const s in t.checkerSelection)t.checkerSelection[s]=!!o.includes(s)})()}openUpdateClassroomDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.edit_classroom_title,type:"updateText",confirmText:this.ts.l.save,cancelText:this.ts.l.cancel},width:"50vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&this.classroomService.editTitle(this.classroom._id,t[0]).subscribe(()=>{this.ngOnInit()},s=>{alert(s)})})}openInformationDialog(){this.dialogRef=this.dialog.open(h.p,{data:{title:"Grammar Checkers",type:"simpleMessage",message:`\n        <p><h5> An Gramadoir:</h5> ${this.ts.l.an_gramadoir_description}</p><br>\n        <p><h5>${this.ts.l.relative_clause_checker}:</h5> ${this.ts.l.relative_clause_checker_description} </p><br>\n        <p><h5>${this.ts.l.genitive_checker}:</h5> ${this.ts.l.genitive_checker_description} </p><br>\n        <p><h5>${this.ts.l.broad_slender_checker}:</h5> ${this.ts.l.broad_slender_checker_description} </p><br>\n        <p><h5> GaelSpell:</h5> ${this.ts.l.gael_spell_description} </p>\n        `,confirmText:this.ts.l.done},width:"80vh"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0})}removeStudent(t){this.dialogRef=this.dialog.open(h.p,{data:{title:this.ts.l.want_to_remove_student_from_class,confirmText:this.ts.l.delete,cancelText:this.ts.l.cancel},width:"50vh"}),this.dialogRef.afterClosed().subscribe(o=>{this.dialogRef=void 0,o&&this.classroomService.removeStudentFromClassroom(this.classroom._id,t).subscribe(()=>{this.ngOnInit()})})}updateCheckers(){var t=this;return(0,g.Z)(function*(){let o=[];for(const s in t.checkerSelection)t.checkerSelection[s]&&o.push(s);yield(0,_.z)(t.classroomService.setClassroomCheckers(t.classroom._id,o)),t.changesSaved=!0})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(f.D),e.Y36(x.u),e.Y36(C.uw),e.Y36(v.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-settings"]],decls:36,vars:14,consts:[[1,"contents"],[1,"classContainer"],[1,"classHeader"],["routerLink","/teacher/dashboard",1,"backArrow"],[1,"fas","fa-arrow-left"],[1,"classTitle"],[1,"fas","fa-edit","headerIconBtn",3,"click"],[1,"sectionTitle"],[1,"classBody"],["class","classCard",4,"ngFor","ngForOf"],[2,"text-align","left","margin-left","5%","padding-bottom","10px"],[1,"checkBoxes"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"saveBtn"],[1,"greenBtn",3,"click"],[1,"classCard"],["aria-hidden","true",1,"fa","fa-times","deleteX",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",5)(7,"h2"),e._uU(8),e.qZA(),e.TgZ(9,"i",6),e.NdJ("click",function(){return o.openUpdateClassroomDialog()}),e.qZA()(),e.TgZ(10,"h5",7),e._uU(11),e.qZA(),e.TgZ(12,"mat-card")(13,"div",8),e.YNc(14,Je,4,1,"div",9),e.qZA()(),e.TgZ(15,"h5",7),e._uU(16),e.qZA(),e.TgZ(17,"mat-card")(18,"h6",10),e._uU(19),e.qZA(),e.TgZ(20,"div",11)(21,"span")(22,"input",12),e.NdJ("ngModelChange",function(r){return o.checkerSelection.anGramadoir=r})("ngModelChange",function(){return o.changesSaved=!1}),e.qZA(),e._uU(23," An Gramadoir"),e.qZA(),e.TgZ(24,"span")(25,"input",12),e.NdJ("ngModelChange",function(r){return o.checkerSelection.relativeClause=r})("ngModelChange",function(){return o.changesSaved=!1}),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"span")(28,"input",12),e.NdJ("ngModelChange",function(r){return o.checkerSelection.genitive=r})("ngModelChange",function(){return o.changesSaved=!1}),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"span")(31,"input",12),e.NdJ("ngModelChange",function(r){return o.checkerSelection.broadSlender=r})("ngModelChange",function(){return o.changesSaved=!1}),e.qZA(),e._uU(32),e.qZA()(),e.TgZ(33,"div",13)(34,"button",14),e.NdJ("click",function(){return o.updateCheckers()}),e._uU(35),e.qZA()()()()()),2&t&&(e.xp6(5),e.hij(" ",o.ts.l.classrooms,""),e.xp6(3),e.hij(" ",null==o.classroom?null:o.classroom.title," "),e.xp6(3),e.hij(" ",o.ts.l.students_enrolled," "),e.xp6(3),e.Q6J("ngForOf",o.students),e.xp6(2),e.hij(" ",o.ts.l.grammar_checker_options," "),e.xp6(3),e.hij(" ",o.ts.l.select_which_grammar_checker_for_students_to_use,". "),e.xp6(3),e.Q6J("ngModel",o.checkerSelection.anGramadoir),e.xp6(3),e.Q6J("ngModel",o.checkerSelection.relativeClause),e.xp6(1),e.hij(" ",o.ts.l.relative_clause_checker,""),e.xp6(2),e.Q6J("ngModel",o.checkerSelection.genitive),e.xp6(1),e.hij(" ",o.ts.l.genitive_checker,""),e.xp6(2),e.Q6J("ngModel",o.checkerSelection.broadSlender),e.xp6(1),e.hij(" ",o.ts.l.broad_slender_checker,""),e.xp6(3),e.hij(" ",o.changesSaved?o.ts.l.saved:o.ts.l.save," "))},dependencies:[p.sg,u.rH,c.Wl,c.JJ,c.On,S.a8],styles:[".contents[_ngcontent-%COMP%]{display:flex;padding-left:5%;padding-right:5%}.classTitle[_ngcontent-%COMP%]{padding-top:20px;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:.5rem}.sectionTitle[_ngcontent-%COMP%]{text-align:left;margin-left:5%;font-weight:700;padding-bottom:10px;padding-top:20px}mat-card[_ngcontent-%COMP%]{width:90%;margin-left:5%;max-height:50vh;overflow-y:scroll}.classBody[_ngcontent-%COMP%]{max-height:25vh}.classCard[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding:8px;color:#fff;font-size:14pt;background-color:var(--scealai-med-brown);border-radius:5px;margin-top:5px}.deleteX[_ngcontent-%COMP%]:hover{color:var(--orange-text);background-color:var(--scealai-med-brown-hover);transition:color,background-color,.5s;cursor:pointer}.checkBoxes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;flex-wrap:wrap;margin-left:5%;margin-right:5%;gap:1rem}input[_ngcontent-%COMP%]:hover{cursor:pointer}.saveBtn[_ngcontent-%COMP%]{text-align:right;margin-right:5%;padding-top:20px}@media (max-width: 550px){.classHeader[_ngcontent-%COMP%], .headerIconBtn[_ngcontent-%COMP%]{font-size:10pt}}"]}),n})()},{path:"teacher-dictogloss/:id",pathMatch:"full",component:(()=>{class n{constructor(t,o,s,r,a,d,m,b){this.ts=t,this.auth=o,this.classroomService=s,this.userService=r,this.router=a,this.route=d,this.fb=m,this.messageService=b,this.students=[],this.sendTo=[],this.allStudentsSelected=!0,this.createDictoglosForm()}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.classroom=yield(0,_.z)(t.classroomService.getClassroom(t.route.snapshot.params.id));for(let o of t.classroom.studentIds)t.userService.getUserById(o).subscribe({next:s=>{t.students.push(s),t.sendTo.push(o)},error:()=>console.log(o+" does not exist")})})()}createDictoglosForm(){this.newDictogloss=this.fb.group({passage:["",c.kI.required]})}sendDictogloss(){var t=this;return(0,g.Z)(function*(){if(t.sendTo.length>0&&""!==t.newDictogloss.controls.passage.value){let o=t.newDictogloss.get("passage").value;console.log(o),console.log(t.sendTo);let s={subject:"Dictogloss",date:new Date,senderId:t.auth.getUserDetails()._id,senderUsername:t.auth.getUserDetails().username,text:o,seenByRecipient:!1};for(let r of t.sendTo)yield(0,_.z)(t.messageService.saveMessage(s,r));t.goToDashboard()}})()}selectAllStudents(){this.allStudentsSelected=!this.allStudentsSelected,this.sendTo=[],this.allStudentsSelected&&this.students.forEach(t=>this.sendTo.push(t._id)),console.log("All students selected/deselected: ",this.sendTo)}updateSendList(t){this.sendTo.includes(t)?this.sendTo.splice(this.sendTo.indexOf(t),1):this.sendTo.push(t)}goToDashboard(){this.router.navigateByUrl("teacher/dashboard")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.D),e.Y36(w.$),e.Y36(x.u),e.Y36(v.K),e.Y36(u.F0),e.Y36(u.gz),e.Y36(c.qu),e.Y36(F.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teacher-dictogloss"]],decls:25,vars:12,consts:[[1,"container"],[3,"formGroup"],["novalidate","",1,"formGroup"],[2,"display","flex","justify-content","center"],["spellcheck","false","id","textSelector","data-cy","passage","formControlName","passage","rows","4","maxlength","2000",1,"textarea",3,"placeholder"],["class","validationAlert",4,"ngIf"],[1,"select"],["class","button selectAll",3,"click",4,"ngIf","ngIfElse"],["deselected",""],[1,"classroomCluster"],["class","studentCard",4,"ngFor","ngForOf"],[2,"margin-top","8px"],[1,"button",3,"click"],[1,"validationAlert"],[4,"ngIf"],[1,"button","selectAll",3,"click"],[1,"studentCard"],["class","button deselected",3,"click",4,"ngIf"],["class","button selected",3,"click",4,"ngIf"],[1,"button","deselected",3,"click"],[1,"button","selected",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA(),e.TgZ(5,"h5"),e._uU(6),e.qZA(),e.TgZ(7,"form",1)(8,"div",2)(9,"div",3)(10,"textarea",4),e._uU(11,"                "),e.qZA()(),e.YNc(12,Ye,2,1,"div",5),e.qZA()(),e.TgZ(13,"div",6),e.YNc(14,Pe,2,1,"button",7),e.YNc(15,Ee,2,1,"div",5),e.YNc(16,je,2,1,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(18,"div",9),e.YNc(19,Le,3,2,"div",10),e.qZA(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){return o.goToDashboard()}),e._uU(22),e.qZA(),e.TgZ(23,"button",12),e.NdJ("click",function(){return o.sendDictogloss()}),e._uU(24),e.qZA()()()),2&t){const s=e.MAs(17);e.xp6(2),e.Oqu(o.ts.l.teacher_send_dictogloss),e.xp6(2),e.Oqu(o.ts.l.teacher_send_dictogloss_info),e.xp6(2),e.Oqu(o.ts.l.dictogloss_char_limit),e.xp6(1),e.Q6J("formGroup",o.newDictogloss),e.xp6(3),e.s9C("placeholder",o.ts.l.dictogloss_type_story),e.xp6(2),e.Q6J("ngIf",o.newDictogloss.controls.passage.invalid&&(o.newDictogloss.controls.passage.dirty||o.newDictogloss.controls.passage.touched)),e.xp6(2),e.Q6J("ngIf",!o.allStudentsSelected)("ngIfElse",s),e.xp6(1),e.Q6J("ngIf",!(o.sendTo.length>0)),e.xp6(4),e.Q6J("ngForOf",o.students),e.xp6(3),e.Oqu(o.ts.l.go_to_dashboard),e.xp6(2),e.Oqu(o.ts.l.teacher_send_dictogloss)}},dependencies:[p.sg,p.O5,c._Y,c.Fj,c.JJ,c.JL,c.nD,S.a8,c.sg,c.u],styles:[".container[_ngcontent-%COMP%]{width:90%;background-color:#fff;border-radius:4px;padding-top:20px;padding-bottom:20px;box-shadow:-1px 5px 32px 10px #0003;animation-duration:1s;animation-name:fadeIn}.studentCard[_ngcontent-%COMP%]{width:100%;justify-content:center;display:inline-block;background-color:#fff;align-items:center;padding:8px;font-size:14pt;border-radius:5px;margin-top:5px}.studentCard[_ngcontent-%COMP%]:hover{cursor:pointer}.textarea[_ngcontent-%COMP%]{width:90%;resize:none;border-style:solid;border-radius:4px;padding:4px}.classroomCluster[_ngcontent-%COMP%]{padding:4px;justify-content:center;display:inline-block}.button[_ngcontent-%COMP%]{border-color:#0000001a;border-radius:8px;border-width:1px;letter-spacing:1px;background-color:#7e76761a;margin:4px}.button[_ngcontent-%COMP%]:hover{background-color:#2ee59d;box-shadow:0 15px 20px #2ee59d66;color:#fff;transform:translateY(-2px)}.select[_ngcontent-%COMP%]{margin-top:16px}.button.selectAll[_ngcontent-%COMP%]{border-width:2px;border-color:#00000080}.button.deselected[_ngcontent-%COMP%]{background-color:#e52e2e;color:#fff}.button.selected[_ngcontent-%COMP%]{background-color:#2ee59d;color:#fff}.validationAlert[_ngcontent-%COMP%]{color:red}@keyframes fadeIn{0%{opacity:0%;transform:translateY(100px) scale(.9)}to{opacity:100%;transform:translateY(0) scale(1)}}@keyframes fadeInButton{0%{opacity:0%}to{opacity:100%}}"]}),n})()}];let Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(ze),u.Bz]}),n})(),Ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Re,c.u5,S.QW,y.SJ,q.Ps,U.ot,k.Tx,T.To,j,c.UX,O.fi.forRoot({customOptions:[{import:"formats/font",whitelist:["sans-serif","serif","monospace","arial","times-new-roman"]}]})]}),n})()}}]);