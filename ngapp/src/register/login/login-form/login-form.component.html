<div class="formTitle">
  {{ts.l.sign_in}}
</div>
<br>
<div class="formContainer">
  <form (submit)="login()">
    <div class="form-group">
      <div class="formLabel">
        <label>{{ts.l.username}}</label>
      </div>
      <input
          type="text"
          class="form-control inputField"
          placeholder="{{ts.l.enter_username}}"
          name="username"
          [(ngModel)]="credentials.username">
    </div>
    <div class="form-group">
      <div class="formLabel">
        <label>{{ts.l.password}}</label>
      </div>
      <input
        type="password"
        class="form-control inputField" 
        placeholder="{{ts.l.enter_password}}"
        name="password"
        [(ngModel)]="credentials.password">
      <div
        class="forgotPassword" 
        (click)="router.navigateByUrl('forgot-password')"
      >
        {{ts.l.forgot_password}}
      </div>
      <br>
    </div>

    <!-- Verify the user's email address if they have not yet been verified -->
    <div class="form-group" *ngIf="userHasNotBeenVerified && !verificationEmailHasBeenSent">
      <div
        class="formLabel"
      >
        <label>
          {{ts.l.email}}
        </label>
      </div>
      <input 
        type="text"
        name="email"
        class="form-control inputField"
        placeholder="mise@gmail.com"
        name="email"
        [(ngModel)]="emailToVerify"
      >
      <br>
      <button (click)="verifyOldAccount" class="btn loginBtn">
        {{ts.l.verify_email_address}}
      </button>
    </div>
    <button
      class="btn loginBtn"
      *ngIf="!userHasNotBeenVerified || verificationEmailHasBeenSent"
    >
      {{ts.l.sign_in}}
    </button>
    <div 
      *ngFor="let errorMsgKey of errorMsgKeys" 
      class="errorMessage"
      style="margin-left: 10%; margin-right: 10%;"
    >
      {{ ts.l[errorMsgKey] ? ts.l[errorMsgKey] : errorMsgKey}}
    </div>
  </form>
</div>
