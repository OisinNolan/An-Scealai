<!--Irish Language support probably wrong(I used google translate)-->
<div>
    <div class="container">
        <div class="header">
            {{ts.l.gp_dropdown}}
        </div>
        <div>
            <p>{{ts.l.gp_explanation}}</p>
        </div>
        <!--Choose Level-->
        <div class="button-div">
            <button class="button" (click)="randomPrompt(data)">{{ts.l.sep_get_prompt}}</button>
        </div>
        <!--Prompt-->
        <div class="prompt-box" *ngIf="promptExists; else noPrompt">
            <i class="prompt">{{prompt}}</i>
            <form [formGroup]="newStoryForm">
                <!--Form input-->
                <div>
                    <div class="formGroup" novalidate>
                    <p class="formLabel">{{ts.l.pos_save_name}}</p>
                    <input
                        data-cy=title
                        type="text"
                        class="titleInput"
                        formControlName="title"
                        maxLength="35">
                        <!-- Select dialect -->
                        <div class="formGroup">
                            <p class="formLabel">{{ts.l.dialect}}</p>
                                <select formControlName="dialect" class="dialectSelect">
                                    <option value="connemara">{{ts.l.connacht}}</option>
                                    <option value="donegal">{{ts.l.ulster}}</option>
                                    <option value="kerry">{{ts.l.munster}}</option>                  
                                </select>
                        </div>
                    <!--Save story button--> 
                    <div class="confirmation-button">
                        <button data-cy=create-story
                        type="submit" 
                        (click)="gpAddNewStory(newStoryForm.controls['title'].value, 
                        newStoryForm.controls['dialect'].value, this.prompt)" 
                        [disabled]="newStoryForm.pristine || newStoryForm.invalid" 
                        class="button">{{ts.l.pos_save_to_stories}}</button>
                    </div>
                </div>
                <!-- check for invalid title -->
                <div *ngIf="newStoryForm.controls['title'].invalid && 
                (newStoryForm.controls['title'].dirty || newStoryForm.controls['title'].touched)" 
                class="validationAlert">
                    <div *ngIf="newStoryForm.controls['title'].errors.required">
                        *{{ts.l.title_required}}.
                    </div>
                </div>
                </div>
            </form>
        </div>
        <!--No Prompt-->
        <ng-template #noPrompt>
            <div *ngIf="promptExists === false" class="prompt">
                {{ts.l.sep_no_prompt}}
            </div>
        </ng-template>
    </div>
</div>