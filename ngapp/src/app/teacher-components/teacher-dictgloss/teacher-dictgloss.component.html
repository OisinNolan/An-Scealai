<div class="container">
    <h1>{{ts.l.teacher_send_dictgloss}}</h1>
    <p>{{ts.l.teacher_send_dictgloss_info}}</p>
    <form [formGroup]="newStoryForm">
        <div class="formGroup" novalidate>
            <input
            data-cy=passage
            type="text"
            class="passageInput"
            formControlName="passage"
            maxLength="35"/>
            <!-- check for invalid passage -->
            <div 
                *ngIf="newStoryForm.controls['passage'].invalid && 
                (newStoryForm.controls['passage'].dirty || newStoryForm.controls['passage'].touched)" 
                class="validationAlert">
                <div *ngIf="newStoryForm.controls['passage'].errors.required">
                    *{{ts.l.dictgloss_required}}.
                </div>
            </div>
        </div>
    </form>
    <div style="margin-top: 8px;">
        <button class="backButton" (click)="goToDashboard()">{{ts.l.teacher_go_to_dashboard}}</button>
        <button class="backButton" (click)="sendDictgloss()">{{ts.l.teacher_send_dictgloss}}</button>
    </div>
    <div class="select">
        <button class="selectButton" *ngIf="!allSelected; else deselected;" (click)="selectAllStudents();">{{ts.l.teacher_selected}}</button>
        <div class="validationAlert" *ngIf="!(sendTo.length > 0) && noStudents">
            *{{ts.l.teacher_error_dictgloss}}
        </div>
        <ng-template #deselected>
            <button class="selectButton"(click)="selectAllStudents();">{{ts.l.teacher_deselected}}</button>
        </ng-template>
    </div>
    <div class="classroomCluster">
        <div class="classroomCard" *ngFor="let student of students">
            <button *ngIf="sendTo.indexOf(student._id) == -1;" class="headerIconBtnNotSelected" (click)="sendList(student._id);"><b>{{student.username}}</b></button>
            <button *ngIf="sendTo.indexOf(student._id) != -1;" class="headerIconBtnSelected" (click)="sendList(student._id);"><b>{{student.username}}</b></button>
        </div>
    </div>
</div>