(self.webpackChunkan_scealai=self.webpackChunkan_scealai||[]).push([[565],{6565:(yr,Cn,T)=>{"use strict";T.r(Cn),T.d(Cn,{AdminModule:()=>vu});var H=T(6895),$=T(4006),xe=T(1390),Oe=T(8977),e=T(4650);let wn=(()=>{class n{constructor(t){this.ts=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-dashboard"]],decls:21,vars:3,consts:[[1,"content"],[1,"adminTitle"],[1,"buttonContainer"],[1,"buttonRow"],["routerLink","teachers",1,"adminBtnContainer"],["routerLink","find-user",1,"adminBtnContainer"],[1,"adminBtnContainer"],["href","https://analytics.google.com/analytics/web/?authuser=2#/report-home/a178889778w247370276p229672953","target","_blank",1,"adminBtnContainer",2,"text-decoration","none"],["routerLink","database-stats",1,"adminBtnContainer"],["routerLink","profile-stats",1,"adminBtnContainer"],["routerLink","feature-stats",1,"adminBtnContainer"],["routerLink","add-content",1,"adminBtnContainer"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.qZA(),e.TgZ(9,"div",6)(10,"a",7),e._uU(11," Google Analytics "),e.qZA()()(),e.TgZ(12,"div",3)(13,"div",8),e._uU(14," DB Stats "),e.qZA(),e.TgZ(15,"div",9),e._uU(16," Profile Stats "),e.qZA(),e.TgZ(17,"div",10),e._uU(18," Feature Stats "),e.qZA(),e.TgZ(19,"div",11),e._uU(20," Add Content "),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",a.ts.l.admin_dashboard," "),e.xp6(4),e.hij(" ",a.ts.l.teachers," "),e.xp6(2),e.hij(" ",a.ts.l.find_user," "))},dependencies:[xe.rH],styles:[".content[_ngcontent-%COMP%]{width:90%;margin-left:5%;height:72vh;background-color:#fff;border-radius:5px;box-shadow:-1px 5px 32px 10px #0003}.adminTitle[_ngcontent-%COMP%]{font-size:20pt;height:6vh;display:flex;align-items:center;justify-content:center;color:#fff;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0}.buttonContainer[_ngcontent-%COMP%]{padding:10%;padding-top:25vh;align-items:center;justify-content:center;overflow:auto;flex-wrap:wrap}.buttonRow[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:5px;flex-wrap:wrap}.adminBtnContainer[_ngcontent-%COMP%]{width:150px;height:80px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16pt;background-color:var(--scealai-med-brown);margin:5px;border-radius:5px}.adminBtnContainer[_ngcontent-%COMP%]:hover{color:var(--orange-text);background-color:var(--scealai-med-brown-hover);transition:color,background-color,.5s;cursor:pointer}@media (max-width: 550px){.content[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;padding-left:5%;padding-right:5%;margin-top:0vh}.adminBtnContainer[_ngcontent-%COMP%]{width:90%;height:80px;padding:10px}}"]}),n})();var Tn=T(1042),ke=T(4186),ct=T(4633),$e=T(529),Sn=T(5412);function Ct(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e._uU(1),e.TgZ(2,"i",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDeleteCodeDialog(r.code))}),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.code," ")}}function Zn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.goToUser(r._id))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.username," ")}}let Ci=(()=>{class n{constructor(t,a,o,r){this.http=t,this.router=a,this.ts=o,this.dialog=r,this.copiedTextClass="hidden",this.baseUrl=ke.Z.baseurl}ngOnInit(){this.getActiveTeacherCodes(),this.getTeachers()}generateCode(){this.teacherCode=(0,Tn.Z)(),this.http.post(this.baseUrl+"teacherCode/create",{code:this.teacherCode}).subscribe(a=>{this.getActiveTeacherCodes()})}getActiveTeacherCodes(){this.http.get(this.baseUrl+"teacherCode/activeCodes").subscribe(t=>{this.activeTeacherCodes=t})}getTeachers(){this.http.get(this.baseUrl+"user/teachers").subscribe(t=>{this.teachers=t})}deleteTeacherCode(){null!=this.codeToDelete&&this.http.get(this.baseUrl+"teacherCode/delete/"+this.codeToDelete).subscribe(t=>{this.getActiveTeacherCodes()})}copyToClipboard(){document.addEventListener("copy",t=>{t.clipboardData.setData("text/plain",this.teacherCode.toString()),t.preventDefault(),document.removeEventListener("copy",null)}),document.execCommand("copy"),this.copiedTextClass="visible",setTimeout(()=>this.copiedTextClass="hiddenFade",1e3)}openDeleteCodeDialog(t){this.codeToDelete=t,this.dialogRef=this.dialog.open(ct.p,{data:{title:this.ts.l.sure_you_want_to_delete_code,confirmText:this.ts.l.delete,cancelText:this.ts.l.cancel},width:"50%"}),this.dialogRef.afterClosed().subscribe(a=>{this.dialogRef=void 0,a&&this.deleteTeacherCode()})}goToUser(t){this.router.navigateByUrl("admin/user/"+t.toString())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($e.eN),e.Y36(xe.F0),e.Y36(Oe.D),e.Y36(Sn.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-teachers"]],decls:23,vars:11,consts:[[1,"adminContent"],[1,"generateCodeTitle"],[1,"teacherCodeTitle"],[1,"teacherCodeButton",3,"click"],[1,"teacherCodeDisplay"],["readonly","",1,"teacherCodeTextarea"],[1,"far","fa-copy","copyIcon",3,"click"],[1,"teacherAccountsContainer"],[1,"teacherAccountsDisplay"],[1,"teacherAccountsHeader"],[1,"teacherAccountsBody"],["class","activeTeacherCodeContainer",4,"ngFor","ngForOf"],["class","activeTeacherCodeContainer whiteBtn",3,"click",4,"ngFor","ngForOf"],[1,"activeTeacherCodeContainer"],["aria-hidden","true",1,"fa","fa-times","greenBtn",3,"click"],[1,"activeTeacherCodeContainer","whiteBtn",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return a.generateCode()}),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"textarea",5),e._uU(8),e.qZA(),e.TgZ(9,"i",6),e.NdJ("click",function(){return a.copyToClipboard()}),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9),e._uU(15),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,Ct,3,1,"div",11),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9),e._uU(20),e.qZA(),e.TgZ(21,"div",10),e.YNc(22,Zn,2,1,"div",12),e.qZA()()()()),2&t&&(e.xp6(3),e.Oqu(a.ts.l.teacher_account_code),e.xp6(2),e.Oqu(a.ts.l.generate),e.xp6(3),e.Oqu(a.teacherCode),e.xp6(2),e.Gre("",a.copiedTextClass," copiedText"),e.xp6(1),e.hij("",a.ts.l.copied,"!"),e.xp6(4),e.hij(" ",a.ts.l.active_account_codes," "),e.xp6(2),e.Q6J("ngForOf",a.activeTeacherCodes),e.xp6(3),e.hij(" ",a.ts.l.teacher_accounts," "),e.xp6(2),e.Q6J("ngForOf",a.teachers))},dependencies:[H.sg],styles:[".adminContent[_ngcontent-%COMP%]{flex-direction:column}.generateCodeTitle[_ngcontent-%COMP%]{font-size:14pt;display:flex;justify-content:center}.teacherCodeTitle[_ngcontent-%COMP%]{padding:5px}.teacherCodeButton[_ngcontent-%COMP%]{background-color:var(--scealai-green);color:#fff;padding:5px 10px;margin-left:10px;border-radius:5px}.teacherCodeButton[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--scealai-dark-green)}.teacherCodeDisplay[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:2vh}.teacherCodeTextarea[_ngcontent-%COMP%]{width:40%;height:30px;font-size:12pt;resize:none;background-color:#d1d1d1;border:none;border-radius:5px 0 0 5px}.copyIcon[_ngcontent-%COMP%]{background-color:var(--scealai-green);color:#fff;width:30px;height:30px;padding:4px;font-size:16pt;border-radius:0 5px 5px 0}.copyIcon[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--scealai-dark-green)}.copiedText[_ngcontent-%COMP%]{margin-left:10px;color:var(--scealai-green)}.teacherAccountsContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:80%;margin-left:10%}.teacherAccountsDisplay[_ngcontent-%COMP%]{margin-top:4vh;width:40%;height:45vh;background-color:#d1d1d1;border-radius:0 0 5px 5px}.teacherAccountsHeader[_ngcontent-%COMP%]{font-size:14pt;height:4vh;display:flex;align-items:center;justify-content:center;color:#fff;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0}.teacherAccountsBody[_ngcontent-%COMP%]{padding:10px 10px 0;text-align:left;overflow:auto;height:40vh}.activeTeacherCodeContainer[_ngcontent-%COMP%]{background-color:#fff;padding:5px;border-radius:5px;margin-bottom:10px;font-size:11pt}.greenBtn[_ngcontent-%COMP%]{color:var(--scealai-dark-green);font-size:12pt;padding:5px;float:right;margin-top:-2px}.greenBtn[_ngcontent-%COMP%]:hover{cursor:pointer;font-size:14pt;padding:4px}.whiteBtn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--scealai-med-brown-hover);cursor:pointer}.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0}.hiddenFade[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .3s,opacity .3s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible;opacity:1}"]}),n})();var Ti=T(8443),lt=T(8386),wt=T(7579),Tt=T(8372),Ne=T(1884),Wt=T(9121);function Si(n,i){if(1&n&&(e.TgZ(0,"div",5)(1,"b"),e._uU(2),e.qZA(),e._UZ(3,"grid-spinner"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ts.l.compiling_data)}}function Zi(n,i){if(1&n&&(e.TgZ(0,"div",21)(1,"div",22),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&n){const t=i.$implicit,a=e.oxw(3);e.MGl("routerLink","../user/",t._id,""),e.xp6(1),e.Q6J("searchedWord",a.searchText)("content",t.username)("classToApply","font-weight-bold")("setTitle","true"),e.xp6(1),e.hij(" ",t.username,""),e.xp6(2),e.Oqu(t.role)}}function Di(n,i){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,Zi,5,7,"div",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.userResults)}}function at(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," Type above to search for users. "),e.qZA())}function Ai(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," No usernames match the string entered above. "),e.qZA())}function St(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div"),e._uU(3," Include: "),e.qZA(),e.TgZ(4,"div",8)(5,"input",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.roleFilter.STUDENT=o)}),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"div",8)(8,"input",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.roleFilter.TEACHER=o)}),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"div",8)(11,"input",9),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.roleFilter.ADMIN=o)}),e.qZA(),e._uU(12),e.qZA()(),e.TgZ(13,"div",10)(14,"div")(15,"div",11)(16,"label",12),e._uU(17),e.qZA(),e.TgZ(18,"div",13)(19,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.searchModelChanged.next(o))}),e.qZA(),e.TgZ(20,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.currentPage=0,e.KtG(o.searchUsers())}),e._uU(21,"Search"),e.qZA()()()()(),e.TgZ(22,"div")(23,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goPrevPage())}),e._uU(24,"<"),e.qZA(),e._uU(25),e.TgZ(26,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goNextPage())}),e._uU(27,">"),e.qZA()(),e.TgZ(28,"div",16),e._uU(29),e.qZA(),e.YNc(30,Di,2,1,"div",17),e.YNc(31,at,2,0,"div",18),e.YNc(32,Ai,2,0,"div",18),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.roleFilter.STUDENT),e.xp6(1),e.hij(" ",t.ts.l.students,""),e.xp6(2),e.Q6J("ngModel",t.roleFilter.TEACHER),e.xp6(1),e.hij(" ",t.ts.l.teachers,""),e.xp6(2),e.Q6J("ngModel",t.roleFilter.ADMIN),e.xp6(1),e.hij(" ",t.ts.l.admins,""),e.xp6(5),e.Oqu(t.ts.l.search_user),e.xp6(2),e.Q6J("ngModel",t.searchText),e.xp6(6),e.AsE(" Page ",t.currentPage+1," / ",t.totalPages+1," "),e.xp6(4),e.AsE("",t.ts.l.results," (",t.resultCount,")"),e.xp6(1),e.Q6J("ngIf",t.resultCount>0),e.xp6(1),e.Q6J("ngIf",!t.searchText),e.xp6(1),e.Q6J("ngIf",t.searchText&&0==t.resultCount)}}let Zt=(()=>{class n{constructor(t,a){this.userService=t,this.ts=a,this.searchModelChanged=new wt.x,this.userCount=0,this.userResults=[],this.numberOfUsers=0,this.resultCount=0,this.currentPage=0,this.totalPages=0,this.LIMIT=20,this.roleFilter={STUDENT:!0,TEACHER:!0,ADMIN:!0},this.dataLoaded=!0}ngOnInit(){this.userService.getUserCount().subscribe(t=>this.userCount=t.total),this.searchModelChangeSubscription=this.searchModelChanged.pipe((0,Tt.b)(1e3),(0,Ne.x)()).subscribe(t=>{this.searchText=t,this.currentPage=0,this.searchUsers()})}ngOnDestroy(){this.searchModelChangeSubscription.unsubscribe()}validSearchText(){try{new RegExp(this.searchText,"i")}catch(t){return console.log("Caught error:",t),alert("invalid regular expression"),!1}return!0}searchUsers(){if(!this.validSearchText())return;this.dataLoaded=!1,this.userResults=[];const t=Object.entries(this.roleFilter).filter(a=>a[1]).map(a=>a[0]);this.userService.searchUser(this.searchText,this.currentPage,this.LIMIT,t).subscribe(a=>{this.userResults=a.users.map(o=>(new Ti.n).fromJSON(o)),this.resultCount=a.count,this.dataLoaded=!0,this.getPageCount()})}getPageCount(){const t=Math.ceil(this.resultCount/this.LIMIT);this.totalPages=t>0?t-1:0}goNextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.searchUsers())}goPrevPage(){this.currentPage>0&&(this.currentPage--,this.searchUsers())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(lt.K),e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-find-user"]],decls:6,vars:4,consts:[[1,"adminContainer"],[1,"searchContainer"],[1,"searchHeader"],["class","adminLoaderContainer",4,"ngIf"],["class","searchResultsContainer",4,"ngIf"],[1,"adminLoaderContainer"],[1,"searchResultsContainer"],[1,"filter"],[1,"checkbox-line"],["type","checkbox",3,"ngModel","ngModelChange"],["role","main"],[1,"form-group"],["for","search-text"],[2,"display","flex"],["type","text","id","search-text","aria-describedby","search-text","placeholder","Enter user to search",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],[2,"margin","5px"],["class","resultContainer",4,"ngIf"],[4,"ngIf"],[1,"resultContainer"],["class","resultCard",3,"routerLink",4,"ngFor","ngForOf"],[1,"resultCard",3,"routerLink"],["appHighlight","",3,"searchedWord","content","classToApply","setTitle"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.YNc(4,Si,4,1,"div",3),e.YNc(5,St,33,15,"div",4),e.qZA()()),2&t&&(e.xp6(3),e.AsE(" ",a.ts.l.all_users," (",a.userCount,") "),e.xp6(1),e.Q6J("ngIf",!a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded))},dependencies:[H.sg,H.O5,xe.rH,$.Fj,$.Wl,$.JJ,$.On,Wt.P],styles:[".adminContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:20px}.searchContainer[_ngcontent-%COMP%]{background:#d1d1d1;width:60%;border-radius:4px}.searchHeader[_ngcontent-%COMP%]{background:var(--scealai-dark-green);border-radius:4px 4px 0 0;font-size:14pt;color:#fff}.adminLoaderContainer[_ngcontent-%COMP%]{width:35%}.searchResultsContainer[_ngcontent-%COMP%]{padding:10px 10px 0;height:500px}.filter[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;margin-bottom:10px;font-size:12pt;display:flex;justify-content:space-between;padding:10px}.resultContainer[_ngcontent-%COMP%]{padding:10px 10px 0;box-shadow:inset 0 0 7px #000000b6;border-radius:5px;overflow-y:scroll;max-height:250px}.resultCard[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;margin-bottom:10px;font-size:12pt;display:flex;justify-content:space-between;padding:10px}.resultCard[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--scealai-med-brown-hover);cursor:pointer}"]}),n})();var le=T(5861),de=T(3905),Dt=T(1765),At=T(25),Dn=T(4687),ee=T(9301);ee.kL.register(...ee.zX);var R=1e-6,F=Math.PI,ae=F/2,An=F/4,be=2*F,ge=180/F,z=F/180,G=Math.abs,Qe=Math.atan,Re=Math.atan2,N=Math.cos,dt=Math.ceil,Mt=Math.exp,Pe=(Math,Math,Math.log),Xt=Math.pow,q=Math.sin,Ce=Math.sign||function(n){return n>0?1:n<0?-1:0},fe=Math.sqrt,Vt=Math.tan;function Mn(n){return n>1?0:n<-1?F:Math.acos(n)}function Se(n){return n>1?ae:n<-1?-ae:Math.asin(n)}function f(n){return function(i,t){var a=N(i),o=N(t),r=n(a*o);return r===1/0?[2,0]:[r*o*q(i),r*q(t)]}}function m(n){return function(i,t){var a=fe(i*i+t*t),o=n(a),r=q(o),s=N(o);return[Re(i*r,a*s),Se(a&&t*r/a)]}}function _(){}function x(){var i,n=[];return{point:function(t,a,o){i.push([t,a,o])},lineStart:function(){n.push(i=[])},lineEnd:_,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],i=null,t}}}function b(n,i){return G(n[0]-i[0])<R&&G(n[1]-i[1])<R}function S(n,i,t,a){this.x=n,this.z=i,this.o=t,this.e=a,this.v=!1,this.n=this.p=null}function D(n,i,t,a,o){var c,d,r=[],s=[];if(n.forEach(function(y){if(!((O=y.length-1)<=0)){var O,U,w=y[0],k=y[O];if(b(w,k)){if(!w[2]&&!k[2]){for(o.lineStart(),c=0;c<O;++c)o.point((w=y[c])[0],w[1]);return void o.lineEnd()}k[0]+=2*R}r.push(U=new S(w,y,null,!0)),s.push(U.o=new S(w,null,U,!1)),r.push(U=new S(k,y,null,!1)),s.push(U.o=new S(k,null,U,!0))}}),r.length){for(s.sort(i),M(r),M(s),c=0,d=s.length;c<d;++c)s[c].e=t=!t;for(var l,p,g=r[0];;){for(var h=g,v=!0;h.v;)if((h=h.n)===g)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(c=0,d=l.length;c<d;++c)o.point((p=l[c])[0],p[1]);else a(h.x,h.n.x,1,o);h=h.n}else{if(v)for(c=(l=h.p.z).length-1;c>=0;--c)o.point((p=l[c])[0],p[1]);else a(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,v=!v}while(!h.v);o.lineEnd()}}}function M(n){if(i=n.length){for(var i,o,t=0,a=n[0];++t<i;)a.n=o=n[t],o.p=a,a=o;a.n=o=n[0],o.p=a}}class A{constructor(){this._partials=new Float64Array(32),this._n=0}add(i){const t=this._partials;let a=0;for(let o=0;o<this._n&&o<32;o++){const r=t[o],s=i+r,c=Math.abs(i)<Math.abs(r)?i-(s-r):r-(s-i);c&&(t[a++]=c),i=s}return t[a]=i,this._n=a+1,this}valueOf(){const i=this._partials;let a,o,r,t=this._n,s=0;if(t>0){for(s=i[--t];t>0&&(a=s,o=i[--t],s=a+o,r=o-(s-a),!r););t>0&&(r<0&&i[t-1]<0||r>0&&i[t-1]>0)&&(o=2*r,a=s+o,o==a-s&&(s=a))}return s}}function E(n){return[Re(n[1],n[0]),Se(n[2])]}function V(n){var i=n[0],t=n[1],a=N(t);return[a*N(i),a*q(i),q(t)]}function re(n,i){return n[0]*i[0]+n[1]*i[1]+n[2]*i[2]}function I(n,i){return[n[1]*i[2]-n[2]*i[1],n[2]*i[0]-n[0]*i[2],n[0]*i[1]-n[1]*i[0]]}function ue(n,i){n[0]+=i[0],n[1]+=i[1],n[2]+=i[2]}function pe(n,i){return[n[0]*i,n[1]*i,n[2]*i]}function he(n){var i=fe(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=i,n[1]/=i,n[2]/=i}function me(n){return G(n[0])<=F?n[0]:Ce(n[0])*((G(n[0])+F)%be-F)}function se(n,i){var t=me(i),a=i[1],o=q(a),r=[q(t),-N(t),0],s=0,c=0,d=new A;1===o?a=ae+R:-1===o&&(a=-ae-R);for(var g=0,l=n.length;g<l;++g)if(h=(p=n[g]).length)for(var p,h,v=p[h-1],y=me(v),O=v[1]/2+An,w=q(O),k=N(O),U=0;U<h;++U,y=P,w=B,k=ne,v=Z){var Z=p[U],P=me(Z),j=Z[1]/2+An,B=q(j),ne=N(j),W=P-y,K=W>=0?1:-1,oe=K*W,L=oe>F,De=w*B;if(d.add(Re(De*K*q(oe),k*ne+De*N(oe))),s+=L?W+K*be:W,L^y>=t^P>=t){var ce=I(V(v),V(Z));he(ce);var ie=I(r,ce);he(ie);var C=(L^W>=0?-1:1)*Se(ie[2]);(a>C||a===C&&(ce[0]||ce[1]))&&(c+=L^W>=0?1:-1)}}return(s<-R||s<R&&d<-1e-12)^1&c}function we(n){return Array.from(function*Ee(n){for(const i of n)yield*i}(n))}function Ze(n,i,t,a){return function(o){var g,l,p,r=i(o),s=x(),c=i(s),d=!1,h={point:v,lineStart:O,lineEnd:w,polygonStart:function(){h.point=k,h.lineStart=U,h.lineEnd=Z,l=[],g=[]},polygonEnd:function(){h.point=v,h.lineStart=O,h.lineEnd=w,l=we(l);var P=se(g,a);l.length?(d||(o.polygonStart(),d=!0),D(l,Le,P,t,o)):P&&(d||(o.polygonStart(),d=!0),o.lineStart(),t(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),l=g=null},sphere:function(){o.polygonStart(),o.lineStart(),t(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function v(P,j){n(P,j)&&o.point(P,j)}function y(P,j){r.point(P,j)}function O(){h.point=y,r.lineStart()}function w(){h.point=v,r.lineEnd()}function k(P,j){p.push([P,j]),c.point(P,j)}function U(){c.lineStart(),p=[]}function Z(){k(p[0][0],p[0][1]),c.lineEnd();var B,W,K,oe,P=c.clean(),j=s.result(),ne=j.length;if(p.pop(),g.push(p),p=null,ne){if(1&P){if((W=(K=j[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),B=0;B<W;++B)o.point((oe=K[B])[0],oe[1]);o.lineEnd()}return}ne>1&&2&P&&j.push(j.pop().concat(j.shift())),l.push(j.filter(Fe))}}return h}}function Fe(n){return n.length>1}function Le(n,i){return((n=n.x)[0]<0?n[1]-ae-R:ae-n[1])-((i=i.x)[0]<0?i[1]-ae-R:ae-i[1])}const Ie=Ze(function(){return!0},function Ot(n){var o,i=NaN,t=NaN,a=NaN;return{lineStart:function(){n.lineStart(),o=1},point:function(r,s){var c=r>0?F:-F,d=G(r-i);G(d-F)<R?(n.point(i,t=(t+s)/2>0?ae:-ae),n.point(a,t),n.lineEnd(),n.lineStart(),n.point(c,t),n.point(r,t),o=0):a!==c&&d>=F&&(G(i-a)<R&&(i-=a*R),G(r-c)<R&&(r-=c*R),t=function en(n,i,t,a){var o,r,s=q(n-t);return G(s)>R?Qe((q(i)*(r=N(a))*q(t)-q(a)*(o=N(i))*q(n))/(o*r*s)):(i+a)/2}(i,t,r,s),n.point(a,t),n.lineEnd(),n.lineStart(),n.point(c,t),o=0),n.point(i=r,t=s),a=c},lineEnd:function(){n.lineEnd(),i=t=NaN},clean:function(){return 2-o}}},function ft(n,i,t,a){var o;if(null==n)a.point(-F,o=t*ae),a.point(0,o),a.point(F,o),a.point(F,0),a.point(F,-o),a.point(0,-o),a.point(-F,-o),a.point(-F,0),a.point(-F,o);else if(G(n[0]-i[0])>R){var r=n[0]<i[0]?F:-F;a.point(-r,o=t*r/2),a.point(0,o),a.point(r,o)}else a.point(i[0],i[1])},[-F,-ae]);function kt(n,i){(i=V(i))[0]-=n,he(i);var t=Mn(-i[1]);return((-i[2]<0?-t:t)+be-R)%be}function Pt(n){var i=N(n),t=6*z,a=i>0,o=G(i)>R;function s(l,p){return N(l)*N(p)>i}function d(l,p,h){var O=[1,0,0],w=I(V(l),V(p)),k=re(w,w),U=w[0],Z=k-U*U;if(!Z)return!h&&l;var P=i*k/Z,j=-i*U/Z,B=I(O,w),ne=pe(O,P);ue(ne,pe(w,j));var K=B,oe=re(ne,K),L=re(K,K),De=oe*oe-L*(re(ne,ne)-1);if(!(De<0)){var ce=fe(De),ie=pe(K,(-oe-ce)/L);if(ue(ie,ne),ie=E(ie),!h)return ie;var Ue,C=l[0],J=p[0],ve=l[1],Ae=p[1];J<C&&(Ue=C,C=J,J=Ue);var xn=J-C,nt=G(xn-F)<R;if(!nt&&Ae<ve&&(Ue=ve,ve=Ae,Ae=Ue),nt||xn<R?nt?ve+Ae>0^ie[1]<(G(ie[0]-C)<R?ve:Ae):ve<=ie[1]&&ie[1]<=Ae:xn>F^(C<=ie[0]&&ie[0]<=J)){var it=pe(K,(-oe+ce)/L);return ue(it,ne),[ie,E(it)]}}}function g(l,p){var h=a?n:F-n,v=0;return l<-h?v|=1:l>h&&(v|=2),p<-h?v|=4:p>h&&(v|=8),v}return Ze(s,function c(l){var p,h,v,y,O;return{lineStart:function(){y=v=!1,O=1},point:function(w,k){var Z,U=[w,k],P=s(w,k),j=a?P?0:g(w,k):P?g(w+(w<0?F:-F),k):0;if(!p&&(y=v=P)&&l.lineStart(),P!==v&&(!(Z=d(p,U))||b(p,Z)||b(U,Z))&&(U[2]=1),P!==v)O=0,P?(l.lineStart(),Z=d(U,p),l.point(Z[0],Z[1])):(Z=d(p,U),l.point(Z[0],Z[1],2),l.lineEnd()),p=Z;else if(o&&p&&a^P){var B;!(j&h)&&(B=d(U,p,!0))&&(O=0,a?(l.lineStart(),l.point(B[0][0],B[0][1]),l.point(B[1][0],B[1][1]),l.lineEnd()):(l.point(B[1][0],B[1][1]),l.lineEnd(),l.lineStart(),l.point(B[0][0],B[0][1],3)))}P&&(!p||!b(p,U))&&l.point(U[0],U[1]),p=U,v=P,h=j},lineEnd:function(){v&&l.lineEnd(),p=null},clean:function(){return O|(y&&v)<<1}}},function r(l,p,h,v){!function je(n,i,t,a,o,r){if(t){var s=N(i),c=q(i),d=a*t;null==o?(o=i+a*be,r=i-d/2):(o=kt(s,o),r=kt(s,r),(a>0?o<r:o>r)&&(o+=a*be));for(var g,l=o;a>0?l>r:l<r;l-=d)g=E([s,-c*N(l),-c*q(l)]),n.point(g[0],g[1])}}(v,n,t,h,l,p)},a?[0,-n]:[-F,n-F])}var Ke=1e9,qt=-Ke;function xr(n,i,t,a){function o(g,l){return n<=g&&g<=t&&i<=l&&l<=a}function r(g,l,p,h){var v=0,y=0;if(null==g||(v=s(g,p))!==(y=s(l,p))||d(g,l)<0^p>0)do{h.point(0===v||3===v?n:t,v>1?a:i)}while((v=(v+p+4)%4)!==y);else h.point(l[0],l[1])}function s(g,l){return G(g[0]-n)<R?l>0?0:3:G(g[0]-t)<R?l>0?2:1:G(g[1]-i)<R?l>0?1:0:l>0?3:2}function c(g,l){return d(g.x,l.x)}function d(g,l){var p=s(g,1),h=s(l,1);return p!==h?p-h:0===p?l[1]-g[1]:1===p?g[0]-l[0]:2===p?g[1]-l[1]:l[0]-g[0]}return function(g){var h,v,y,O,w,k,U,Z,P,j,B,l=g,p=x(),ne={point:W,lineStart:function De(){ne.point=ie,v&&v.push(y=[]),j=!0,P=!1,U=Z=NaN},lineEnd:function ce(){h&&(ie(O,w),k&&P&&p.rejoin(),h.push(p.result())),ne.point=W,P&&l.lineEnd()},polygonStart:function oe(){l=p,h=[],v=[],B=!0},polygonEnd:function L(){var C=function K(){for(var C=0,J=0,ve=v.length;J<ve;++J)for(var xt,it,Ae=v[J],Ue=1,xn=Ae.length,nt=Ae[0],xi=nt[0],Qt=nt[1];Ue<xn;++Ue)xt=xi,it=Qt,xi=(nt=Ae[Ue])[0],Qt=nt[1],it<=a?Qt>a&&(xi-xt)*(a-it)>(Qt-it)*(n-xt)&&++C:Qt<=a&&(xi-xt)*(a-it)<(Qt-it)*(n-xt)&&--C;return C}(),J=B&&C,ve=(h=we(h)).length;(J||ve)&&(g.polygonStart(),J&&(g.lineStart(),r(null,null,1,g),g.lineEnd()),ve&&D(h,c,C,r,g),g.polygonEnd()),l=g,h=v=y=null}};function W(C,J){o(C,J)&&l.point(C,J)}function ie(C,J){var ve=o(C,J);if(v&&y.push([C,J]),j)O=C,w=J,k=ve,j=!1,ve&&(l.lineStart(),l.point(C,J));else if(ve&&P)l.point(C,J);else{var Ae=[U=Math.max(qt,Math.min(Ke,U)),Z=Math.max(qt,Math.min(Ke,Z))],Ue=[C=Math.max(qt,Math.min(Ke,C)),J=Math.max(qt,Math.min(Ke,J))];!function We(n,i,t,a,o,r){var y,s=n[0],c=n[1],l=0,p=1,h=i[0]-s,v=i[1]-c;if(y=t-s,h||!(y>0)){if(y/=h,h<0){if(y<l)return;y<p&&(p=y)}else if(h>0){if(y>p)return;y>l&&(l=y)}if(y=o-s,h||!(y<0)){if(y/=h,h<0){if(y>p)return;y>l&&(l=y)}else if(h>0){if(y<l)return;y<p&&(p=y)}if(y=a-c,v||!(y>0)){if(y/=v,v<0){if(y<l)return;y<p&&(p=y)}else if(v>0){if(y>p)return;y>l&&(l=y)}if(y=r-c,v||!(y<0)){if(y/=v,v<0){if(y>p)return;y>l&&(l=y)}else if(v>0){if(y<l)return;y<p&&(p=y)}return l>0&&(n[0]=s+l*h,n[1]=c+l*v),p<1&&(i[0]=s+p*h,i[1]=c+p*v),!0}}}}}(Ae,Ue,n,i,t,a)?ve&&(l.lineStart(),l.point(C,J),B=!1):(P||(l.lineStart(),l.point(Ae[0],Ae[1])),l.point(Ue[0],Ue[1]),ve||l.lineEnd(),B=!1)}U=C,Z=J,P=ve}return ne}}function Ri(n,i){function t(a,o){return a=n(a,o),i(a[0],a[1])}return n.invert&&i.invert&&(t.invert=function(a,o){return(a=i.invert(a,o))&&n.invert(a[0],a[1])}),t}const Pi=n=>n;function qi(n,i){return G(n)>F&&(n-=Math.round(n/be)*be),[n,i]}function Aa(n,i,t){return(n%=be)?i||t?Ri(Oa(n),ka(i,t)):Oa(n):i||t?ka(i,t):qi}function Ma(n){return function(i,t){return G(i+=n)>F&&(i-=Math.round(i/be)*be),[i,t]}}function Oa(n){var i=Ma(n);return i.invert=Ma(-n),i}function ka(n,i){var t=N(n),a=q(n),o=N(i),r=q(i);function s(c,d){var g=N(d),l=N(c)*g,p=q(c)*g,h=q(d),v=h*t+l*a;return[Re(p*o-v*r,l*t-h*a),Se(v*o+p*r)]}return s.invert=function(c,d){var g=N(d),l=N(c)*g,p=q(c)*g,h=q(d),v=h*o-p*r;return[Re(p*o+h*r,l*t+v*a),Se(v*t-l*a)]},s}function On(n){return function(i){var t=new Ui;for(var a in n)t[a]=n[a];return t.stream=i,t}}function Ui(){}function kn(n,i){n&&Pa.hasOwnProperty(n.type)&&Pa[n.type](n,i)}qi.invert=qi,Ui.prototype={constructor:Ui,point:function(n,i){this.stream.point(n,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ra={Feature:function(n,i){kn(n.geometry,i)},FeatureCollection:function(n,i){for(var t=n.features,a=-1,o=t.length;++a<o;)kn(t[a].geometry,i)}},Pa={Sphere:function(n,i){i.sphere()},Point:function(n,i){i.point((n=n.coordinates)[0],n[1],n[2])},MultiPoint:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)i.point((n=t[a])[0],n[1],n[2])},LineString:function(n,i){Ni(n.coordinates,i,0)},MultiLineString:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)Ni(t[a],i,0)},Polygon:function(n,i){qa(n.coordinates,i)},MultiPolygon:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)qa(t[a],i)},GeometryCollection:function(n,i){for(var t=n.geometries,a=-1,o=t.length;++a<o;)kn(t[a],i)}};function Ni(n,i,t){var r,a=-1,o=n.length-t;for(i.lineStart();++a<o;)i.point((r=n[a])[0],r[1],r[2]);i.lineEnd()}function qa(n,i){var t=-1,a=n.length;for(i.polygonStart();++t<a;)Ni(n[t],i,1);i.polygonEnd()}function ut(n,i){n&&Ra.hasOwnProperty(n.type)?Ra[n.type](n,i):kn(n,i)}var Ut=1/0,Rn=Ut,tn=-Ut,Pn=tn;const qn={point:function Tr(n,i){n<Ut&&(Ut=n),n>tn&&(tn=n),i<Rn&&(Rn=i),i>Pn&&(Pn=i)},lineStart:_,lineEnd:_,polygonStart:_,polygonEnd:_,result:function(){var n=[[Ut,Rn],[tn,Pn]];return tn=Pn=-(Rn=Ut=1/0),n}};function Ei(n,i,t){var a=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=a&&n.clipExtent(null),ut(t,n.stream(qn)),i(qn.result()),null!=a&&n.clipExtent(a),n}function Fi(n,i,t){return Ei(n,function(a){var o=i[1][0]-i[0][0],r=i[1][1]-i[0][1],s=Math.min(o/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),c=+i[0][0]+(o-s*(a[1][0]+a[0][0]))/2,d=+i[0][1]+(r-s*(a[1][1]+a[0][1]))/2;n.scale(150*s).translate([c,d])},t)}function Ua(n,i,t){return Fi(n,[[0,0],i],t)}function Na(n,i,t){return Ei(n,function(a){var o=+i,r=o/(a[1][0]-a[0][0]),s=(o-r*(a[1][0]+a[0][0]))/2,c=-r*a[0][1];n.scale(150*r).translate([s,c])},t)}function Ea(n,i,t){return Ei(n,function(a){var o=+i,r=o/(a[1][1]-a[0][1]),s=-r*a[0][0],c=(o-r*(a[1][1]+a[0][1]))/2;n.scale(150*r).translate([s,c])},t)}var Sr=N(30*z);function La(n,i){return+i?function Dr(n,i){function t(a,o,r,s,c,d,g,l,p,h,v,y,O,w){var k=g-a,U=l-o,Z=k*k+U*U;if(Z>4*i&&O--){var P=s+h,j=c+v,B=d+y,ne=fe(P*P+j*j+B*B),W=Se(B/=ne),K=G(G(B)-1)<R||G(r-p)<R?(r+p)/2:Re(j,P),oe=n(K,W),L=oe[0],De=oe[1],ce=L-a,ie=De-o,C=U*ce-k*ie;(C*C/Z>i||G((k*ce+U*ie)/Z-.5)>.3||s*h+c*v+d*y<Sr)&&(t(a,o,r,s,c,d,L,De,K,P/=ne,j/=ne,B,O,w),w.point(L,De),t(L,De,K,P,j,B,g,l,p,h,v,y,O,w))}}return function(a){var o,r,s,c,d,g,l,p,h,v,y,O,w={point:k,lineStart:U,lineEnd:P,polygonStart:function(){a.polygonStart(),w.lineStart=j},polygonEnd:function(){a.polygonEnd(),w.lineStart=U}};function k(W,K){W=n(W,K),a.point(W[0],W[1])}function U(){p=NaN,w.point=Z,a.lineStart()}function Z(W,K){var oe=V([W,K]),L=n(W,K);t(p,h,l,v,y,O,p=L[0],h=L[1],l=W,v=oe[0],y=oe[1],O=oe[2],16,a),a.point(p,h)}function P(){w.point=k,a.lineEnd()}function j(){U(),w.point=B,w.lineEnd=ne}function B(W,K){Z(o=W,K),r=p,s=h,c=v,d=y,g=O,w.point=Z}function ne(){t(p,h,l,v,y,O,r,s,o,c,d,g,16,a),w.lineEnd=P,P()}return w}}(n,i):function Zr(n){return On({point:function(i,t){i=n(i,t),this.stream.point(i[0],i[1])}})}(n)}var Ar=On({point:function(n,i){this.stream.point(n*z,i*z)}});function Ia(n,i,t,a,o,r){if(!r)return function Or(n,i,t,a,o){function r(s,c){return[i+n*(s*=a),t-n*(c*=o)]}return r.invert=function(s,c){return[(s-i)/n*a,(t-c)/n*o]},r}(n,i,t,a,o);var s=N(r),c=q(r),d=s*n,g=c*n,l=s/n,p=c/n,h=(c*t-s*i)/n,v=(c*i+s*t)/n;function y(O,w){return[d*(O*=a)-g*(w*=o)+i,t-g*O-d*w]}return y.invert=function(O,w){return[a*(l*O-p*w+h),o*(v-p*O-l*w)]},y}function Xe(n){return Ya(function(){return n})()}function Ya(n){var i,l,k,U,Z,B,ne,W,K,oe,t=150,a=480,o=250,r=0,s=0,c=0,d=0,g=0,p=0,h=1,v=1,y=null,O=Ie,w=null,P=Pi,j=.5;function L(C){return W(C[0]*z,C[1]*z)}function De(C){return(C=W.invert(C[0],C[1]))&&[C[0]*ge,C[1]*ge]}function ce(){var C=Ia(t,0,0,h,v,p).apply(null,i(r,s)),J=Ia(t,a-C[0],o-C[1],h,v,p);return l=Aa(c,d,g),ne=Ri(i,J),W=Ri(l,ne),B=La(ne,j),ie()}function ie(){return K=oe=null,L}return L.stream=function(C){return K&&oe===C?K:K=Ar(function Mr(n){return On({point:function(i,t){var a=n(i,t);return this.stream.point(a[0],a[1])}})}(l)(O(B(P(oe=C)))))},L.preclip=function(C){return arguments.length?(O=C,y=void 0,ie()):O},L.postclip=function(C){return arguments.length?(P=C,w=k=U=Z=null,ie()):P},L.clipAngle=function(C){return arguments.length?(O=+C?Pt(y=C*z):(y=null,Ie),ie()):y*ge},L.clipExtent=function(C){return arguments.length?(P=null==C?(w=k=U=Z=null,Pi):xr(w=+C[0][0],k=+C[0][1],U=+C[1][0],Z=+C[1][1]),ie()):null==w?null:[[w,k],[U,Z]]},L.scale=function(C){return arguments.length?(t=+C,ce()):t},L.translate=function(C){return arguments.length?(a=+C[0],o=+C[1],ce()):[a,o]},L.center=function(C){return arguments.length?(r=C[0]%360*z,s=C[1]%360*z,ce()):[r*ge,s*ge]},L.rotate=function(C){return arguments.length?(c=C[0]%360*z,d=C[1]%360*z,g=C.length>2?C[2]%360*z:0,ce()):[c*ge,d*ge,g*ge]},L.angle=function(C){return arguments.length?(p=C%360*z,ce()):p*ge},L.reflectX=function(C){return arguments.length?(h=C?-1:1,ce()):h<0},L.reflectY=function(C){return arguments.length?(v=C?-1:1,ce()):v<0},L.precision=function(C){return arguments.length?(B=La(ne,j=C*C),ie()):fe(j)},L.fitExtent=function(C,J){return Fi(L,C,J)},L.fitSize=function(C,J){return Ua(L,C,J)},L.fitWidth=function(C,J){return Na(L,C,J)},L.fitHeight=function(C,J){return Ea(L,C,J)},function(){return i=n.apply(this,arguments),L.invert=i.invert&&De,ce()}}var Ha=f(function(n){return fe(2/(1+n))});Ha.invert=m(function(n){return 2*Se(n/2)});var ja=f(function(n){return(n=Mn(n))&&n/q(n)});function Ba(n,i){var t=N(i),a=N(n)*t;return[t*q(n)/a,q(i)/a]}function Ga(n,i){return[N(i)*q(n),q(i)]}function Ja(n,i){var t=N(i),a=1+N(n)*t;return[t*q(n)/a,q(i)/a]}ja.invert=m(function(n){return n}),Ba.invert=m(Qe),Ga.invert=m(Se),Ja.invert=m(function(n){return 2*Qe(n)});var nn=1.340264,an=-.081106,on=893e-6,rn=.003796,Un=fe(3)/2;function za(n,i){var t=Se(Un*q(i)),a=t*t,o=a*a*a;return[n*N(t)/(Un*(nn+3*an*a+o*(7*on+9*rn*a))),t*(nn+an*a+o*(on+rn*a))]}function Li(n){var i=0,t=F/3,a=Ya(n),o=a(i,t);return o.parallels=function(r){return arguments.length?a(i=r[0]*z,t=r[1]*z):[i*ge,t*ge]},o}function Lr(n,i){var t=q(n),a=(t+q(i))/2;if(G(a)<R)return function Fr(n){var i=N(n);function t(a,o){return[a*i,q(o)/i]}return t.invert=function(a,o){return[a/i,Se(o*i)]},t}(n);var o=1+t*(2*a-t),r=fe(o)/a;function s(c,d){var g=fe(o-2*a*q(d))/a;return[g*q(c*=a),r-g*N(c)]}return s.invert=function(c,d){var g=r-d,l=Re(c,G(g))*Ce(g);return g*a<0&&(l-=F*Ce(c)*Ce(g)),[l/a,Se((o-(c*c+g*g)*a*a)/(2*a))]},s}function Nn(){return Li(Lr).scale(155.424).center([0,33.6442])}function $a(){return Nn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function En(n,i){return[n,Pe(Vt((ae+i)/2))]}function Qa(n){var c,d,g,i=Xe(n),t=i.center,a=i.scale,o=i.translate,r=i.clipExtent,s=null;function l(){var p=F*a(),h=i(function Cr(n){function i(t){return(t=n(t[0]*z,t[1]*z))[0]*=ge,t[1]*=ge,t}return n=Aa(n[0]*z,n[1]*z,n.length>2?n[2]*z:0),i.invert=function(t){return(t=n.invert(t[0]*z,t[1]*z))[0]*=ge,t[1]*=ge,t},i}(i.rotate()).invert([0,0]));return r(null==s?[[h[0]-p,h[1]-p],[h[0]+p,h[1]+p]]:n===En?[[Math.max(h[0]-p,s),c],[Math.min(h[0]+p,d),g]]:[[s,Math.max(h[1]-p,c)],[d,Math.min(h[1]+p,g)]])}return i.scale=function(p){return arguments.length?(a(p),l()):a()},i.translate=function(p){return arguments.length?(o(p),l()):o()},i.center=function(p){return arguments.length?(t(p),l()):t()},i.clipExtent=function(p){return arguments.length?(null==p?s=c=d=g=null:(s=+p[0][0],c=+p[0][1],d=+p[1][0],g=+p[1][1]),l()):null==s?null:[[s,c],[d,g]]},l()}function Fn(n){return Vt((ae+n)/2)}function jr(n,i){var t=N(n),a=n===i?q(n):Pe(t/N(i))/Pe(Fn(i)/Fn(n)),o=t*Xt(Fn(n),a)/a;if(!a)return En;function r(s,c){o>0?c<-ae+R&&(c=-ae+R):c>ae-R&&(c=ae-R);var d=o/Xt(Fn(c),a);return[d*q(a*s),o-d*N(a*s)]}return r.invert=function(s,c){var d=o-c,g=Ce(a)*fe(s*s+d*d),l=Re(s,G(d))*Ce(d);return d*a<0&&(l-=F*Ce(s)*Ce(d)),[l/a,2*Qe(Xt(o/g,1/a))-ae]},r}function Ln(n,i){return[n,i]}function Jr(n,i){var t=N(n),a=n===i?q(n):(t-N(i))/(i-n),o=t/a+n;if(G(a)<R)return Ln;function r(s,c){var d=o-c,g=a*s;return[d*q(g),o-d*N(g)]}return r.invert=function(s,c){var d=o-c,g=Re(s,G(d))*Ce(d);return d*a<0&&(g-=F*Ce(s)*Ce(d)),[g/a,o-Ce(a)*fe(s*s+d*d)]},r}function Wa(n,i){return[Pe(Vt((ae+i)/2)),-n]}function Ka(n,i){var t=i*i,a=t*t;return[n*(.8707-.131979*t+a*(a*(.003971*t-.001529*a)-.013791)),i*(1.007226+t*(.015085+a*(.028874*t-.044475-.005916*a)))]}za.invert=function(n,i){for(var s,t=i,a=t*t,o=a*a*a,r=0;r<12&&(o=(a=(t-=s=(t*(nn+an*a+o*(on+rn*a))-i)/(nn+3*an*a+o*(7*on+9*rn*a)))*t)*a*a,!(G(s)<1e-12));++r);return[Un*n*(nn+3*an*a+o*(7*on+9*rn*a))/N(t),Se(q(t)/Un)]},En.invert=function(n,i){return[n,2*Qe(Mt(i))-ae]},Ln.invert=Ln,Wa.invert=function(n,i){return[-i,2*Qe(Mt(n))-ae]},Ka.invert=function(n,i){var o,t=i,a=25;do{var r=t*t,s=r*r;t-=o=(t*(1.007226+r*(.015085+s*(.028874*r-.044475-.005916*s)))-i)/(1.007226+r*(.045255+s*(.259866*r-.311325-.005916*11*s)))}while(G(o)>R&&--a>0);return[n/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]};var Xa,Va,Hi,ji,Ii=new A,Yi=new A,ot={point:_,lineStart:_,lineEnd:_,polygonStart:function(){ot.lineStart=Wr,ot.lineEnd=Xr},polygonEnd:function(){ot.lineStart=ot.lineEnd=ot.point=_,Ii.add(G(Yi)),Yi=new A},result:function(){var n=Ii/2;return Ii=new A,n}};function Wr(){ot.point=Kr}function Kr(n,i){ot.point=eo,Xa=Hi=n,Va=ji=i}function eo(n,i){Yi.add(ji*n-Hi*i),Hi=n,ji=i}function Xr(){eo(Xa,Va)}const to=ot;var no,io,Be,Ge,Bi=0,Gi=0,sn=0,In=0,Yn=0,Nt=0,Ji=0,zi=0,cn=0,Ye={point:pt,lineStart:ao,lineEnd:oo,polygonStart:function(){Ye.lineStart=ts,Ye.lineEnd=ns},polygonEnd:function(){Ye.point=pt,Ye.lineStart=ao,Ye.lineEnd=oo},result:function(){var n=cn?[Ji/cn,zi/cn]:Nt?[In/Nt,Yn/Nt]:sn?[Bi/sn,Gi/sn]:[NaN,NaN];return Bi=Gi=sn=In=Yn=Nt=Ji=zi=cn=0,n}};function pt(n,i){Bi+=n,Gi+=i,++sn}function ao(){Ye.point=Vr}function Vr(n,i){Ye.point=es,pt(Be=n,Ge=i)}function es(n,i){var t=n-Be,a=i-Ge,o=fe(t*t+a*a);In+=o*(Be+n)/2,Yn+=o*(Ge+i)/2,Nt+=o,pt(Be=n,Ge=i)}function oo(){Ye.point=pt}function ts(){Ye.point=is}function ns(){ro(no,io)}function is(n,i){Ye.point=ro,pt(no=Be=n,io=Ge=i)}function ro(n,i){var t=n-Be,a=i-Ge,o=fe(t*t+a*a);In+=o*(Be+n)/2,Yn+=o*(Ge+i)/2,Nt+=o,Ji+=(o=Ge*n-Be*i)*(Be+n),zi+=o*(Ge+i),cn+=3*o,pt(Be=n,Ge=i)}const so=Ye;function co(n){this._context=n}co.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,i){switch(this._point){case 0:this._context.moveTo(n,i),this._point=1;break;case 1:this._context.lineTo(n,i);break;default:this._context.moveTo(n+this._radius,i),this._context.arc(n,i,this._radius,0,be)}},result:_};var Qi,lo,fo,ln,dn,$i=new A,Hn={point:_,lineStart:function(){Hn.point=as},lineEnd:function(){Qi&&uo(lo,fo),Hn.point=_},polygonStart:function(){Qi=!0},polygonEnd:function(){Qi=null},result:function(){var n=+$i;return $i=new A,n}};function as(n,i){Hn.point=uo,lo=ln=n,fo=dn=i}function uo(n,i){$i.add(fe((ln-=n)*ln+(dn-=i)*dn)),ln=n,dn=i}const po=Hn;let ho,jn,go,mo;class _o{constructor(i){this._append=null==i?vo:function os(n){const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);if(i>15)return vo;if(i!==ho){const t=10**i;ho=i,jn=function(o){let r=1;this._+=o[0];for(const s=o.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+o[r]}}return jn}(i),this._radius=4.5,this._=""}pointRadius(i){return this._radius=+i,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(i,t){switch(this._point){case 0:this._append`M${i},${t}`,this._point=1;break;case 1:this._append`L${i},${t}`;break;default:if(this._append`M${i},${t}`,this._radius!==go||this._append!==jn){const a=this._radius,o=this._;this._="",this._append`m0,${a}a${a},${a} 0 1,1 0,${-2*a}a${a},${a} 0 1,1 0,${2*a}z`,go=a,jn=this._append,mo=this._,this._=o}this._+=mo}}result(){const i=this._;return this._="",i.length?i:null}}function vo(n){let i=1;this._+=n[0];for(const t=n.length;i<t;++i)this._+=arguments[i]+n[i]}function bo(n,i){let o,r,t=3,a=4.5;function s(c){return c&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),ut(c,o(r))),r.result()}return s.area=function(c){return ut(c,o(to)),to.result()},s.measure=function(c){return ut(c,o(po)),po.result()},s.bounds=function(c){return ut(c,o(qn)),qn.result()},s.centroid=function(c){return ut(c,o(so)),so.result()},s.projection=function(c){return arguments.length?(o=null==c?(n=null,Pi):(n=c).stream,s):n},s.context=function(c){return arguments.length?(r=null==c?(i=null,new _o(t)):new co(i=c),"function"!=typeof a&&r.pointRadius(a),s):i},s.pointRadius=function(c){return arguments.length?(a="function"==typeof c?c:(r.pointRadius(+c),+c),s):a},s.digits=function(c){if(!arguments.length)return t;if(null==c)t=null;else{const d=Math.floor(c);if(!(d>=0))throw new RangeError(`invalid digits: ${c}`);t=d}return null===i&&(r=new _o(t)),s},s.projection(n).digits(t).context(i)}var Wi,Ki,Bn,Gn,Et={sphere:_,point:_,lineStart:function rs(){Et.point=cs,Et.lineEnd=ss},lineEnd:_,polygonStart:_,polygonEnd:_};function ss(){Et.point=Et.lineEnd=_}function cs(n,i){Ki=n*=z,Bn=q(i*=z),Gn=N(i),Et.point=ls}function ls(n,i){n*=z;var t=q(i*=z),a=N(i),o=G(n-Ki),r=N(o),c=a*q(o),d=Gn*t-Bn*a*r,g=Bn*t+Gn*a*r;Wi.add(Re(fe(c*c+d*d),g)),Ki=n,Bn=t,Gn=a}var Xi=[null,null],fs={type:"LineString",coordinates:Xi};function Vi(n,i){return Xi[0]=n,Xi[1]=i,function ds(n){return Wi=new A,ut(n,Et),+Wi}(fs)}var yo={Feature:function(n,i){return Jn(n.geometry,i)},FeatureCollection:function(n,i){for(var t=n.features,a=-1,o=t.length;++a<o;)if(Jn(t[a].geometry,i))return!0;return!1}},xo={Sphere:function(){return!0},Point:function(n,i){return Co(n.coordinates,i)},MultiPoint:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)if(Co(t[a],i))return!0;return!1},LineString:function(n,i){return wo(n.coordinates,i)},MultiLineString:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)if(wo(t[a],i))return!0;return!1},Polygon:function(n,i){return To(n.coordinates,i)},MultiPolygon:function(n,i){for(var t=n.coordinates,a=-1,o=t.length;++a<o;)if(To(t[a],i))return!0;return!1},GeometryCollection:function(n,i){for(var t=n.geometries,a=-1,o=t.length;++a<o;)if(Jn(t[a],i))return!0;return!1}};function Jn(n,i){return!(!n||!xo.hasOwnProperty(n.type))&&xo[n.type](n,i)}function Co(n,i){return 0===Vi(n,i)}function wo(n,i){for(var t,a,o,r=0,s=n.length;r<s;r++){if(0===(a=Vi(n[r],i))||r>0&&(o=Vi(n[r],n[r-1]))>0&&t<=o&&a<=o&&(t+a-o)*(1-Math.pow((t-a)/o,2))<1e-12*o)return!0;t=a}return!1}function To(n,i){return!!se(n.map(us),So(i))}function us(n){return(n=n.map(So)).pop(),n}function So(n){return[n[0]*z,n[1]*z]}function Ft(n,i,t){n=+n,i=+i,t=(o=arguments.length)<2?(i=n,n=0,1):o<3?1:+t;for(var a=-1,o=0|Math.max(0,Math.ceil((i-n)/t)),r=new Array(o);++a<o;)r[a]=n+a*t;return r}function Zo(n,i,t){var a=Ft(n,i-R,t).concat(i);return function(o){return a.map(function(r){return[o,r]})}}function Do(n,i,t){var a=Ft(n,i-R,t).concat(i);return function(o){return a.map(function(r){return[r,o]})}}function Ao(){var n,i,t,a,o,r,s,c,h,v,y,O,d=10,g=d,l=90,p=360,w=2.5;function k(){return{type:"MultiLineString",coordinates:U()}}function U(){return Ft(dt(a/l)*l,t,l).map(y).concat(Ft(dt(c/p)*p,s,p).map(O)).concat(Ft(dt(i/d)*d,n,d).filter(function(Z){return G(Z%l)>R}).map(h)).concat(Ft(dt(r/g)*g,o,g).filter(function(Z){return G(Z%p)>R}).map(v))}return k.lines=function(){return U().map(function(Z){return{type:"LineString",coordinates:Z}})},k.outline=function(){return{type:"Polygon",coordinates:[y(a).concat(O(s).slice(1),y(t).reverse().slice(1),O(c).reverse().slice(1))]}},k.extent=function(Z){return arguments.length?k.extentMajor(Z).extentMinor(Z):k.extentMinor()},k.extentMajor=function(Z){return arguments.length?(c=+Z[0][1],s=+Z[1][1],(a=+Z[0][0])>(t=+Z[1][0])&&(Z=a,a=t,t=Z),c>s&&(Z=c,c=s,s=Z),k.precision(w)):[[a,c],[t,s]]},k.extentMinor=function(Z){return arguments.length?(r=+Z[0][1],o=+Z[1][1],(i=+Z[0][0])>(n=+Z[1][0])&&(Z=i,i=n,n=Z),r>o&&(Z=r,r=o,o=Z),k.precision(w)):[[i,r],[n,o]]},k.step=function(Z){return arguments.length?k.stepMajor(Z).stepMinor(Z):k.stepMinor()},k.stepMajor=function(Z){return arguments.length?(l=+Z[0],p=+Z[1],k):[l,p]},k.stepMinor=function(Z){return arguments.length?(d=+Z[0],g=+Z[1],k):[d,g]},k.precision=function(Z){return arguments.length?(w=+Z,h=Zo(r,o,90),v=Do(i,n,w),y=Zo(c,s,90),O=Do(a,t,w),k):w},k.extentMajor([[-180,-90+R],[180,90-R]]).extentMinor([[-180,-80-R],[180,80+R]])}var _e=T(1086);function Q(n){for(var i=n.length/6|0,t=new Array(i),a=0;a<i;)t[a]="#"+n.slice(6*a,6*++a);return t}function zn(n,i,t){n.prototype=i.prototype=t,t.constructor=n}function ea(n,i){var t=Object.create(n.prototype);for(var a in i)t[a]=i[a];return t}function Lt(){}var It=1/.7,Yt="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gs=/^#([0-9a-f]{3,8})$/,ms=new RegExp(`^rgb\\(${Yt},${Yt},${Yt}\\)$`),_s=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),vs=new RegExp(`^rgba\\(${Yt},${Yt},${Yt},${fn}\\)$`),bs=new RegExp(`^rgba\\(${Je},${Je},${Je},${fn}\\)$`),ys=new RegExp(`^hsl\\(${fn},${Je},${Je}\\)$`),xs=new RegExp(`^hsla\\(${fn},${Je},${Je},${fn}\\)$`),Mo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Oo(){return this.rgb().formatHex()}function ko(){return this.rgb().formatRgb()}function ta(n){var i,t;return n=(n+"").trim().toLowerCase(),(i=gs.exec(n))?(t=i[1].length,i=parseInt(i[1],16),6===t?Ro(i):3===t?new ye(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===t?$n(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===t?$n(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=ms.exec(n))?new ye(i[1],i[2],i[3],1):(i=_s.exec(n))?new ye(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=vs.exec(n))?$n(i[1],i[2],i[3],i[4]):(i=bs.exec(n))?$n(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=ys.exec(n))?No(i[1],i[2]/100,i[3]/100,1):(i=xs.exec(n))?No(i[1],i[2]/100,i[3]/100,i[4]):Mo.hasOwnProperty(n)?Ro(Mo[n]):"transparent"===n?new ye(NaN,NaN,NaN,0):null}function Ro(n){return new ye(n>>16&255,n>>8&255,255&n,1)}function $n(n,i,t,a){return a<=0&&(n=i=t=NaN),new ye(n,i,t,a)}function Po(n){return n instanceof Lt||(n=ta(n)),n?new ye((n=n.rgb()).r,n.g,n.b,n.opacity):new ye}function un(n,i,t,a){return 1===arguments.length?Po(n):new ye(n,i,t,a??1)}function ye(n,i,t,a){this.r=+n,this.g=+i,this.b=+t,this.opacity=+a}function qo(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function Uo(){const n=Qn(this.opacity);return`${1===n?"rgb(":"rgba("}${gt(this.r)}, ${gt(this.g)}, ${gt(this.b)}${1===n?")":`, ${n})`}`}function Qn(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function gt(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function mt(n){return((n=gt(n))<16?"0":"")+n.toString(16)}function No(n,i,t,a){return a<=0?n=i=t=NaN:t<=0||t>=1?n=i=NaN:i<=0&&(n=NaN),new He(n,i,t,a)}function Eo(n){if(n instanceof He)return new He(n.h,n.s,n.l,n.opacity);if(n instanceof Lt||(n=ta(n)),!n)return new He;if(n instanceof He)return n;var i=(n=n.rgb()).r/255,t=n.g/255,a=n.b/255,o=Math.min(i,t,a),r=Math.max(i,t,a),s=NaN,c=r-o,d=(r+o)/2;return c?(s=i===r?(t-a)/c+6*(t<a):t===r?(a-i)/c+2:(i-t)/c+4,c/=d<.5?r+o:2-r-o,s*=60):c=d>0&&d<1?0:s,new He(s,c,d,n.opacity)}function He(n,i,t,a){this.h=+n,this.s=+i,this.l=+t,this.opacity=+a}function Fo(n){return(n=(n||0)%360)<0?n+360:n}function Wn(n){return Math.max(0,Math.min(1,n||0))}function na(n,i,t){return 255*(n<60?i+(t-i)*n/60:n<180?t:n<240?i+(t-i)*(240-n)/60:i)}function Lo(n,i,t,a,o){var r=n*n,s=r*n;return((1-3*n+3*r-s)*i+(4-6*r+3*s)*t+(1+3*n+3*r-3*s)*a+s*o)/6}zn(Lt,ta,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Oo,formatHex:Oo,formatHex8:function Cs(){return this.rgb().formatHex8()},formatHsl:function ws(){return Eo(this).formatHsl()},formatRgb:ko,toString:ko}),zn(ye,un,ea(Lt,{brighter(n){return n=null==n?It:Math.pow(It,n),new ye(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new ye(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ye(gt(this.r),gt(this.g),gt(this.b),Qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qo,formatHex:qo,formatHex8:function Ts(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Uo,toString:Uo})),zn(He,function Ss(n,i,t,a){return 1===arguments.length?Eo(n):new He(n,i,t,a??1)},ea(Lt,{brighter(n){return n=null==n?It:Math.pow(It,n),new He(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new He(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),i=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,a=t+(t<.5?t:1-t)*i,o=2*t-a;return new ye(na(n>=240?n-240:n+120,o,a),na(n,o,a),na(n<120?n+240:n-120,o,a),this.opacity)},clamp(){return new He(Fo(this.h),Wn(this.s),Wn(this.l),Qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Qn(this.opacity);return`${1===n?"hsl(":"hsla("}${Fo(this.h)}, ${100*Wn(this.s)}%, ${100*Wn(this.l)}%${1===n?")":`, ${n})`}`}}));const ia=n=>()=>n;function Io(n,i){return function(t){return n+t*i}}function Ht(n,i){var t=i-n;return t?Io(n,t):ia(isNaN(n)?i:n)}function Yo(n){return function(i){var s,c,t=i.length,a=new Array(t),o=new Array(t),r=new Array(t);for(s=0;s<t;++s)c=un(i[s]),a[s]=c.r||0,o[s]=c.g||0,r[s]=c.b||0;return a=n(a),o=n(o),r=n(r),c.opacity=1,function(d){return c.r=a(d),c.g=o(d),c.b=r(d),c+""}}}!function n(i){var t=function Os(n){return 1==(n=+n)?Ht:function(i,t){return t-i?function As(n,i,t){return n=Math.pow(n,t),i=Math.pow(i,t)-n,t=1/t,function(a){return Math.pow(n+a*i,t)}}(i,t,n):ia(isNaN(i)?t:i)}}(i);function a(o,r){var s=t((o=un(o)).r,(r=un(r)).r),c=t(o.g,r.g),d=t(o.b,r.b),g=Ht(o.opacity,r.opacity);return function(l){return o.r=s(l),o.g=c(l),o.b=d(l),o.opacity=g(l),o+""}}return a.gamma=n,a}(1);var ks=Yo(function Zs(n){var i=n.length-1;return function(t){var a=t<=0?t=0:t>=1?(t=1,i-1):Math.floor(t*i),o=n[a],r=n[a+1];return Lo((t-a/i)*i,a>0?n[a-1]:2*o-r,o,r,a<i-1?n[a+2]:2*r-o)}});Yo(function Ds(n){var i=n.length;return function(t){var a=Math.floor(((t%=1)<0?++t:t)*i);return Lo((t-a/i)*i,n[(a+i-1)%i],n[a%i],n[(a+1)%i],n[(a+2)%i])}});const te=n=>ks(n[n.length-1]),Ps=te(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Q)),Us=te(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Q)),Es=te(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Q)),Ls=te(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Q)),Ys=Math.PI/180,Hs=180/Math.PI;var aa=1.78277,oa=-.29227,Kn=-.90649,pn=1.97294,jo=pn*Kn,Bo=pn*aa,Go=aa*oa- -.14861*Kn;function js(n){if(n instanceof _t)return new _t(n.h,n.s,n.l,n.opacity);n instanceof ye||(n=Po(n));var t=n.g/255,a=n.b/255,o=(Go*a+jo*(n.r/255)-Bo*t)/(Go+jo-Bo),r=a-o,s=(pn*(t-o)-oa*r)/Kn,c=Math.sqrt(s*s+r*r)/(pn*o*(1-o)),d=c?Math.atan2(s,r)*Hs-120:NaN;return new _t(d<0?d+360:d,c,o,n.opacity)}function ze(n,i,t,a){return 1===arguments.length?js(n):new _t(n,i,t,a??1)}function _t(n,i,t,a){this.h=+n,this.s=+i,this.l=+t,this.opacity=+a}function Jo(n){return function i(t){function a(o,r){var s=n((o=ze(o)).h,(r=ze(r)).h),c=Ht(o.s,r.s),d=Ht(o.l,r.l),g=Ht(o.opacity,r.opacity);return function(l){return o.h=s(l),o.s=c(l),o.l=d(Math.pow(l,t)),o.opacity=g(l),o+""}}return t=+t,a.gamma=i,a}(1)}zn(_t,ze,ea(Lt,{brighter(n){return n=null==n?It:Math.pow(It,n),new _t(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new _t(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Ys,i=+this.l,t=isNaN(this.s)?0:this.s*i*(1-i),a=Math.cos(n),o=Math.sin(n);return new ye(255*(i+t*(-.14861*a+aa*o)),255*(i+t*(oa*a+Kn*o)),255*(i+t*(pn*a)),this.opacity)}})),Jo(function Ms(n,i){var t=i-n;return t?Io(n,t>180||t<-180?t-360*Math.round(t/360):t):ia(isNaN(n)?i:n)});var ra=Jo(Ht),Bs=ra(ze(-100,.75,.35),ze(80,1.5,.8)),Gs=ra(ze(260,.75,.35),ze(80,1.5,.8)),Xn=ze();const zs=ra(ze(300,.5,0),ze(-240,.5,1)),Qs=te(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Q)),Ks=te(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Q)),Vs=te(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Q));function Vn(n){var i=n.length;return function(t){return n[Math.max(0,Math.min(i-1,Math.floor(t*i)))]}}const ec=Vn(Q("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var tc=Vn(Q("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),nc=Vn(Q("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ic=Vn(Q("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const oc=te(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Q)),sc=te(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Q)),lc=te(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Q)),fc=te(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Q)),pc=te(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Q)),gc=te(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Q)),_c=te(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Q)),bc=te(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Q)),xc=te(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Q)),wc=te(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Q)),Sc=te(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Q)),Dc=te(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Q)),Mc=te(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Q)),kc=te(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Q)),Pc=te(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Q));var ei=un(),qc=Math.PI/3,Uc=2*Math.PI/3;const Fc=te(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Q)),Yc=te(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Q)),jc=te(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Q)),Gc=te(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Q)),zc=te(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Q)),hn={geoAzimuthalEqualArea:function kr(){return Xe(Ha).scale(124.75).clipAngle(179.999)},geoAzimuthalEquidistant:function Rr(){return Xe(ja).scale(79.4188).clipAngle(179.999)},geoGnomonic:function Pr(){return Xe(Ba).scale(144.049).clipAngle(60)},geoOrthographic:function qr(){return Xe(Ga).scale(249.5).clipAngle(90+R)},geoStereographic:function Ur(){return Xe(Ja).scale(250).clipAngle(142)},geoEqualEarth:function Er(){return Xe(za).scale(177.158)},geoAlbers:$a,geoAlbersUsa:function Yr(){var n,i,a,r,c,d,t=$a(),o=Nn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Nn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g={point:function(h,v){d=[h,v]}};function l(h){var v=h[0],y=h[1];return d=null,a.point(v,y),d||(r.point(v,y),d)||(c.point(v,y),d)}function p(){return n=i=null,l}return l.invert=function(h){var v=t.scale(),y=t.translate(),O=(h[0]-y[0])/v,w=(h[1]-y[1])/v;return(w>=.12&&w<.234&&O>=-.425&&O<-.214?o:w>=.166&&w<.234&&O>=-.214&&O<-.115?s:t).invert(h)},l.stream=function(h){return n&&i===h?n:n=function Ir(n){var i=n.length;return{point:function(t,a){for(var o=-1;++o<i;)n[o].point(t,a)},sphere:function(){for(var t=-1;++t<i;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)n[t].polygonEnd()}}}([t.stream(i=h),o.stream(h),s.stream(h)])},l.precision=function(h){return arguments.length?(t.precision(h),o.precision(h),s.precision(h),p()):t.precision()},l.scale=function(h){return arguments.length?(t.scale(h),o.scale(.35*h),s.scale(h),l.translate(t.translate())):t.scale()},l.translate=function(h){if(!arguments.length)return t.translate();var v=t.scale(),y=+h[0],O=+h[1];return a=t.translate(h).clipExtent([[y-.455*v,O-.238*v],[y+.455*v,O+.238*v]]).stream(g),r=o.translate([y-.307*v,O+.201*v]).clipExtent([[y-.425*v+R,O+.12*v+R],[y-.214*v-R,O+.234*v-R]]).stream(g),c=s.translate([y-.205*v,O+.212*v]).clipExtent([[y-.214*v+R,O+.166*v+R],[y-.115*v-R,O+.234*v-R]]).stream(g),p()},l.fitExtent=function(h,v){return Fi(l,h,v)},l.fitSize=function(h,v){return Ua(l,h,v)},l.fitWidth=function(h,v){return Na(l,h,v)},l.fitHeight=function(h,v){return Ea(l,h,v)},l.scale(1070)},geoConicConformal:function Br(){return Li(jr).scale(109.5).parallels([30,30])},geoConicEqualArea:Nn,geoConicEquidistant:function zr(){return Li(Jr).scale(131.154).center([0,13.9389])},geoEquirectangular:function Gr(){return Xe(Ln).scale(152.63)},geoMercator:function Hr(){return Qa(En).scale(961/be)},geoTransverseMercator:function $r(){var n=Qa(Wa),i=n.center,t=n.rotate;return n.center=function(a){return arguments.length?i([-a[1],a[0]]):[(a=i())[1],-a[0]]},n.rotate=function(a){return arguments.length?t([a[0],a[1],a.length>2?a[2]+90:90]):[(a=t())[0],a[1],a[2]-90]},t([0,0,90]).scale(159.155)},geoNaturalEarth1:function Qr(){return Xe(Ka).scale(175.295)}};Object.keys(hn).forEach(n=>{hn[`${n.charAt(3).toLowerCase()}${n.slice(4)}`]=hn[n]});let sa=(()=>{class n extends ee.Ci{constructor(t){super(t),this.outlineBounds=null,this.oldChartBounds=null,this.geoPath=bo()}init(t){t.position="chartArea",super.init(t),this.projection="function"==typeof t.projection?t.projection:(hn[t.projection]||hn.albersUsa)(),this.geoPath.projection(this.projection),this.outlineBounds=null,this.oldChartBounds=null}computeBounds(t){const a=bo(this.projection.fitWidth(1e3,t)).bounds(t),o=Math.ceil(a[1][1]-a[0][1]),r=Math.ceil(a[1][0]-a[0][0]),s=this.projection.translate();this.outlineBounds={width:r,height:o,aspectRatio:r/o,refScale:this.projection.scale(),refX:s[0],refY:s[1]}}updateBounds(){const t=this.chart.chartArea,a=this.outlineBounds;if(!a)return!1;const o=this.options.padding,r="number"==typeof o?o:o.top,s="number"==typeof o?o:o.left,g=t.right-t.left-s-("number"==typeof o?o:o.right),l=t.bottom-t.top-r-("number"==typeof o?o:o.bottom),p=this.oldChartBounds;this.oldChartBounds={chartWidth:g,chartHeight:l};const h=Math.min(g/a.width,l/a.height),O=.5*(g-a.width*h)+t.left+s,w=.5*(l-a.height*h)+t.top+r,k=this.options;return this.projection.scale(a.refScale*h*k.projectionScale).translate([h*a.refX+O+k.projectionOffset[0],h*a.refY+w+k.projectionOffset[1]]),!p||p.chartWidth!==this.oldChartBounds.chartWidth||p.chartHeight!==this.oldChartBounds.chartHeight}}return n.id="projection",n.defaults={projection:"albersUsa",projectionScale:1,projectionOffset:[0,0],padding:0},n.descriptors={_scriptable:i=>"projection"!==i,_indexable:i=>"projectionOffset"!==i},n})();const ti={position:"chartArea",property:"value",grid:{z:1,drawOnChartArea:!1},ticks:{z:1},legend:{align:"right",position:"bottom-right",length:100,width:50,margin:8,indicatorWidth:10}};class jt extends ee.f${constructor(){super(...arguments),this.legendSize={w:0,h:0}}init(i){i.position="chartArea",super.init(i),this.axis="r"}parse(i,t){return i&&"number"==typeof i[this.options.property]?i[this.options.property]:super.parse(i,t)}isHorizontal(){return"top"===this.options.legend.align||"bottom"===this.options.legend.align}_getNormalizedValue(i){return null==i||Number.isNaN(i)?null:(i-this._startValue)/this._valueRange}update(i,t,a){const o=Math.min(t,this.bottom??Number.POSITIVE_INFINITY),r=Math.min(i,this.right??Number.POSITIVE_INFINITY),s=this.options.legend,c=this.isHorizontal(),d=(v,y)=>v<1?y*v:v,g=Math.min(r,d(c?s.length:s.width,r))-(c?0:s.indicatorWidth),l=Math.min(o,d(c?s.width:s.length,o))-(c?s.indicatorWidth:0);this.legendSize={w:g,h:l},this.bottom=l,this.height=l,this.right=g,this.width=g;const p=this.options.position;this.options.position=this.options.legend.align;const h=super.update(g,l,a);return this.options.position=p,this.height=Math.min(l,this.height),this.width=Math.min(g,this.width),h}_computeLabelArea(){}draw(i){if(!this._isVisible())return;const t=function Qc(n,i,t,a,o){const{indicatorWidth:r,align:s,position:c}=i,d="top"===s||"bottom"===s,g=("left"===s?o.w:t)+(d?r:0),l=("top"===s?o.h:a)+(d?0:r),p=function $c(n){const{indicatorWidth:i,align:t,margin:a}=n;return{left:("number"==typeof a?a:a.left)+("right"===t?i:0),top:("number"==typeof a?a:a.top)+("bottom"===t?i:0),right:("number"==typeof a?a:a.right)+("left"===t?i:0),bottom:("number"==typeof a?a:a.bottom)+("top"===t?i:0)}}(i);if("string"==typeof c)switch(c){case"top-left":return[p.left,p.top];case"top":return[(n.right-g)/2,p.top];case"left":return[p.left,(n.bottom-l)/2];case"top-right":return[n.right-g-p.right,p.top];case"bottom-right":return[n.right-g-p.right,n.bottom-l-p.bottom];case"bottom":return[(n.right-g)/2,n.bottom-l-p.bottom];case"bottom-left":return[p.left,n.bottom-l-p.bottom];default:return[n.right-g-p.right,(n.bottom-l)/2]}return[c.x,c.y]}(i,this.options.legend,this.width,this.height,this.legendSize),{ctx:a}=this;a.save(),a.translate(t[0],t[1]);const o=this.options.position;this.options.position=this.options.legend.align,super.draw({...i,bottom:this.height+10,right:this.width}),this.options.position=o;const{indicatorWidth:r}=this.options.legend;switch(this.options.legend.align){case"left":a.translate(this.legendSize.w,0);break;case"top":a.translate(0,this.legendSize.h);break;case"bottom":a.translate(0,-r);break;default:a.translate(-r,0)}this._drawIndicator(),a.restore()}_drawIndicator(){}}class zo extends ee.WV{constructor(){super(...arguments),this.legendSize={w:0,h:0}}init(i){jt.prototype.init.call(this,i)}parse(i,t){return jt.prototype.parse.call(this,i,t)}isHorizontal(){return"top"===this.options.legend.align||"bottom"===this.options.legend.align}_getNormalizedValue(i){return null==i||Number.isNaN(i)?null:(Math.log10(i)-this._startValue)/this._valueRange}update(i,t,a){return jt.prototype.update.call(this,i,t,a)}_computeLabelArea(){}draw(i){return jt.prototype.draw.call(this,i)}_drawIndicator(){}}const Ve={interpolateBlues:Ps,interpolateBrBG:Us,interpolateBuGn:Es,interpolateBuPu:Ls,interpolateCividis:function Is(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-2710.57*n)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-67.37*n)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-2475.67*n)))))))+")"},interpolateCool:Gs,interpolateCubehelixDefault:zs,interpolateGnBu:Qs,interpolateGreens:Ks,interpolateGreys:Vs,interpolateInferno:nc,interpolateMagma:tc,interpolateOrRd:oc,interpolateOranges:sc,interpolatePRGn:lc,interpolatePiYG:fc,interpolatePlasma:ic,interpolatePuBu:pc,interpolatePuBuGn:gc,interpolatePuOr:_c,interpolatePuRd:bc,interpolatePurples:xc,interpolateRainbow:function Js(n){(n<0||n>1)&&(n-=Math.floor(n));var i=Math.abs(n-.5);return Xn.h=360*n-100,Xn.s=1.5-1.5*i,Xn.l=.8-.9*i,Xn+""},interpolateRdBu:wc,interpolateRdGy:Sc,interpolateRdPu:Dc,interpolateRdYlBu:Mc,interpolateRdYlGn:kc,interpolateReds:Pc,interpolateSinebow:function Nc(n){var i;return n=(.5-n)*Math.PI,ei.r=255*(i=Math.sin(n))*i,ei.g=255*(i=Math.sin(n+qc))*i,ei.b=255*(i=Math.sin(n+Uc))*i,ei+""},interpolateSpectral:Fc,interpolateTurbo:function Lc(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-14825.05*n)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+707.56*n)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-6838.66*n)))))))+")"},interpolateViridis:ec,interpolateWarm:Bs,interpolateYlGn:Yc,interpolateYlGnBu:jc,interpolateYlOrBr:Gc,interpolateYlOrRd:zc};function $o(n,i){const t=1/i;if(n<=t)return 0;if(n>=1-t)return 1;for(let a=0;a<1;a+=t)if(n<a)return a-t/2;return n}Object.keys(Ve).forEach(n=>{Ve[`${n.charAt(11).toLowerCase()}${n.slice(12)}`]=Ve[n],Ve[n.slice(11)]=Ve[n]});const Qo={interpolate:"blues",missing:"transparent",quantize:0};class vt extends jt{get interpolate(){const i=this.options;return i?"function"==typeof i.interpolate?i.interpolate:Ve[i.interpolate]||Ve.blues:t=>`rgb(${t},${t},${t})`}getColorForValue(i){const t=this._getNormalizedValue(i);return null==t||Number.isNaN(t)?this.options.missing:this.getColor(t)}getColor(i){let t=i;return this.options.quantize>0&&(t=$o(t,this.options.quantize)),this.interpolate(t)}_drawIndicator(){const{indicatorWidth:i}=this.options.legend,t=this._reversePixels;if(this.isHorizontal()){const a=this.width;if(this.options.quantize>0){const o=a/this.options.quantize,r=t?s=>a-o-s:s=>s;for(let s=0;s<a;s+=o)this.ctx.fillStyle=this.getColor((s+o/2)/a),this.ctx.fillRect(r(s),0,o,i)}else{const o=t?r=>a-1-r:r=>r;for(let r=0;r<a;r+=1)this.ctx.fillStyle=this.getColor((r+.5)/a),this.ctx.fillRect(o(r),0,1,i)}}else{const a=this.height;if(this.options.quantize>0){const o=a/this.options.quantize,r=t?s=>a-o-s:s=>s;for(let s=0;s<a;s+=o)this.ctx.fillStyle=this.getColor((s+o/2)/a),this.ctx.fillRect(0,r(s),i,o)}else{const o=t?r=>a-1-r:r=>r;for(let r=0;r<a;r+=1)this.ctx.fillStyle=this.getColor((r+.5)/a),this.ctx.fillRect(0,o(r),i,1)}}}}vt.id="color",vt.defaults=(0,_e.a4)({},[ee.f$.defaults,ti,Qo]),vt.descriptors={_scriptable:n=>"interpolate"!==n,_indexable:!1};class ca extends zo{constructor(){super(...arguments),this.interpolate=i=>`rgb(${i},${i},${i})`}init(i){super.init(i),this.interpolate="function"==typeof i.interpolate?i.interpolate:Ve[i.interpolate]||Ve.blues}getColorForValue(i){return vt.prototype.getColorForValue.call(this,i)}getColor(i){let t=i;return this.options.quantize>0&&(t=$o(t,this.options.quantize)),this.interpolate(t)}_drawIndicator(){return vt.prototype._drawIndicator.call(this)}}ca.id="colorLogarithmic",ca.defaults=(0,_e.a4)({},[ee.WV.defaults,ti,Qo]),ca.descriptors={_scriptable:n=>"interpolate"!==n,_indexable:!1};const Wo={missing:1,mode:"area",range:[2,20],legend:{align:"bottom",length:90,width:70,indicatorWidth:42}};class bt extends jt{constructor(){super(...arguments),this._model=null}getSizeForValue(i){const t=this._getNormalizedValue(i);return null==t||Number.isNaN(t)?this.options.missing:this.getSizeImpl(t)}getSizeImpl(i){const[t,a]=this.options.range;if("area"===this.options.mode){const r=a*a*Math.PI,s=t*t*Math.PI;return Math.sqrt((i*(r-s)+s)/Math.PI)}return i*(a-t)+t}_drawIndicator(){const{ctx:i}=this,t=this.options.legend.indicatorWidth/2,a=this.isHorizontal(),o=this.ticks,r=this.getLabelItems(),s=r?r.map(c=>({[a?"x":"y"]:c.options.translation[a?0:1]})):o.map((c,d)=>({[a?"x":"y"]:this.getPixelForTick(d)}));if((this._gridLineItems||[]).forEach(c=>{if(i.save(),i.strokeStyle=c.color,i.lineWidth=c.width,i.setLineDash&&(i.setLineDash(c.borderDash),i.lineDashOffset=c.borderDashOffset),i.beginPath(),this.options.grid.drawTicks)switch(this.options.legend.align){case"left":i.moveTo(0,c.ty1),i.lineTo(t,c.ty2);break;case"top":i.moveTo(c.tx1,0),i.lineTo(c.tx2,t);break;case"bottom":i.moveTo(c.tx1,t),i.lineTo(c.tx2,2*t);break;default:i.moveTo(t,c.ty1),i.lineTo(2*t,c.ty2)}i.stroke(),i.restore()}),this._model){const c=this._model;i.strokeStyle=c.borderColor,i.lineWidth=c.borderWidth||0,i.fillStyle=c.backgroundColor}else i.fillStyle="blue";o.forEach((c,d)=>{const g=s[d],l=this.getSizeForValue(c.value),v={pointStyle:"circle",borderWidth:0,...this._model||{},radius:l};(0,_e.at)(i,v,a?g.x:t,a?t:g.y)})}}bt.id="size",bt.defaults=(0,_e.a4)({},[ee.f$.defaults,ti,Wo]),bt.descriptors={_scriptable:!0,_indexable:n=>"range"!==n};class Ko extends zo{constructor(){super(...arguments),this._model=null}getSizeForValue(i){const t=this._getNormalizedValue(i);return null==t||Number.isNaN(t)?this.options.missing:this.getSizeImpl(t)}getSizeImpl(i){return bt.prototype.getSizeImpl.call(this,i)}_drawIndicator(){bt.prototype._drawIndicator.call(this)}}Ko.id="sizeLogarithmic",Ko.defaults=(0,_e.a4)({},[ee.WV.defaults,ti,Wo]);class rt extends ee.W_{constructor(){super(...arguments),this.cache=void 0}inRange(i,t){const a=this.getBounds(),o=(Number.isNaN(i)||i>=a.x&&i<=a.x2)&&(Number.isNaN(t)||t>=a.y&&t<=a.y2),r=this.projectionScale.geoPath.projection();if(o&&!Number.isNaN(i)&&!Number.isNaN(t)&&"function"==typeof r.invert){const s=r.invert([i,t]);return null!=s&&function ps(n,i){return(n&&yo.hasOwnProperty(n.type)?yo[n.type]:Jn)(n,i)}(this.feature,s)}return o}inXRange(i){return this.inRange(i,Number.NaN)}inYRange(i){return this.inRange(Number.NaN,i)}getCenterPoint(){if(this.cache&&this.cache.center)return this.cache.center;let i;if(this.center){const t=this.projectionScale.projection([this.center.longitude,this.center.latitude]);i={x:t[0],y:t[1]}}else{const t=this.projectionScale.geoPath.centroid(this.feature);i={x:t[0],y:t[1]}}return this.cache={...this.cache||{},center:i},i}getBounds(){if(this.cache&&this.cache.bounds)return this.cache.bounds;const i=function Wc(n,i){return[[n[0][0]-i,n[0][1]-i],[n[1][0]+i,n[1][1]+i]]}(this.projectionScale.geoPath.bounds(this.feature),this.options.borderWidth/2),t={x:i[0][0],x2:i[1][0],y:i[0][1],y2:i[1][1],width:i[1][0]-i[0][0],height:i[1][1]-i[0][1]};return this.cache={...this.cache||{},bounds:t},t}_drawInCache(i){const t=this.getBounds();if(!Number.isFinite(t.x))return;const a=this.cache&&this.cache.canvas?this.cache.canvas:i.createElement("canvas"),o=Math.floor(t.x),r=Math.floor(t.y),s=Math.ceil(t.x+t.width),c=Math.ceil(t.y+t.height),d=this.pixelRatio||1;a.width=Math.max(s-o,1)*d,a.height=Math.max(c-r,1)*d;const g=a.getContext("2d");g&&(g.clearRect(0,0,a.width,a.height),g.save(),g.scale(d,d),g.translate(-o,-r),this._drawImpl(g),g.restore(),this.cache={...this.cache||{},canvas:a,canvasKey:this._optionsToKey()})}_optionsToKey(){const{options:i}=this;return`${i.backgroundColor};${i.borderColor};${i.borderWidth};${this.pixelRatio}`}_drawImpl(i){const{feature:t}=this,{options:a}=this;i.beginPath(),this.projectionScale.geoPath.context(i)(t),a.backgroundColor&&(i.fillStyle=a.backgroundColor,i.fill()),a.borderColor&&(i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.stroke())}draw(i){const{feature:t}=this;if(!t)return;(!this.cache||this.cache.canvasKey!==this._optionsToKey())&&this._drawInCache(i.canvas.ownerDocument);const a=this.getBounds();if(this.cache&&this.cache.canvas){const o=Math.floor(a.x),r=Math.floor(a.y),s=Math.ceil(a.x+a.width),c=Math.ceil(a.y+a.height);i.drawImage(this.cache.canvas,o,r,s-o,c-r)}else Number.isFinite(a.x)&&(i.save(),this._drawImpl(i),i.restore())}}rt.id="geoFeature",rt.defaults={...ee.ZL.defaults,outlineBackgroundColor:null,outlineBorderWidth:0,graticuleBorderColor:"#CCCCCC",graticuleBorderWidth:0},rt.defaultRoutes={outlineBorderColor:"borderColor",...ee.ZL.defaultRoutes||{}};const Xo={showOutline:!1,showGraticule:!1,clipMap:!0},Vo={scales:{projection:{axis:"x",type:sa.id,position:"chartArea",display:!1}}};function er(n){const i={...n};return Object.keys(n).forEach(t=>{let a=t;if(t.startsWith("outline")){const o=t.slice(7);a=o[0].toLowerCase()+o.slice(1)}else{if(!t.startsWith("hoverOutline"))return;a=`hover${t.slice(12)}`}delete i[t],i[a]=n[t]}),i}class tr extends ee.Q7{getGeoDataset(){return super.getDataset()}getGeoOptions(){return this.chart.options}getProjectionScale(){return this.getScaleForId("projection")}linkScales(){const i=this.getGeoDataset(),t=this.getMeta();t.xAxisID="projection",i.xAxisID="projection",t.yAxisID="projection",i.yAxisID="projection",t.xScale=this.getScaleForId("projection"),t.yScale=this.getScaleForId("projection"),this.getProjectionScale().computeBounds(this.resolveOutline())}showOutline(){return(0,_e.v)(this.getGeoDataset().showOutline,this.getGeoOptions().showOutline)}clipMap(){return(0,_e.v)(this.getGeoDataset().clipMap,this.getGeoOptions().clipMap)}getGraticule(){return(0,_e.v)(this.getGeoDataset().showGraticule,this.getGeoOptions().showGraticule)}update(i){super.update(i);const t=this.getMeta(),a=this.getProjectionScale(),o=a.updateBounds();if(this.showOutline()){const r=t.dataset;if(o&&delete r.cache,r.projectionScale=a,r.pixelRatio=this.chart.currentDevicePixelRatio,"resize"!==i){const s=er(this.resolveDatasetElementOptions(i)),c={feature:this.resolveOutline(),options:s};this.updateElement(r,void 0,c,i),this.getGraticule()&&(t.graticule=s)}}else this.getGraticule()&&"resize"!==i&&(t.graticule=er(this.resolveDatasetElementOptions(i)));this.updateElements(t.data,0,t.data.length,i),o&&t.data.forEach(r=>delete r.cache)}resolveOutline(){const t=this.getGeoDataset().outline||{type:"Sphere"};return Array.isArray(t)?{type:"FeatureCollection",features:t}:t}showGraticule(){const i=this.getGraticule(),t=this.getMeta().graticule;if(!i||!t)return;const{ctx:a}=this.chart,r=this.getProjectionScale().geoPath.context(a);if(a.save(),a.beginPath(),"boolean"==typeof i)i&&r(function hs(){return Ao()()}());else{const s=Ao();i.stepMajor&&s.stepMajor(i.stepMajor),i.stepMinor&&s.stepMinor(i.stepMinor),r(s())}a.strokeStyle=t.graticuleBorderColor,a.lineWidth=t.graticuleBorderWidth,a.stroke(),a.restore()}draw(){const{chart:i}=this,t=this.clipMap();let a=!1;(!0===t||"outline"===t||"outline+graticule"===t)&&(a=!0,(0,_e.Y)(i.ctx,i.chartArea)),this.showOutline()&&this.getMeta().dataset&&this.getMeta().dataset.draw.call(this.getMeta().dataset,i.ctx,i.chartArea),!0===t||"graticule"===t||"outline+graticule"===t?a||(0,_e.Y)(i.ctx,i.chartArea):a&&(a=!1,(0,_e.$)(i.ctx)),this.showGraticule(),!0===t||"items"===t?a||(0,_e.Y)(i.ctx,i.chartArea):a&&(a=!1,(0,_e.$)(i.ctx)),this.getMeta().data.forEach(o=>o.draw.call(o,i.ctx,i.chartArea)),a&&(a=!1,(0,_e.$)(i.ctx))}}function nr(n,i,t,a=[],o=[]){ee.i_.addControllers(t),Array.isArray(a)?ee.i_.addElements(...a):ee.i_.addElements(a),Array.isArray(o)?ee.i_.addScales(...o):ee.i_.addScales(o);const r=i;return r.type=n,r}class gn extends tr{initialize(){super.initialize(),this.enableOptionSharing=!0}linkScales(){super.linkScales();const i=this.getGeoDataset(),t=this.getMeta();t.vAxisID="color",t.rAxisID="color",i.vAxisID="color",i.rAxisID="color",t.rScale=this.getScaleForId("color"),t.vScale=t.rScale,t.iScale=t.xScale,t.iAxisID=t.xAxisID,i.iAxisID=t.xAxisID}_getOtherScale(i){return i}parse(i,t){const a=this.getMeta().rScale,{data:o}=this.getDataset(),r=this._cachedMeta;for(let s=i;s<i+t;s+=1)r._parsed[s]={[a.axis]:a.parse(o[s],s)}}updateElements(i,t,a,o){const r=this.resolveDataElementOptions(t,o),s=this.getSharedOptions(r),c=this.includeOptions(o,s),d=this.getProjectionScale();this.updateSharedOptions(s,o,r);for(let g=t;g<t+a;g+=1){const l=i[g];l.projectionScale=d,l.feature=this._data[g].feature,l.center=this._data[g].center,l.pixelRatio=this.chart.currentDevicePixelRatio;const p=l.getCenterPoint(),h={x:p.x,y:p.y};c&&(h.options=s||this.resolveDataElementOptions(g,o)),this.updateElement(l,g,h,o)}}indexToColor(i){const t=this.getMeta().rScale;return t.getColorForValue(this.getParsed(i)[t.axis])}}gn.id="choropleth",gn.defaults=(0,_e.a4)({},[Xo,{datasetElementType:rt.id,dataElementType:rt.id}]),gn.overrides=(0,_e.a4)({},[Vo,{plugins:{tooltip:{callbacks:{title:()=>"",label(n){var i,t,a,o;return null==n.formattedValue?null===(t=null===(i=n.chart.data)||void 0===i?void 0:i.labels)||void 0===t?void 0:t[n.dataIndex]:`${null===(o=null===(a=n.chart.data)||void 0===a?void 0:a.labels)||void 0===o?void 0:o[n.dataIndex]}: ${n.formattedValue}`}}},colors:{enabled:!1}},scales:{color:{type:vt.id,axis:"x"}},elements:{geoFeature:{backgroundColor:n=>null==n.dataIndex?null:n.chart.getDatasetMeta(n.datasetIndex).controller.indexToColor(n.dataIndex)}}}]);class ir extends ee.kL{constructor(i,t){super(i,nr("choropleth",t,gn,rt,[vt,sa]))}}ir.id=gn.id;class mn extends tr{initialize(){super.initialize(),this.enableOptionSharing=!0}linkScales(){super.linkScales();const i=this.getGeoDataset(),t=this.getMeta();t.vAxisID="size",t.rAxisID="size",i.vAxisID="size",i.rAxisID="size",t.rScale=this.getScaleForId("size"),t.vScale=t.rScale,t.iScale=t.xScale,t.iAxisID=t.xAxisID,i.iAxisID=t.xAxisID}_getOtherScale(i){return i}parse(i,t){const a=this.getMeta().rScale,o=this.getDataset().data,r=this._cachedMeta;for(let s=i;s<i+t;s+=1){const c=o[s];r._parsed[s]={x:c.longitude??c.x,y:c.latitude??c.y,[a.axis]:a.parse(c,s)}}}updateElements(i,t,a,o){const r="reset"===o,s=this.resolveDataElementOptions(t,o),c=this.getSharedOptions(s),d=this.includeOptions(o,c),g=this.getProjectionScale();this.getMeta().rScale._model=s,this.updateSharedOptions(c,o,s);for(let l=t;l<t+a;l+=1){const p=i[l],h=this.getParsed(l),v=g.projection([h.x,h.y]),y={x:v?v[0]:0,y:v?v[1]:0,skip:Number.isNaN(h.x)||Number.isNaN(h.y)};d&&(y.options=c||this.resolveDataElementOptions(l,o),r&&(y.options.radius=0)),this.updateElement(p,l,y,o)}}indexToRadius(i){const t=this.getMeta().rScale;return t.getSizeForValue(this.getParsed(i)[t.axis])}}function Vc(n){return n}function ar(n,i){var t=i.id,a=i.bbox,o=i.properties??{},r=function nl(n,i){var t=function el(n){if(null==n)return Vc;var i,t,a=n.scale[0],o=n.scale[1],r=n.translate[0],s=n.translate[1];return function(c,d){d||(i=t=0);var g=2,l=c.length,p=new Array(l);for(p[0]=(i+=c[0])*a+r,p[1]=(t+=c[1])*o+s;g<l;)p[g]=c[g],++g;return p}}(n.transform),a=n.arcs;function o(l,p){p.length&&p.pop();for(var h=a[l<0?~l:l],v=0,y=h.length;v<y;++v)p.push(t(h[v],v));l<0&&function Xc(n,i){for(var t,a=n.length,o=a-i;o<--a;)t=n[o],n[o++]=n[a],n[a]=t}(p,y)}function r(l){return t(l)}function s(l){for(var p=[],h=0,v=l.length;h<v;++h)o(l[h],p);return p.length<2&&p.push(p[0]),p}function c(l){for(var p=s(l);p.length<4;)p.push(p[0]);return p}function d(l){return l.map(c)}return function g(l){var h,p=l.type;switch(p){case"GeometryCollection":return{type:p,geometries:l.geometries.map(g)};case"Point":h=r(l.coordinates);break;case"MultiPoint":h=l.coordinates.map(r);break;case"LineString":h=s(l.arcs);break;case"MultiLineString":h=l.arcs.map(s);break;case"Polygon":h=d(l.arcs);break;case"MultiPolygon":h=l.arcs.map(d);break;default:return null}return{type:p,coordinates:h}}(i)}(n,i);return null==t&&null==a?{type:"Feature",properties:o,geometry:r}:null==a?{type:"Feature",id:t,properties:o,geometry:r}:{type:"Feature",id:t,bbox:a,properties:o,geometry:r}}mn.id="bubbleMap",mn.defaults=(0,_e.a4)({},[Xo,{dataElementType:ee.od.id,datasetElementType:rt.id,showOutline:!0,clipMap:"outline+graticule"}]),mn.overrides=(0,_e.a4)({},[Vo,{plugins:{tooltip:{callbacks:{title:()=>"",label(n){var i,t,a,o;return null==n.formattedValue?null===(t=null===(i=n.chart.data)||void 0===i?void 0:i.labels)||void 0===t?void 0:t[n.dataIndex]:`${null===(o=null===(a=n.chart.data)||void 0===a?void 0:a.labels)||void 0===o?void 0:o[n.dataIndex]}: ${n.formattedValue}`}}}},scales:{size:{axis:"x",type:bt.id}},elements:{point:{radius:n=>null==n.dataIndex?null:n.chart.getDatasetMeta(n.datasetIndex).controller.indexToRadius(n.dataIndex),hoverRadius:n=>null==n.dataIndex?null:n.chart.getDatasetMeta(n.datasetIndex).controller.indexToRadius(n.dataIndex)+1}}}]),class Kc extends ee.kL{constructor(i,t){super(i,nr("bubbleMap",t,mn,rt,[bt,sa]))}}.id=mn.id;const il={Dublin:"Contae \xc1tha Cliath",Monaghan:"Contae Mhuineach\xe1in",Galway:"Contae na Gaillimhe",Cork:"Contae Chorca\xed\xad",Limerick:"Contae Luimnigh",Waterford:"Contae Phort L\xe1irge",Tipperary:"Contae Thiobraid \xc1rann",Louth:"Contae L\xfa",Mayo:"Contae Mhaigh Eo",Meath:"Contae na M\xed",Offaly:"Contae U\xed\xadbh Fhail\xed",Westmeath:"Contae na hIarmh\xed\xad",Wexford:"Contae Loch Garman",Wicklow:"Contae Chill Mhant\xe1in",Kildare:"Contae Chill Dara",Kilkenny:"Contae Chill Chainnigh",Laois:"Contae Laoise",Kerry:"Contae Chiarra\xed",Roscommon:"Contae Ros Com\xe1in",Sligo:"Contae Shligigh",Donegal:"Contae Dh\xfan na nGall",Leitrim:"Contae Liatroma",Longford:"Contae an Longfoirt",Clare:"Contae an Chl\xe1ir",Carlow:"Contae Cheatharlach",Cavan:"Contae an Chabh\xe1in",Belfast:"B\xe9al Feirste",Antrim:"Contae Aontroma",Armagh:"Contae Ard Mhacha",Derry:"Contae Dhoire",Down:"Contae an D\xfain",Tryone:"Contae Th\xedr Eoghain",Fermanagh:"Contae Fhear Manach"};var yt=T(3546);function al(n,i){if(1&n&&(e.TgZ(0,"mat-card-title"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("Number of Users (",t.userCounts.total,")")}}function ol(n,i){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header",4)(2,"mat-card-title"),e._uU(3,"Story Stats"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"mat-card")(6,"mat-card-content",12)(7,"b"),e._uU(8,"Total words:"),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"mat-card")(11,"mat-card-content",12)(12,"b"),e._uU(13,"Total stories:"),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"mat-card")(16,"mat-card-content",12)(17,"b"),e._uU(18,"Avg words per story:"),e.qZA(),e._uU(19),e.qZA()(),e.TgZ(20,"mat-card")(21,"mat-card-content",12)(22,"b"),e._uU(23,"Total recordings:"),e.qZA(),e._uU(24),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(9),e.hij(" ",t.storyStats.totalWords," "),e.xp6(5),e.hij(" ",t.storyStats.totalStories," "),e.xp6(5),e.hij(" ",t.storyStats.avgWordCount," "),e.xp6(5),e.hij(" ",t.storyStats.totalRecordings," ")}}function rl(n,i){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header",4)(2,"mat-card-title"),e._uU(3,"User Stats"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"mat-card")(6,"mat-card-content",12)(7,"b"),e._uU(8,"Profiles filled out:"),e.qZA(),e._uU(9),e.ALo(10,"percent"),e.qZA()(),e.TgZ(11,"mat-card")(12,"mat-card-content",12)(13,"b"),e._uU(14,"Students with at least 1 story:"),e.qZA(),e._uU(15),e.ALo(16,"percent"),e.qZA()(),e.TgZ(17,"mat-card")(18,"mat-card-content",12)(19,"b"),e._uU(20,"Teaechers with at least 1 classroom:"),e.qZA(),e._uU(21),e.ALo(22,"percent"),e.qZA()(),e.TgZ(23,"mat-card")(24,"mat-card-content",12)(25,"b"),e._uU(26,"Language Settings:"),e.qZA(),e.TgZ(27,"div")(28,"b"),e._uU(29,"GA:"),e.qZA(),e._uU(30),e.ALo(31,"percent"),e.qZA(),e.TgZ(32,"div")(33,"b"),e._uU(34,"EN:"),e.qZA(),e._uU(35),e.ALo(36,"percent"),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(9),e.hij(" ",e.xi3(10,5,t.profileFilledPercentage,"2.2")," "),e.xp6(6),e.hij(" ",e.xi3(16,8,t.studentsWithStoriesPercentage,"2.2")," "),e.xp6(6),e.hij(" ",e.xi3(22,11,t.teachersWithClassroomsPercentage,"2.2")," "),e.xp6(9),e.hij(" ",e.xi3(31,14,t.irishPercentage,"2.2"),""),e.xp6(5),e.hij(" ",e.xi3(36,17,t.englishPercentage,"2.2"),"")}}function sl(n,i){if(1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header",4)(2,"mat-card-title"),e._uU(3,"Teacher Stats"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"mat-card")(6,"mat-card-content",12)(7,"b"),e._uU(8,"Total classrooms:"),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"mat-card")(11,"mat-card-content",12)(12,"b"),e._uU(13,"Total stories with feedback:"),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"mat-card")(16,"mat-card-content",12)(17,"b"),e._uU(18,"Stories with only textual feedback:"),e.qZA(),e._uU(19),e.qZA()(),e.TgZ(20,"mat-card")(21,"mat-card-content",12)(22,"b"),e._uU(23,"Stories with only audio feedback:"),e.qZA(),e._uU(24),e.qZA()(),e.TgZ(25,"mat-card")(26,"mat-card-content",12)(27,"b"),e._uU(28,"Stories with both text/audio feedback:"),e.qZA(),e._uU(29),e.qZA()(),e.TgZ(30,"mat-card")(31,"mat-card-content",12)(32,"b"),e._uU(33,"Total words textual feedback:"),e.qZA(),e._uU(34),e.qZA()(),e.TgZ(35,"mat-card")(36,"mat-card-content",12)(37,"b"),e._uU(38,"Avg words textual feedback:"),e.qZA(),e._uU(39),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(9),e.hij(" ",t.totalClassrooms," "),e.xp6(5),e.hij(" ",t.storyStats.totalFeedback," "),e.xp6(5),e.hij(" ",t.storyStats.onlyTextFeedback," "),e.xp6(5),e.hij(" ",t.storyStats.onlyAudioFeedback," "),e.xp6(5),e.hij(" ",t.storyStats.bothAudioAndText," "),e.xp6(5),e.hij(" ",t.storyStats.totalFeedbackWords," "),e.xp6(5),e.hij(" ",t.storyStats.avgFeedbackWordCount," ")}}function cl(n,i){1&n&&(e.TgZ(0,"mat-card-title"),e._uU(1," Grammar Errors "),e.qZA())}function ll(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",16),e._UZ(2,"div",17),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(2),e.Udp("background-color",t.fillStyle)("border-color",t.strokeStyle),e.xp6(2),e.Oqu(t.text)}}function dl(n,i){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2,"Legend"),e.qZA(),e._UZ(3,"hr"),e.YNc(4,ll,5,5,"div",15),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.pieChartLegendItems)}}let fl=(()=>{class n{constructor(t,a,o,r,s,c){this.userService=t,this.storyService=a,this.classroomService=o,this.profileService=r,this.http=s,this.ts=c,this.pieChartLegendItems=[],this.totalClassrooms=0,this.profileFilledPercentage=0,this.studentsWithStoriesPercentage=0,this.teachersWithClassroomsPercentage=0,this.englishPercentage=0,this.irishPercentage=0,this.dataLoaded=!1}ngOnInit(){var t=this;return(0,le.Z)(function*(){t.userCounts=yield(0,de.z)(t.userService.getUserCountAndStatus()),t.storyStats=yield(0,de.z)(t.storyService.getStoryStats()),t.grammarErrorCounts=yield(0,de.z)(t.http.get(`${ke.Z.baseurl}gramadoir/getUserGrammarCounts`)),t.profileCountyCounts=yield(0,de.z)(t.profileService.getCountyCounts()),t.totalClassrooms=yield(0,de.z)(t.classroomService.getTotalClassrooms());let a=yield(0,de.z)(t.profileService.getNumOfProfiles());t.profileFilledPercentage=a/t.userCounts.total;let o=yield(0,de.z)(t.userService.countUsersWithStories());t.studentsWithStoriesPercentage=o/t.userCounts.totalStudents;let r=yield(0,de.z)(t.userService.countTeachersWithClassrooms());t.teachersWithClassroomsPercentage=r/t.userCounts.totalTeachers;let s=yield(0,de.z)(t.userService.getLanguageCount());t.englishPercentage=s.englishCount/t.userCounts.total,t.irishPercentage=s.irishCount/t.userCounts.total,t.dataLoaded=!0,yield t.makeUserGraph(),yield t.makeGrammarGraph(),yield t.getCountyMap()})()}makeUserGraph(){var t=this;return(0,le.Z)(function*(){let o=document.getElementById("user-counts").getContext("2d");t.userChart=new ee.kL(o,{type:"bar",data:{labels:["Students","Teachers"],datasets:[{label:"Active",data:[t.userCounts.activeStudents,t.userCounts.activeTeachers],backgroundColor:"green"},{label:"Pending",data:[t.userCounts.pendingStudents,t.userCounts.pendingTeachers],backgroundColor:"yellow"},{label:"Not specified",data:[t.userCounts.totalStudents-(t.userCounts.activeStudents+t.userCounts.pendingStudents),t.userCounts.totalTeachers-(t.userCounts.activeTeachers+t.userCounts.pendingTeachers)],backgroundColor:"red"}]},options:{plugins:{title:{display:!0,text:"Stacked bar chart"}},responsive:!0}})})()}makeGrammarGraph(){var t=this;return(0,le.Z)(function*(){let o=document.getElementById("grammar-pie-chart").getContext("2d");t.pieChart&&t.pieChart.destroy(),t.pieChart=new ee.kL(o,{type:"pie",data:{labels:Object.keys(t.grammarErrorCounts),datasets:[{label:"Grammar Error Counts ",data:Object.values(t.grammarErrorCounts),backgroundColor:Object.keys(t.grammarErrorCounts).map(r=>`#${(16777215*Math.random()<<0).toString(16)}`)}]},options:{plugins:{legend:{display:!1}}}}),t.pieChartLegendItems=t.pieChart.legend.legendItems})()}getCountyMap(){var t=this;return(0,le.Z)(function*(){const a=yield fetch("https://raw.githubusercontent.com/gist/carsonfarmer/9791524/raw/b27ca0d78d46a84664fe7ef709eed4f7621f7a25/irish-counties.topojson").then(d=>d.json()),o=function tl(n,i){return"string"==typeof i&&(i=n.objects[i]),"GeometryCollection"===i.type?{type:"FeatureCollection",features:i.geometries.map(function(t){return ar(n,t)})}:ar(n,i)}(a,a.objects.counties).features,r=o.map(d=>d.id),s=o.map(d=>({feature:d,value:t.profileCountyCounts[il[d.id]]}));let c=document.getElementById("county-chart");t.countyChart=new ir(c.getContext("2d"),{data:{labels:r,datasets:[{label:"Counties",outline:o,showOutline:!0,data:s}]},options:{plugins:{legend:{display:!1}},scales:{projection:{axis:"x",projection:"equalEarth"}}}})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(lt.K),e.Y36(Dt.N),e.Y36(At.u),e.Y36(Dn.H),e.Y36($e.eN),e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-database-stats"]],decls:26,vars:6,consts:[[1,"dashboard"],[1,"dashboard-header"],[1,"dashboard-title"],[1,"cards-container"],[1,"stats-card-header"],[4,"ngIf"],["id","user-counts"],[2,"display","flex"],["class","legendContainer",4,"ngIf"],[1,"pieContainer"],["id","grammar-pie-chart","width","200","height","200"],["id","county-chart"],[1,"cardText"],[1,"legendContainer"],[1,"legend"],[4,"ngFor","ngForOf"],[1,"legendPair"],[1,"legendMarker"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3,"Database Stats"),e.qZA()(),e.TgZ(4,"div",3)(5,"mat-card")(6,"mat-card-header",4),e.YNc(7,al,2,1,"mat-card-title",5),e.qZA(),e.TgZ(8,"mat-card-content"),e._UZ(9,"canvas",6),e.qZA()(),e.YNc(10,ol,25,4,"mat-card",5),e.YNc(11,rl,37,20,"mat-card",5),e.YNc(12,sl,40,7,"mat-card",5),e.TgZ(13,"mat-card")(14,"mat-card-header",4),e.YNc(15,cl,2,0,"mat-card-title",5),e.qZA(),e.TgZ(16,"mat-card-content",7),e.YNc(17,dl,5,1,"div",8),e.TgZ(18,"div",9),e._UZ(19,"canvas",10),e.qZA()()(),e.TgZ(20,"mat-card")(21,"mat-card-header",4)(22,"mat-card-title"),e._uU(23," Map of Users "),e.qZA()(),e.TgZ(24,"mat-card-content"),e._UZ(25,"canvas",11),e.qZA()()()()),2&t&&(e.xp6(7),e.Q6J("ngIf",a.dataLoaded),e.xp6(3),e.Q6J("ngIf",a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded),e.xp6(3),e.Q6J("ngIf",a.dataLoaded),e.xp6(2),e.Q6J("ngIf",a.pieChartLegendItems.length>0))},dependencies:[H.sg,H.O5,yt.a8,yt.dk,yt.dn,yt.n5,H.Zx],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%;background:white;margin-left:5%;padding:20px;margin-bottom:2%}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cards-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;justify-content:center;gap:1.5rem;flex-wrap:wrap;padding:20px}.stats-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid grey;min-width:400px;padding:10px}.cardText[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.pieContainer[_ngcontent-%COMP%]{flex:1;width:50%;padding:10px;display:flex;justify-content:center}.legendContainer[_ngcontent-%COMP%]{overflow-y:scroll;width:40%;max-height:200px;max-width:200px;border:1px solid black;border-radius:5px;padding:5px}.legendPair[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.legendMarker[_ngcontent-%COMP%]{width:30px;height:10px}.legend[_ngcontent-%COMP%]{padding-top:5px;text-align:center;font-weight:700}"]}),n})();var or=T(1745);let rr=(()=>{class n{constructor(t,a){this.http=t,this.auth=a,this.baseUrl=ke.Z.baseurl+"stats/"}getProfileDataByDate(t,a){return this.http.get(this.baseUrl+"getProfileDataByDate/"+t+"/"+a)}getFeatureDataByDate(t,a){return this.http.get(this.baseUrl+"getFeatureDataByDate/"+t+"/"+a)}getFeatureDataSinceLog(t){return this.http.get(this.baseUrl+"getFeatureDataSinceLog/"+t.toString())}}return n.\u0275fac=function(t){return new(t||n)(e.LFG($e.eN),e.LFG(or.$))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ni=T(6469),ii=T(1512),Te=T(9549),Bt=T(7084),qe=T(9602);function ul(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.ts.l.invalid_start_date)}}function pl(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.ts.l.invalid_end_date)}}function hl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"mat-form-field",9)(2,"mat-label"),e._uU(3),e.qZA(),e.TgZ(4,"mat-date-range-input",10),e._UZ(5,"input",11)(6,"input",12),e.qZA(),e._UZ(7,"mat-datepicker-toggle",13)(8,"mat-date-range-picker",null,14),e.YNc(10,ul,2,1,"mat-error",7),e.YNc(11,pl,2,1,"mat-error",7),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getProfileData())}),e._uU(16),e.qZA()()}if(2&n){const t=e.MAs(9),a=e.oxw();e.xp6(3),e.Oqu(a.ts.l.enter_date_range),e.xp6(1),e.Q6J("formGroup",a.range)("rangePicker",t),e.xp6(3),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",a.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",a.range.controls.end.hasError("matEndDateInvalid")),e.xp6(2),e.hij(" (",a.ts.l.no_date_range_entered,") "),e.xp6(3),e.Oqu(a.ts.l.get_data)}}function gl(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.setDataToDisplay(r.statsData))}),e._uU(2),e.ALo(3,"date"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.date,"d/M/yy, h:mm a")," ")}}function ml(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,gl,4,4,"div",16),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.previousLogs)}}function _l(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.YNc(1,ml,2,1,"div",7),e._UZ(2,"br"),e.TgZ(3,"div",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNewProfileData())}),e._uU(4),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.previousLogs),e.xp6(3),e.Oqu(t.ts.l.add_data_log)}}function vl(n,i){if(1&n&&(e.TgZ(0,"div",18)(1,"b"),e._uU(2),e.qZA(),e._UZ(3,"grid-spinner"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ts.l.compiling_data)}}function bl(n,i){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE(" ",t.ts.l.profiles_found,": ",t.numProfilesFound,"")}}function yl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function xl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Cl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(2),e.AsE(" ",a.ts.l.users_not_from_ireland," : ",t.value," ")}}function wl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Tl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Sl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Zl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Dl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Al(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Ml(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Ol(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function kl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Rl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Pl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function ql(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Ul(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Nl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function El(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Fl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2),e.qZA(),e.TgZ(3,"mat-accordion",21)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"b"),e._uU(8),e.qZA()(),e.TgZ(9,"mat-panel-description",22),e._uU(10),e.qZA()(),e.YNc(11,yl,3,2,"div",23),e.ALo(12,"keyvalue"),e.qZA(),e.TgZ(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title")(16,"b"),e._uU(17),e.qZA()(),e.TgZ(18,"mat-panel-description",22),e._uU(19),e.qZA()(),e.YNc(20,xl,3,2,"div",23),e.ALo(21,"keyvalue"),e.qZA(),e.TgZ(22,"mat-expansion-panel")(23,"mat-expansion-panel-header")(24,"mat-panel-title")(25,"b"),e._uU(26),e.qZA()(),e.TgZ(27,"mat-panel-description",22),e._uU(28),e.qZA()(),e.TgZ(29,"div",24)(30,"div"),e.YNc(31,Cl,3,2,"div",23),e.ALo(32,"keyvalue"),e.qZA(),e.TgZ(33,"div"),e.YNc(34,wl,3,2,"div",23),e.ALo(35,"keyvalue"),e.qZA()()(),e.TgZ(36,"mat-expansion-panel")(37,"mat-expansion-panel-header")(38,"mat-panel-title")(39,"b"),e._uU(40),e.qZA()(),e.TgZ(41,"mat-panel-description",22),e._uU(42),e.qZA()(),e.YNc(43,Tl,3,2,"div",23),e.ALo(44,"keyvalue"),e.qZA(),e.TgZ(45,"mat-expansion-panel")(46,"mat-expansion-panel-header")(47,"mat-panel-title")(48,"b"),e._uU(49),e.qZA()(),e.TgZ(50,"mat-panel-description",22),e._uU(51),e.qZA()(),e.YNc(52,Sl,3,2,"div",23),e.ALo(53,"keyvalue"),e.qZA(),e.TgZ(54,"mat-expansion-panel")(55,"mat-expansion-panel-header")(56,"mat-panel-title")(57,"b"),e._uU(58),e.qZA()(),e.TgZ(59,"mat-panel-description",22),e._uU(60),e.qZA()(),e.YNc(61,Zl,3,2,"div",23),e.ALo(62,"keyvalue"),e.qZA(),e.TgZ(63,"mat-expansion-panel")(64,"mat-expansion-panel-header")(65,"mat-panel-title")(66,"b"),e._uU(67),e.qZA()(),e.TgZ(68,"mat-panel-description",22),e._uU(69),e.qZA()(),e.YNc(70,Dl,3,2,"div",23),e.ALo(71,"keyvalue"),e.qZA(),e.TgZ(72,"mat-expansion-panel")(73,"mat-expansion-panel-header")(74,"mat-panel-title")(75,"b"),e._uU(76),e.qZA()(),e.TgZ(77,"mat-panel-description",22),e._uU(78),e.qZA()(),e.YNc(79,Al,3,2,"div",23),e.ALo(80,"keyvalue"),e.qZA(),e.TgZ(81,"mat-expansion-panel")(82,"mat-expansion-panel-header")(83,"mat-panel-title")(84,"b"),e._uU(85),e.qZA()(),e.TgZ(86,"mat-panel-description",22),e._uU(87),e.qZA()(),e.YNc(88,Ml,3,2,"div",23),e.ALo(89,"keyvalue"),e.qZA(),e.TgZ(90,"mat-expansion-panel")(91,"mat-expansion-panel-header")(92,"mat-panel-title")(93,"b"),e._uU(94),e.qZA()(),e.TgZ(95,"mat-panel-description",22),e._uU(96),e.qZA()(),e.YNc(97,Ol,3,2,"div",23),e.ALo(98,"keyvalue"),e.qZA(),e.TgZ(99,"mat-expansion-panel")(100,"mat-expansion-panel-header")(101,"mat-panel-title")(102,"b"),e._uU(103),e.qZA()(),e.TgZ(104,"mat-panel-description",22),e._uU(105),e.qZA()(),e.YNc(106,kl,3,2,"div",23),e.ALo(107,"keyvalue"),e.qZA(),e.TgZ(108,"mat-expansion-panel")(109,"mat-expansion-panel-header")(110,"mat-panel-title")(111,"b"),e._uU(112),e.qZA()(),e.TgZ(113,"mat-panel-description",22),e._uU(114),e.qZA()(),e.YNc(115,Rl,3,2,"div",23),e.ALo(116,"keyvalue"),e.qZA(),e.TgZ(117,"mat-expansion-panel")(118,"mat-expansion-panel-header")(119,"mat-panel-title")(120,"b"),e._uU(121),e.qZA()(),e.TgZ(122,"mat-panel-description",22),e._uU(123),e.qZA()(),e.YNc(124,Pl,3,2,"div",23),e.ALo(125,"keyvalue"),e.qZA(),e.TgZ(126,"mat-expansion-panel")(127,"mat-expansion-panel-header")(128,"mat-panel-title")(129,"b"),e._uU(130),e.qZA()(),e.TgZ(131,"mat-panel-description",22),e._uU(132),e.qZA()(),e.YNc(133,ql,3,2,"div",23),e.ALo(134,"keyvalue"),e.qZA(),e.TgZ(135,"mat-expansion-panel")(136,"mat-expansion-panel-header")(137,"mat-panel-title")(138,"b"),e._uU(139),e.qZA()(),e.TgZ(140,"mat-panel-description",22),e._uU(141),e.qZA()(),e.YNc(142,Ul,3,2,"div",23),e.ALo(143,"keyvalue"),e.qZA(),e.TgZ(144,"mat-expansion-panel")(145,"mat-expansion-panel-header")(146,"mat-panel-title")(147,"b"),e._uU(148),e.qZA()(),e.TgZ(149,"mat-panel-description",22),e._uU(150),e.qZA()(),e.YNc(151,Nl,3,2,"div",23),e.ALo(152,"keyvalue"),e.qZA(),e.TgZ(153,"mat-expansion-panel")(154,"mat-expansion-panel-header")(155,"mat-panel-title")(156,"b"),e._uU(157),e.qZA()(),e.TgZ(158,"mat-panel-description",22),e._uU(159),e.qZA()(),e.YNc(160,El,3,2,"div",23),e.ALo(161,"keyvalue"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.ts.l.personal_info," "),e.xp6(6),e.Oqu(t.ts.l.gender),e.xp6(2),e.hij(" ",t.ts.l.gender_of_users," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,53,t.dataToDisplay.gender)),e.xp6(6),e.Oqu(t.ts.l.age),e.xp6(2),e.hij(" ",t.ts.l.age_of_users," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(21,55,t.dataToDisplay.age)),e.xp6(6),e.Oqu(t.ts.l.country),e.xp6(2),e.hij(" ",t.ts.l.countries_of_users," "),e.xp6(3),e.Q6J("ngForOf",e.lcZ(32,57,t.dataToDisplay.notFromIreland)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(35,59,t.dataToDisplay.country)),e.xp6(6),e.Oqu(t.ts.l.county),e.xp6(2),e.hij(" ",t.ts.l.county_of_users," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(44,61,t.dataToDisplay.county)),e.xp6(6),e.hij(" ",t.ts.l.student_school_level," "),e.xp6(2),e.hij(" ",t.ts.l.which_level_type_of_schooling," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(53,63,t.dataToDisplay.studentSchoolLevel)),e.xp6(6),e.hij(" ",t.ts.l.primary_year," "),e.xp6(2),e.hij(" ",t.ts.l.which_primary_year," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(62,65,t.dataToDisplay.primaryYear)),e.xp6(6),e.hij(" ",t.ts.l.secondary_year," "),e.xp6(2),e.hij(" ",t.ts.l.which_secondary_year," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(71,67,t.dataToDisplay.secondaryYear)),e.xp6(6),e.hij(" ",t.ts.l.school_type," "),e.xp6(2),e.hij(" ",t.ts.l.which_type_primary_secondary," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(80,69,t.dataToDisplay.studentSchoolType)),e.xp6(6),e.hij(" ",t.ts.l.third_level_studies," "),e.xp6(2),e.hij(" ",t.ts.l.what_third_level_students_study," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(89,71,t.dataToDisplay.thirdLevelOption)),e.xp6(6),e.hij(" ",t.ts.l.other_studies," "),e.xp6(2),e.hij(" ",t.ts.l.other_third_level_studies," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(98,73,t.dataToDisplay.otherStudies)),e.xp6(6),e.hij(" ",t.ts.l.third_level_year," "),e.xp6(2),e.hij(" ",t.ts.l.what_third_level_year," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(107,75,t.dataToDisplay.thirdLevelYear)),e.xp6(6),e.hij(" ",t.ts.l.USA_school," "),e.xp6(2),e.hij(" ",t.ts.l.what_students_study_in_USA," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(116,77,t.dataToDisplay.usaOption)),e.xp6(6),e.hij(" ",t.ts.l.postgrad_studies," "),e.xp6(2),e.hij(" ",t.ts.l.what_postgrad_studying," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(125,79,t.dataToDisplay.otherPostgradStudies)),e.xp6(6),e.hij(" ",t.ts.l.immersion_course," "),e.xp6(2),e.hij(" ",t.ts.l.students_attending_immersion_course," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(134,81,t.dataToDisplay.immersionCourse)),e.xp6(6),e.hij(" ",t.ts.l.teacher_school_types," "),e.xp6(2),e.hij(" ",t.ts.l.school_level_of_teachers," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(143,83,t.dataToDisplay.teacherSchoolTypes)),e.xp6(6),e.hij(" ",t.ts.l.teacher_primary_school," "),e.xp6(2),e.hij(" ",t.ts.l.type_of_primary_teacher," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(152,85,t.dataToDisplay.teacherPrimaryType)),e.xp6(6),e.hij(" ",t.ts.l.teacher_secondary_school," "),e.xp6(2),e.hij(" ",t.ts.l.type_of_secondary_teacher," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(161,87,t.dataToDisplay.teacherSecondaryType))}}function Ll(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Il(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Yl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Hl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function jl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Bl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Gl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," years : ",t.value," ")}}function Jl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function zl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2),e.qZA(),e.TgZ(3,"mat-accordion",21)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"b"),e._uU(8),e.qZA()(),e.TgZ(9,"mat-panel-description",22),e._uU(10),e.qZA()(),e.YNc(11,Ll,3,2,"div",23),e.ALo(12,"keyvalue"),e.qZA(),e.TgZ(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title")(16,"b"),e._uU(17),e.qZA()(),e.TgZ(18,"mat-panel-description",22),e._uU(19),e.qZA()(),e.YNc(20,Il,3,2,"div",23),e.ALo(21,"keyvalue"),e.qZA(),e.TgZ(22,"mat-expansion-panel")(23,"mat-expansion-panel-header")(24,"mat-panel-title")(25,"b"),e._uU(26),e.qZA()(),e.TgZ(27,"mat-panel-description",22),e._uU(28),e.qZA()(),e.YNc(29,Yl,3,2,"div",23),e.ALo(30,"keyvalue"),e.qZA(),e.TgZ(31,"mat-expansion-panel")(32,"mat-expansion-panel-header")(33,"mat-panel-title")(34,"b"),e._uU(35),e.qZA()(),e.TgZ(36,"mat-panel-description",22),e._uU(37),e.qZA()(),e.YNc(38,Hl,3,2,"div",23),e.ALo(39,"keyvalue"),e.qZA(),e.TgZ(40,"mat-expansion-panel")(41,"mat-expansion-panel-header")(42,"mat-panel-title")(43,"b"),e._uU(44),e.qZA()(),e.TgZ(45,"mat-panel-description",22),e._uU(46),e.qZA()(),e.YNc(47,jl,3,2,"div",23),e.ALo(48,"keyvalue"),e.qZA(),e.TgZ(49,"mat-expansion-panel")(50,"mat-expansion-panel-header")(51,"mat-panel-title")(52,"b"),e._uU(53),e.qZA()(),e.TgZ(54,"mat-panel-description",22),e._uU(55),e.qZA()(),e.YNc(56,Bl,3,2,"div",23),e.ALo(57,"keyvalue"),e.qZA(),e.TgZ(58,"mat-expansion-panel")(59,"mat-expansion-panel-header")(60,"mat-panel-title")(61,"b"),e._uU(62),e.qZA()(),e.TgZ(63,"mat-panel-description",22),e._uU(64),e.qZA()(),e.YNc(65,Gl,3,2,"div",23),e.ALo(66,"keyvalue"),e.qZA(),e.TgZ(67,"mat-expansion-panel")(68,"mat-expansion-panel-header")(69,"mat-panel-title")(70,"b"),e._uU(71),e.qZA()(),e.TgZ(72,"mat-panel-description",22),e._uU(73),e.qZA()(),e.YNc(74,Jl,3,2,"div",23),e.ALo(75,"keyvalue"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.ts.l.language_competence," "),e.xp6(6),e.Oqu(t.ts.l.native_speaker),e.xp6(2),e.hij(" ",t.ts.l.status_of_native_speakers," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,25,t.dataToDisplay.nativeSpeakerStatus)),e.xp6(6),e.Oqu(t.ts.l.dialect),e.xp6(2),e.hij(" ",t.ts.l.dialect_preference," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(21,27,t.dataToDisplay.dialectPreference)),e.xp6(6),e.Oqu(t.ts.l.spoken_comprehension_level_of_users),e.xp6(2),e.hij(" ",t.ts.l.spoken_comprehension_level_of_users," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(30,29,t.dataToDisplay.spokenComprehensionLevel)),e.xp6(6),e.Oqu(t.ts.l.other_languages),e.xp6(2),e.hij(" ",t.ts.l.other_languages_at_home," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(39,31,t.dataToDisplay.otherLanguages)),e.xp6(6),e.hij(" ",t.ts.l.father_native_tongue," "),e.xp6(2),e.hij(" ",t.ts.l.native_tongue_father," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(48,33,t.dataToDisplay.fatherNativeTongue)),e.xp6(6),e.hij(" ",t.ts.l.mother_native_tongue," "),e.xp6(2),e.hij(" ",t.ts.l.native_tongue_mother," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(57,35,t.dataToDisplay.motherNativeTongue)),e.xp6(6),e.hij(" ",t.ts.l.years_of_irish," "),e.xp6(2),e.hij(" ",t.ts.l.number_of_years_students_study_irish," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(66,37,t.dataToDisplay.yearsOfIrish)),e.xp6(6),e.hij(" ",t.ts.l.other_language_proficiency," "),e.xp6(2),e.hij(" ",t.ts.l.other_languages_users_speak," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(75,39,t.dataToDisplay.otherLanguageProficiency))}}function $l(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Ql(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Wl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Kl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Xl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function Vl(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function ed(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function td(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function nd(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",25),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(2),e.AsE(" ",t.key," : ",t.value," ")}}function id(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2),e.qZA(),e.TgZ(3,"mat-accordion",21)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title")(7,"b"),e._uU(8),e.qZA()(),e.TgZ(9,"mat-panel-description",22),e._uU(10),e.qZA()(),e.YNc(11,$l,3,2,"div",23),e.ALo(12,"keyvalue"),e.qZA(),e.TgZ(13,"mat-expansion-panel")(14,"mat-expansion-panel-header")(15,"mat-panel-title")(16,"b"),e._uU(17),e.qZA()(),e.TgZ(18,"mat-panel-description",22),e._uU(19),e.qZA()(),e.YNc(20,Ql,3,2,"div",23),e.ALo(21,"keyvalue"),e.qZA(),e.TgZ(22,"mat-expansion-panel")(23,"mat-expansion-panel-header")(24,"mat-panel-title")(25,"b"),e._uU(26),e.qZA()(),e.TgZ(27,"mat-panel-description",22),e._uU(28),e.qZA()(),e.TgZ(29,"div",24)(30,"div")(31,"div",26),e._uU(32),e.qZA(),e.YNc(33,Wl,3,2,"div",23),e.ALo(34,"keyvalue"),e.qZA(),e.TgZ(35,"div")(36,"div",26),e._uU(37),e.qZA(),e.YNc(38,Kl,3,2,"div",23),e.ALo(39,"keyvalue"),e.qZA()()(),e.TgZ(40,"mat-expansion-panel")(41,"mat-expansion-panel-header")(42,"mat-panel-title")(43,"b"),e._uU(44),e.qZA()(),e.TgZ(45,"mat-panel-description",22),e._uU(46),e.qZA()(),e.TgZ(47,"div",24)(48,"div")(49,"div",26),e._uU(50),e.qZA(),e.YNc(51,Xl,3,2,"div",23),e.ALo(52,"keyvalue"),e.qZA(),e.TgZ(53,"div")(54,"div",26),e._uU(55),e.qZA(),e.YNc(56,Vl,3,2,"div",23),e.ALo(57,"keyvalue"),e.qZA()()(),e.TgZ(58,"mat-expansion-panel")(59,"mat-expansion-panel-header")(60,"mat-panel-title")(61,"b"),e._uU(62),e.qZA()(),e.TgZ(63,"mat-panel-description",22),e._uU(64),e.qZA()(),e.TgZ(65,"div",24)(66,"div")(67,"div",26),e._uU(68),e.qZA(),e.YNc(69,ed,3,2,"div",23),e.ALo(70,"keyvalue"),e.qZA(),e.TgZ(71,"div")(72,"div",26),e._uU(73),e.qZA(),e.YNc(74,td,3,2,"div",23),e.ALo(75,"keyvalue"),e.qZA()()(),e.TgZ(76,"mat-expansion-panel")(77,"mat-expansion-panel-header")(78,"mat-panel-title")(79,"b"),e._uU(80),e.qZA()(),e.TgZ(81,"mat-panel-description",22),e._uU(82),e.qZA()(),e.YNc(83,nd,3,2,"div",23),e.ALo(84,"keyvalue"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.ts.l.exposure_to_irish," "),e.xp6(6),e.Oqu(t.ts.l.speaking_frequency),e.xp6(2),e.hij(" ",t.ts.l.frequency_users_speak_irish," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(12,28,t.dataToDisplay.speakingFrequency)),e.xp6(6),e.Oqu(t.ts.l.speak_with),e.xp6(2),e.hij(" ",t.ts.l.with_whom_speak_irish," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(21,30,t.dataToDisplay.speakWith)),e.xp6(6),e.Oqu(t.ts.l.irish_media),e.xp6(2),e.hij(" ",t.ts.l.how_often_media," "),e.xp6(4),e.hij(" ",t.ts.l.type,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(34,32,t.dataToDisplay.irishMedia)),e.xp6(4),e.hij(" ",t.ts.l.how_often,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(39,34,t.dataToDisplay.howOftenMedia)),e.xp6(6),e.Oqu(t.ts.l.irish_reading),e.xp6(2),e.hij(" ",t.ts.l.how_often_reading," "),e.xp6(4),e.hij(" ",t.ts.l.type,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(52,36,t.dataToDisplay.irishReading)),e.xp6(4),e.hij(" ",t.ts.l.how_often,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(57,38,t.dataToDisplay.howOftenReading)),e.xp6(6),e.Oqu(t.ts.l.irish_writing),e.xp6(2),e.hij(" ",t.ts.l.how_often_writing," "),e.xp6(4),e.hij(" ",t.ts.l.type,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(70,40,t.dataToDisplay.irishWriting)),e.xp6(4),e.hij(" ",t.ts.l.how_often,": "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(75,42,t.dataToDisplay.howOftenWriting)),e.xp6(6),e.hij(" ",t.ts.l.synth_opinion," "),e.xp6(2),e.hij(" ",t.ts.l.user_opinion_synthetic_voice," "),e.xp6(1),e.Q6J("ngForOf",e.lcZ(84,44,t.dataToDisplay.synthOpinion))}}let ad=(()=>{class n{constructor(t,a,o){this.statsService=t,this.ts=a,this.engagement=o,this.range=new $.nJ({start:new $.p4,end:new $.p4}),this.previousLogs=[],this.dataToDisplay={},this.selectDateRange=!0,this.dataLoaded=!0,this.numProfilesFound=0}ngOnInit(){this.engagement.getPreviousAnalysisData("PROFILE-STATS").subscribe(t=>{this.previousLogs=t.sort((a,o)=>o.date-a.date),console.log("previous profiles: ",this.previousLogs)})}getProfileData(){var t=this;return(0,le.Z)(function*(){t.dataLoaded=!1;let a=t.range.get("start").value?t.range.get("start").value:"empty",o=t.range.get("end").value?t.range.get("end").value:"empty";return new Promise((r,s)=>{t.statsService.getProfileDataByDate(a,o).subscribe(function(){var c=(0,le.Z)(function*(d){console.log("Profiles returned for given dates: ",d),yield t.calculateStats(d),t.numProfilesFound=d.length,t.dataLoaded=!0,r()});return function(d){return c.apply(this,arguments)}}())})})()}calculateStats(t){var a=this;return(0,le.Z)(function*(){let o={};console.log("PROFILES TO CALCULATE: ",t),t.forEach(s=>{if(void 0!==(s=s[0])){if(s.age&&(o.age||(o.age=[]),o.age.push(s.age)),s.country&&(o.country||(o.country=[]),o.country.push(s.country)),s.county&&(o.county||(o.county=[]),o.county.push(s.county)),s.dialectPreference&&(o.dialectPreference||(o.dialectPreference=[]),o.dialectPreference.push(s.dialectPreference)),s.gender&&(o.gender||(o.gender=[]),o.gender.push(s.gender)),s.fatherNativeTongue&&(o.fatherNativeTongue||(o.fatherNativeTongue=[]),o.fatherNativeTongue.push(s.fatherNativeTongue.toLowerCase())),s.irishMedia){o.irishMedia||(o.irishMedia=[]);for(let c in s.irishMedia)s.irishMedia[c]&&o.irishMedia.push(c)}if(s.howOftenMedia&&(o.howOftenMedia||(o.howOftenMedia=[]),o.howOftenMedia.push(s.howOftenMedia)),s.irishReading){o.irishReading||(o.irishReading=[]);for(let c in s.irishMedia)s.irishReading[c]&&o.irishReading.push(c)}if(s.howOftenReading&&(o.howOftenReading||(o.howOftenReading=[]),o.howOftenReading.push(s.howOftenReading)),s.irishWriting){o.irishWriting||(o.irishWriting=[]);for(let c in s.irishWriting)s.irishWriting[c]&&o.irishWriting.push(c)}if(s.howOftenWriting&&(o.howOftenWriting||(o.howOftenWriting=[]),o.howOftenWriting.push(s.howOftenWriting)),s.immersionCourse&&(o.immersionCourse||(o.immersionCourse=[]),o.immersionCourse.push(s.immersionCourse)),s.motherNativeTongue&&(o.motherNativeTongue||(o.motherNativeTongue=[]),o.motherNativeTongue.push(s.motherNativeTongue.toLowerCase())),s.nativeSpeakerStatus&&(o.nativeSpeakerStatus||(o.nativeSpeakerStatus=[]),o.nativeSpeakerStatus.push(s.nativeSpeakerStatus)),s.notFromIreland&&(o.notFromIreland||(o.notFromIreland=[]),o.notFromIreland.push(s.notFromIreland)),s.otherCountryOfStudy&&(o.otherCountryOfStudy||(o.otherCountryOfStudy=[]),o.otherCountryOfStudy.push(s.otherCountryOfStudy.toLowerCase())),s.otherLanguageProficiency&&(o.otherLanguageProficiency||(o.otherLanguageProficiency=[]),o.otherLanguageProficiency.push(s.otherLanguageProficiency.toLowerCase())),s.otherLanguages&&(o.otherLanguages||(o.otherLanguages=[]),o.otherLanguages.push(s.otherLanguages.toLowerCase())),s.otherPostgradStudies&&(o.otherPostgradStudies||(o.otherPostgradStudies=[]),o.otherPostgradStudies.push(s.otherPostgradStudies.toLowerCase())),s.otherStudies&&(o.otherStudies||(o.otherStudies=[]),o.otherStudies.push(s.otherStudies.toLowerCase())),s.postgradYear&&(o.postgradYear||(o.postgradYear=[]),o.postgradYear.push(s.postgradYear)),s.primaryYear&&(o.primaryYear||(o.primaryYear=[]),o.primaryYear.push(s.primaryYear)),s.secondaryYear&&(o.secondaryYear||(o.secondaryYear=[]),o.secondaryYear.push(s.secondaryYear)),s.speakWith&&(o.speakWith||(o.speakWith=[]),o.speakWith.push(s.speakWith)),s.speakingFrequency&&(o.speakingFrequency||(o.speakingFrequency=[]),o.speakingFrequency.push(s.speakingFrequency)),s.spokenComprehensionLevel&&(o.spokenComprehensionLevel||(o.spokenComprehensionLevel=[]),o.spokenComprehensionLevel.push(s.spokenComprehensionLevel)),s.studentSchoolLevel&&(o.studentSchoolLevel||(o.studentSchoolLevel=[]),o.studentSchoolLevel.push(s.studentSchoolLevel)),s.studentSchoolType&&(o.studentSchoolType||(o.studentSchoolType=[]),o.studentSchoolType.push(s.studentSchoolType)),s.synthOpinion&&(o.synthOpinion||(o.synthOpinion=[]),o.synthOpinion.push(s.synthOpinion)),s.teacherPrimaryType&&(o.teacherPrimaryType||(o.teacherPrimaryType=[]),o.teacherPrimaryType.push(s.teacherPrimaryType)),s.teacherSecondaryType&&(o.teacherSecondaryType||(o.teacherSecondaryType=[]),o.teacherSecondaryType.push(s.teacherSecondaryType)),s.teacherSchoolTypes){o.teacherSchoolTypes||(o.teacherSchoolTypes=[]);for(let c in s.teacherSchoolTypes)s.teacherSchoolTypes[c]&&o.teacherSchoolTypes.push(c)}s.thirdLevelOption&&(o.thirdLevelOption||(o.thirdLevelOption=[]),o.thirdLevelOption.push(s.thirdLevelOption)),s.thirdLevelYear&&(o.thirdLevelYear||(o.thirdLevelYear=[]),o.thirdLevelYear.push(s.thirdLevelYear)),s.usaOption&&(o.usaOption||(o.usaOption=[]),o.usaOption.push(s.usaOption)),s.yearsOfIrish&&(o.yearsOfIrish||(o.yearsOfIrish=[]),o.yearsOfIrish.push(s.yearsOfIrish))}});let r={};console.log("totals: ",o),r.age=yield a.getTotals(o.age),r.country=yield a.getTotals(o.country),r.county=yield a.getTotals(o.county),r.dialectPreference=yield a.getTotals(o.dialectPreference),r.gender=yield a.getTotals(o.gender),r.fatherNativeTongue=yield a.getTotals(o.fatherNativeTongue),r.irishMedia=yield a.getTotals(o.irishMedia),r.howOftenMedia=yield a.getTotals(o.howOftenMedia),r.irishReading=yield a.getTotals(o.irishReading),r.howOftenReading=yield a.getTotals(o.howOftenReading),r.irishWriting=yield a.getTotals(o.irishWriting),r.howOftenWriting=yield a.getTotals(o.howOftenWriting),r.immersionCourse=yield a.getTotals(o.immersionCourse),r.motherNativeTongue=yield a.getTotals(o.motherNativeTongue),r.nativeSpeakerStatus=yield a.getTotals(o.nativeSpeakerStatus),r.notFromIreland=yield a.getTotals(o.notFromIreland),r.otherCountryOfStudy=yield a.getTotals(o.otherCountryOfStudy),r.otherLanguageProficiency=yield a.getTotals(o.otherLanguageProficiency),r.otherLanguages=yield a.getTotals(o.otherLanguages),r.otherPostgradStudies=yield a.getTotals(o.otherPostgradStudies),r.otherStudies=yield a.getTotals(o.otherStudies),r.postgradYear=yield a.getTotals(o.postgradYear),r.primaryYear=yield a.getTotals(o.primaryYear),r.secondaryYear=yield a.getTotals(o.secondaryYear),r.speakWith=yield a.getTotals(o.speakWith),r.speakingFrequency=yield a.getTotals(o.speakingFrequency),r.spokenComprehensionLevel=yield yield a.getTotals(o.spokenComprehensionLevel),r.studentSchoolLevel=yield a.getTotals(o.studentSchoolLevel),r.studentSchoolType=yield a.getTotals(o.studentSchoolType),r.synthOpinion=yield a.getTotals(o.synthOpinion),r.teacherPrimaryType=yield a.getTotals(o.teacherPrimaryType),r.teacherSecondaryType=yield a.getTotals(o.teacherSecondaryType),r.teacherSchoolTypes=yield a.getTotals(o.teacherSchoolTypes),r.thirdLevelOption=yield a.getTotals(o.thirdLevelOption),r.usaOption=yield a.getTotals(o.usaOption),r.yearsOfIrish=yield a.getTotals(o.yearsOfIrish),a.setDataToDisplay(r)})()}getTotals(t){return(0,le.Z)(function*(){let a={};return t&&t.forEach(o=>a[o]=(a[o]||0)+1),a})()}addNewProfileData(){var t=this;return(0,le.Z)(function*(){if(t.dataLoaded=!1,t.previousLogs.length>0){let a=t.previousLogs[t.previousLogs.length-1];console.log(t.previousLogs),console.log("Last log: ",a),new Promise((o,r)=>{t.statsService.getProfileDataByDate(a.date,"empty").subscribe(function(){var s=(0,le.Z)(function*(c){yield t.calculateStats(c),console.log("Most recent added data: ",t.dataToDisplay);let d={},g={};Object.keys(t.dataToDisplay).forEach(l=>{a.statsData[l]?g=a.statsData[l]:(d[l]={},g={}),Object.entries(t.dataToDisplay[l]).forEach(([p,h])=>{g[p]=a.statsData[l]&&a.statsData[l][p]?h+a.statsData[l][p]:h}),d[l]=g}),console.log("Profile to log: ",d),t.engagement.addAnalysisEvent(ii.tw["PROFILE-STATS"],d),t.setDataToDisplay(d),t.ngOnInit(),o()});return function(c){return s.apply(this,arguments)}}())})}else yield t.getProfileData(),t.engagement.addAnalysisEvent(ii.tw["PROFILE-STATS"],t.dataToDisplay);t.dataLoaded=!0})()}setDataToDisplay(t){this.dataLoaded=!1,this.dataToDisplay={},this.dataToDisplay=t,console.log("Data sent to function: ",t),console.log("Profile to display: ",this.dataToDisplay),console.log("previous profiles: ",this.previousLogs.length),this.dataLoaded=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(rr),e.Y36(Oe.D),e.Y36(ni.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-stats"]],decls:16,vars:10,consts:[[1,"headerTitle"],[1,"dataOptions"],[1,"option",3,"click"],[1,"adminContent"],["class","datePicker",4,"ngIf"],["class","adminLoaderContainer",4,"ngIf"],["class","profileNumber",4,"ngIf"],[4,"ngIf"],[1,"datePicker"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[1,"submitButton",3,"click"],["class","logContainer",4,"ngFor","ngForOf"],[1,"logContainer"],[1,"adminLoaderContainer"],[1,"profileNumber"],[1,"profileHeader"],["multi","",1,"displayData"],[1,"panelDescription"],[4,"ngFor","ngForOf"],[1,"sideBySide"],[1,"data"],[1,"dataLabel"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e.NdJ("click",function(){return a.selectDateRange=!0}),e._uU(4),e.qZA(),e._uU(5," | "),e.TgZ(6,"div",2),e.NdJ("click",function(){return a.selectDateRange=!1}),e._uU(7),e.qZA()(),e.TgZ(8,"div",3),e.YNc(9,hl,17,8,"div",4),e.YNc(10,_l,5,2,"div",4),e.qZA(),e.YNc(11,vl,4,1,"div",5),e.YNc(12,bl,2,2,"div",6),e.YNc(13,Fl,162,89,"div",7),e.YNc(14,zl,76,41,"div",7),e.YNc(15,id,85,46,"div",7)),2&t&&(e.xp6(1),e.hij(" ",a.ts.l.profile_stats," "),e.xp6(3),e.hij(" ",a.ts.l.date_range,""),e.xp6(3),e.hij(" ",a.ts.l.previous_data," "),e.xp6(2),e.Q6J("ngIf",a.selectDateRange),e.xp6(1),e.Q6J("ngIf",!a.selectDateRange),e.xp6(1),e.Q6J("ngIf",!a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded&&a.selectDateRange),e.xp6(1),e.Q6J("ngIf",a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded))},dependencies:[H.sg,H.O5,$.Fj,$.JJ,$.JL,$.sg,$.u,Te.TO,Te.KE,Te.hX,Te.R9,Bt.pp,Bt.ib,Bt.yz,Bt.yK,Bt.u4,qe.nW,qe.wx,qe.zY,qe.By,qe._g,Wt.P,H.uU,H.Nd],styles:[".headerTitle[_ngcontent-%COMP%]{font-size:16pt;padding-top:10px}.dataOptions[_ngcontent-%COMP%]{padding-top:20px;display:flex;align-items:center;justify-content:center}.option[_ngcontent-%COMP%]{padding-right:5px;padding-top:5px}.option[_ngcontent-%COMP%]:hover{color:var(--scealai-green);text-decoration:none;cursor:pointer}.adminContent[_ngcontent-%COMP%]{justify-content:space-around}.container[_ngcontent-%COMP%]{padding-bottom:20px}.datePicker[_ngcontent-%COMP%]{padding-top:10px}.submitButton[_ngcontent-%COMP%]{background-color:var(--scealai-green);color:#fff;padding:5px 10px;margin-left:10px;border-radius:5px}.submitButton[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--scealai-dark-green)}.logContainer[_ngcontent-%COMP%]{padding:10px}.profileNumber[_ngcontent-%COMP%]{text-align:left;padding-left:20px}.profileHeader[_ngcontent-%COMP%]{text-align:center;font-weight:700;font-size:14pt}.displayData[_ngcontent-%COMP%]{padding:20px}.sideBySide[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding-left:30%;padding-right:20%;text-align:left}.dataLabel[_ngcontent-%COMP%]{font-size:12pt;font-weight:700;padding-bottom:5px}.data[_ngcontent-%COMP%]{text-align:left;padding-left:40%}"]}),n})();function od(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.ts.l.invalid_start_date)}}function rd(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.ts.l.invalid_end_date)}}function sd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3),e.qZA(),e.TgZ(4,"mat-date-range-input",9),e._UZ(5,"input",10)(6,"input",11),e.qZA(),e._UZ(7,"mat-datepicker-toggle",12)(8,"mat-date-range-picker",null,13),e.YNc(10,od,2,1,"mat-error",6),e.YNc(11,rd,2,1,"mat-error",6),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"div",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getFeatureData())}),e._uU(16),e.qZA()()}if(2&n){const t=e.MAs(9),a=e.oxw();e.xp6(3),e.Oqu(a.ts.l.enter_date_range),e.xp6(1),e.Q6J("formGroup",a.range)("rangePicker",t),e.xp6(3),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",a.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",a.range.controls.end.hasError("matEndDateInvalid")),e.xp6(2),e.hij(" (",a.ts.l.no_date_range_entered,") "),e.xp6(3),e.Oqu(a.ts.l.get_data)}}function cd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.displayLog(r.statsData))}),e._uU(2),e.ALo(3,"date"),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.hij(" ",e.xi3(3,1,t.date,"d/M/yy, h:mm a")," ")}}function ld(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,cd,4,4,"div",15),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.previousFeatures)}}function dd(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.YNc(1,ld,2,1,"div",6),e._UZ(2,"br")(3,"hr"),e.TgZ(4,"div",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addNewFeatureData())}),e._uU(5),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.previousFeatures),e.xp6(4),e.Oqu(t.ts.l.add_data_log)}}function fd(n,i){if(1&n&&(e.TgZ(0,"div",17)(1,"b"),e._uU(2),e.qZA(),e._UZ(3,"grid-spinner"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ts.l.compiling_data)}}function ud(n,i){if(1&n&&(e.TgZ(0,"mat-card")(1,"div",19)(2,"mat-card-content")(3,"div",20)(4,"b"),e._uU(5),e.qZA()()(),e.TgZ(6,"mat-card-content")(7,"div",21),e._uU(8),e.qZA()()()()),2&n){const t=i.$implicit;e.xp6(5),e.hij("",t.key," : "),e.xp6(3),e.Oqu(t.value)}}function pd(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ud,9,2,"mat-card",18),e.ALo(2,"keyvalue"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.featureCounts,t.valueOrder))}}let hd=(()=>{class n{constructor(t,a,o){this.statsService=t,this.ts=a,this.engagement=o,this.range=new $.nJ({start:new $.p4,end:new $.p4}),this.previousFeatures=[],this.selectDateRange=!0,this.dataLoaded=!0,this.featureCounts={},this.valueOrder=(r,s)=>r.value>s.value?-1:s.value>r.value?1:0}ngOnInit(){this.engagement.getPreviousAnalysisData("FEATURE-STATS").subscribe(t=>{this.previousFeatures=t.sort((a,o)=>o.date-a.date)})}getFeatureData(){var t=this;return(0,le.Z)(function*(){t.dataLoaded=!1;let a=t.range.get("start").value?t.range.get("start").value:"empty",o=t.range.get("end").value?t.range.get("end").value:"empty";return new Promise((r,s)=>{t.statsService.getFeatureDataByDate(a,o).subscribe(function(){var c=(0,le.Z)(function*(d){t.featureCounts=d,t.dataLoaded=!0,r()});return function(d){return c.apply(this,arguments)}}())})})()}addNewFeatureData(){var t=this;return(0,le.Z)(function*(){if(t.previousFeatures.length>0){let a=t.previousFeatures[t.previousFeatures.length-1];new Promise((o,r)=>{t.statsService.getFeatureDataSinceLog(a.date).subscribe(function(){var s=(0,le.Z)(function*(c){let d=c;0!=Object.keys(d).length&&(Object.entries(a.statsData).forEach(([g,l])=>{d[g]=d[g]?l+d[g]:l}),t.engagement.addAnalysisEvent(ii.tw["FEATURE-STATS"],d)),o()});return function(c){return s.apply(this,arguments)}}())})}else yield t.getFeatureData(),t.engagement.addAnalysisEvent(ii.tw["FEATURE-STATS"],t.featureCounts);t.ngOnInit()})()}displayLog(t){this.featureCounts=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(rr),e.Y36(Oe.D),e.Y36(ni.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-feature-stats"]],decls:13,vars:7,consts:[[1,"headerTitle"],[1,"dataOptions"],[1,"option",3,"click"],[1,"adminContent"],["class","datePicker",4,"ngIf"],["class","adminLoaderContainer",4,"ngIf"],[4,"ngIf"],[1,"datePicker"],["appearance","fill"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date"],["matSuffix","",3,"for"],["picker",""],[1,"submitButton",3,"click"],["style","padding:10px",4,"ngFor","ngForOf"],[2,"padding","10px"],[1,"adminLoaderContainer"],[4,"ngFor","ngForOf"],[1,"card"],[1,"featureName"],[1,"featureValue"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e.NdJ("click",function(){return a.selectDateRange=!0}),e._uU(4),e.qZA(),e._uU(5," | "),e.TgZ(6,"div",2),e.NdJ("click",function(){return a.selectDateRange=!1}),e._uU(7),e.qZA()(),e.TgZ(8,"div",3),e.YNc(9,sd,17,8,"div",4),e.YNc(10,dd,6,2,"div",4),e.qZA(),e.YNc(11,fd,4,1,"div",5),e.YNc(12,pd,3,4,"div",6)),2&t&&(e.xp6(1),e.hij(" ",a.ts.l.scealai_feature_statistics," "),e.xp6(3),e.hij(" ",a.ts.l.date_range,""),e.xp6(3),e.hij(" ",a.ts.l.previous_data," "),e.xp6(2),e.Q6J("ngIf",a.selectDateRange),e.xp6(1),e.Q6J("ngIf",!a.selectDateRange),e.xp6(1),e.Q6J("ngIf",!a.dataLoaded),e.xp6(1),e.Q6J("ngIf",a.dataLoaded))},dependencies:[H.sg,H.O5,$.Fj,$.JJ,$.JL,$.sg,$.u,Te.TO,Te.KE,Te.hX,Te.R9,yt.a8,yt.dn,qe.nW,qe.wx,qe.zY,qe.By,qe._g,Wt.P,H.uU,H.Nd],styles:[".headerTitle[_ngcontent-%COMP%]{font-size:16pt;padding-top:10px}.dataOptions[_ngcontent-%COMP%]{padding-top:20px;display:flex;align-items:center;justify-content:center}.option[_ngcontent-%COMP%]{padding-right:5px;padding-top:5px}.option[_ngcontent-%COMP%]:hover{color:var(--scealai-green);text-decoration:none;cursor:pointer}.adminContent[_ngcontent-%COMP%]{justify-content:space-around}.datePicker[_ngcontent-%COMP%]{padding-top:10px}.submitButton[_ngcontent-%COMP%]{background-color:var(--scealai-green);color:#fff;padding:5px 10px;margin-left:10px;border-radius:5px}.submitButton[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--scealai-dark-green)}.card[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:10px;text-align:center}.featureName[_ngcontent-%COMP%]{font-size:14pt;font-weight:700;text-align:center}.featureValue[_ngcontent-%COMP%]{font-size:14pt;padding-left:20px;text-align:center}"]}),n})();var gd=T(445),_n=T(1281),Me=T(5017),md=T(3353),sr=T(8605),_d=T(2076),ai=T(1135),vd=T(9751),cr=T(576),oi=T(9646),vn=T(2722),lr=T(5698);const yd=[[["caption"]],[["colgroup"],["col"]]],xd=["caption","colgroup, col"];function la(n){return class extends n{constructor(...i){super(...i),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(i){const t=this._sticky;this._sticky=(0,_n.Ig)(i),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const i=this._hasStickyChanged;return this._hasStickyChanged=!1,i}resetStickyChanged(){this._hasStickyChanged=!1}}}const Gt=new e.OlP("CDK_TABLE");let Jt=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),zt=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),ri=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Sd{}const Zd=la(Sd);let et=(()=>{class n extends Zd{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const a=this._stickyEnd;this._stickyEnd=(0,_n.Ig)(t),this._hasStickyChanged=a!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Gt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,a,o){if(1&t&&(e.Suo(o,Jt,5),e.Suo(o,zt,5),e.Suo(o,ri,5)),2&t){let r;e.iGM(r=e.CRH())&&(a.cell=r.first),e.iGM(r=e.CRH())&&(a.headerCell=r.first),e.iGM(r=e.CRH())&&(a.footerCell=r.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),e.qOj]}),n})();class da{constructor(i,t){t.nativeElement.classList.add(...i._columnCssClassName)}}let fa=(()=>{class n extends da{constructor(t,a){super(t,a)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(et),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]}),n})(),ua=(()=>{class n extends da{constructor(t,a){if(super(t,a),1===t._table?._elementRef.nativeElement.nodeType){const o=t._table._elementRef.nativeElement.getAttribute("role");a.nativeElement.setAttribute("role","grid"===o||"treegrid"===o?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(et),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]}),n})();class fr{constructor(){this.tasks=[],this.endTasks=[]}}const pa=new e.OlP("_COALESCED_STYLE_SCHEDULER");let ur=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new wt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fr,this._getScheduleObservable().pipe((0,vn.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new fr;for(const a of t.tasks)a();for(const a of t.endTasks)a()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,_d.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,lr.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ha=(()=>{class n{constructor(t,a){this.template=t,this._differs=a}ngOnChanges(t){if(!this._columnsDiffer){const a=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(a).create(),this._columnsDiffer.diff(a)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof bn?t.headerCell.template:this instanceof yn?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4))},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n})();class Dd extends ha{}const Ad=la(Dd);let bn=(()=>{class n extends Ad{constructor(t,a,o){super(t,a),this._table=o}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(Gt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]}),n})();class Md extends ha{}const Od=la(Md);let yn=(()=>{class n extends Od{constructor(t,a,o){super(t,a),this._table=o}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(Gt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]}),n})(),si=(()=>{class n extends ha{constructor(t,a,o){super(t,a),this._table=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(Gt,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]}),n})(),tt=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){1&t&&e.GkF(0,0)},dependencies:[tt],encapsulation:2}),n})(),_a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){1&t&&e.GkF(0,0)},dependencies:[tt],encapsulation:2}),n})(),ci=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const pr=["top","bottom","left","right"];class kd{constructor(i,t,a,o,r=!0,s=!0,c){this._isNativeHtmlTable=i,this._stickCellCss=t,this.direction=a,this._coalescedStyleScheduler=o,this._isBrowser=r,this._needsPositionStickyOnElement=s,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(i,t){const a=[];for(const o of i)if(o.nodeType===o.ELEMENT_NODE){a.push(o);for(let r=0;r<o.children.length;r++)a.push(o.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(const o of a)this._removeStickyStyle(o,t)})}updateStickyColumns(i,t,a,o=!0){if(!i.length||!this._isBrowser||!t.some(h=>h)&&!a.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=i[0],s=r.children.length,c=this._getCellWidths(r,o),d=this._getStickyStartColumnPositions(c,t),g=this._getStickyEndColumnPositions(c,a),l=t.lastIndexOf(!0),p=a.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,v=h?"right":"left",y=h?"left":"right";for(const O of i)for(let w=0;w<s;w++){const k=O.children[w];t[w]&&this._addStickyStyle(k,v,d[w],w===l),a[w]&&this._addStickyStyle(k,y,g[w],w===p)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:c.slice(0,l+1).map((O,w)=>t[w]?O:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===p?[]:c.slice(p).map((O,w)=>a[w+p]?O:null).reverse()}))})}stickRows(i,t,a){if(!this._isBrowser)return;const o="bottom"===a?i.slice().reverse():i,r="bottom"===a?t.slice().reverse():t,s=[],c=[],d=[];for(let l=0,p=0;l<o.length;l++){if(!r[l])continue;s[l]=p;const h=o[l];d[l]=this._isNativeHtmlTable?Array.from(h.children):[h];const v=h.getBoundingClientRect().height;p+=v,c[l]=v}const g=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let l=0;l<o.length;l++){if(!r[l])continue;const p=s[l],h=l===g;for(const v of d[l])this._addStickyStyle(v,a,p,h)}"top"===a?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:s,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:s,elements:d})})}updateStickyFooterContainer(i,t){if(!this._isNativeHtmlTable)return;const a=i.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(o=>!o)?this._removeStickyStyle(a,["bottom"]):this._addStickyStyle(a,"bottom",0,!1)})}_removeStickyStyle(i,t){for(const o of t)i.style[o]="",i.classList.remove(this._borderCellCss[o]);pr.some(o=>-1===t.indexOf(o)&&i.style[o])?i.style.zIndex=this._getCalculatedZIndex(i):(i.style.zIndex="",this._needsPositionStickyOnElement&&(i.style.position=""),i.classList.remove(this._stickCellCss))}_addStickyStyle(i,t,a,o){i.classList.add(this._stickCellCss),o&&i.classList.add(this._borderCellCss[t]),i.style[t]=`${a}px`,i.style.zIndex=this._getCalculatedZIndex(i),this._needsPositionStickyOnElement&&(i.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(i){const t={top:100,bottom:10,left:1,right:1};let a=0;for(const o of pr)i.style[o]&&(a+=t[o]);return a?`${a}`:""}_getCellWidths(i,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const a=[],o=i.children;for(let r=0;r<o.length;r++)a.push(o[r].getBoundingClientRect().width);return this._cachedCellWidths=a,a}_getStickyStartColumnPositions(i,t){const a=[];let o=0;for(let r=0;r<i.length;r++)t[r]&&(a[r]=o,o+=i[r]);return a}_getStickyEndColumnPositions(i,t){const a=[];let o=0;for(let r=i.length;r>0;r--)t[r]&&(a[r]=o,o+=i[r]);return a}}const va=new e.OlP("CDK_SPL");let li=(()=>{class n{constructor(t,a){this.viewContainer=t,this.elementRef=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),di=(()=>{class n{constructor(t,a){this.viewContainer=t,this.elementRef=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),fi=(()=>{class n{constructor(t,a){this.viewContainer=t,this.elementRef=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),ui=(()=>{class n{constructor(t,a){this.viewContainer=t,this.elementRef=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),pi=(()=>{class n{constructor(t,a,o,r,s,c,d,g,l,p,h,v){this._differs=t,this._changeDetectorRef=a,this._elementRef=o,this._dir=s,this._platform=d,this._viewRepeater=g,this._coalescedStyleScheduler=l,this._viewportRuler=p,this._stickyPositioningListener=h,this._ngZone=v,this._onDestroy=new wt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new ai.X({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=c,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=(0,_n.Ig)(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=(0,_n.Ig)(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,a)=>this.trackBy?this.trackBy(a.dataIndex,a.data):a),this._viewportRuler.change().pipe((0,vn.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const a=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||a,this._forceRecalculateCellWidths=a,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,Me.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const a=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,a,(o,r,s)=>this._getEmbeddedViewArgs(o.item,s),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(o=>{a.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,lr.q)(1),(0,vn.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=t.length?"":"none");const r=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,r,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=t.length?"":"none");const r=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),a=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...a,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((r,s)=>{this._addStickyColumnStyles([r],this._headerRowDefs[s])}),this._rowDefs.forEach(r=>{const s=[];for(let c=0;c<a.length;c++)this._renderRows[c].rowDef===r&&s.push(a[c]);this._addStickyColumnStyles(s,r)}),o.forEach((r,s)=>{this._addStickyColumnStyles([r],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_getAllRenderRows(){const t=[],a=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let r=this._data[o];const s=this._getRenderRowsForData(r,o,a.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let c=0;c<s.length;c++){let d=s[c];const g=this._cachedRenderRowsMap.get(d.data);g.has(d.rowDef)?g.get(d.rowDef).push(d):g.set(d.rowDef,[d]),t.push(d)}}return t}_getRenderRowsForData(t,a,o){return this._getRowDefs(t,a).map(s=>{const c=o&&o.has(s)?o.get(s):[];if(c.length){const d=c.shift();return d.dataIndex=a,d}return{data:t,rowDef:s,dataIndex:a}})}_cacheColumnDefs(){this._columnDefsByName.clear(),hi(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(a=>{this._columnDefsByName.has(a.name),this._columnDefsByName.set(a.name,a)})}_cacheRowDefs(){this._headerRowDefs=hi(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=hi(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=hi(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(a=>!a.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(s,c)=>s||!!c.getColumnsDiff(),a=this._rowDefs.reduce(t,!1);a&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(t,!1);o&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),a||o||r}_switchDataSource(t){this._data=[],(0,Me.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;(0,Me.Z9)(this.dataSource)?t=this.dataSource.connect(this):function bd(n){return!!n&&(n instanceof vd.y||(0,cr.m)(n.lift)&&(0,cr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,oi.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,vn.R)(this._onDestroy)).subscribe(a=>{this._data=a||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,a)=>this._renderRow(this._headerRowOutlet,t,a)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,a)=>this._renderRow(this._footerRowOutlet,t,a)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,a){const o=Array.from(a.columns||[]).map(c=>this._columnDefsByName.get(c)),r=o.map(c=>c.sticky),s=o.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const a=[];for(let o=0;o<t.viewContainer.length;o++){const r=t.viewContainer.get(o);a.push(r.rootNodes[0])}return a}_getRowDefs(t,a){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(r=>!r.when||r.when(a,t));else{let r=this._rowDefs.find(s=>s.when&&s.when(a,t))||this._defaultRowDef;r&&o.push(r)}return o}_getEmbeddedViewArgs(t,a){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:a}}_renderRow(t,a,o,r={}){const s=t.viewContainer.createEmbeddedView(a.template,r,o);return this._renderCellTemplateForItem(a,r),s}_renderCellTemplateForItem(t,a){for(let o of this._getCellTemplates(t))tt.mostRecentCellOutlet&&tt.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,a);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let a=0,o=t.length;a<o;a++){const s=t.get(a).context;s.count=o,s.first=0===a,s.last=a===o-1,s.even=a%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[a].dataIndex,s.renderIndex=a):s.index=this._renderRows[a].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,a=>{const o=this._columnDefsByName.get(a);return t.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),a=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of a){const r=this._document.createElement(o.tag);r.setAttribute("role","rowgroup");for(const s of o.outlets)r.appendChild(s.elementRef.nativeElement);t.appendChild(r)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(a,o)=>a||o.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new kd(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,oi.of)()).pipe((0,vn.R)(this._onDestroy)).subscribe(a=>{this._stickyStyler.direction=a,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(a=>!a._table||a._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const a=0===this._rowOutlet.viewContainer.length;if(a===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(a){const r=o.createEmbeddedView(t.templateRef),s=r.rootNodes[0];1===r.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(t._contentClassName))}else o.clear();this._isShowingNoDataRow=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(gd.Is,8),e.Y36(H.K0),e.Y36(md.t4),e.Y36(Me.k),e.Y36(pa),e.Y36(sr.rL),e.Y36(va,12),e.Y36(e.R0b,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,a,o){if(1&t&&(e.Suo(o,ci,5),e.Suo(o,et,5),e.Suo(o,si,5),e.Suo(o,bn,5),e.Suo(o,yn,5)),2&t){let r;e.iGM(r=e.CRH())&&(a._noDataRow=r.first),e.iGM(r=e.CRH())&&(a._contentColumnDefs=r),e.iGM(r=e.CRH())&&(a._contentRowDefs=r),e.iGM(r=e.CRH())&&(a._contentHeaderRowDefs=r),e.iGM(r=e.CRH())&&(a._contentFooterRowDefs=r)}},viewQuery:function(t,a){if(1&t&&(e.Gf(li,7),e.Gf(di,7),e.Gf(fi,7),e.Gf(ui,7)),2&t){let o;e.iGM(o=e.CRH())&&(a._rowOutlet=o.first),e.iGM(o=e.CRH())&&(a._headerRowOutlet=o.first),e.iGM(o=e.CRH())&&(a._footerRowOutlet=o.first),e.iGM(o=e.CRH())&&(a._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,a){2&t&&e.ekj("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:Gt,useExisting:n},{provide:Me.k,useClass:Me.yy},{provide:pa,useClass:ur},{provide:va,useValue:null}])],ngContentSelectors:xd,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,a){1&t&&(e.F$t(yd),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[li,di,fi,ui],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function hi(n,i){return n.concat(Array.from(i))}let Pd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[sr.Cl]}),n})();var ba=T(3238),gr=T(6451),ya=T(9841),xa=T(4004);const qd=[[["caption"]],[["colgroup"],["col"]]],Ud=["caption","colgroup, col"];let Ca=(()=>{class n extends pi{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,a){2&t&&e.ekj("mat-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:Me.k,useClass:Me.yy},{provide:pi,useExisting:n},{provide:Gt,useExisting:n},{provide:pa,useClass:ur},{provide:va,useValue:null}]),e.qOj],ngContentSelectors:Ud,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,a){1&t&&(e.F$t(qd),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[li,di,fi,ui],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),gi=(()=>{class n extends Jt{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:Jt,useExisting:n}]),e.qOj]}),n})(),mi=(()=>{class n extends zt{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:zt,useExisting:n}]),e.qOj]}),n})(),_i=(()=>{class n extends et{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:et,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),e.qOj]}),n})(),vi=(()=>{class n extends fa{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[e.qOj]}),n})(),bi=(()=>{class n extends ua{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[e.qOj]}),n})(),wa=(()=>{class n extends bn{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:bn,useExisting:n}]),e.qOj]}),n})(),Ta=(()=>{class n extends si{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:si,useExisting:n}]),e.qOj]}),n})(),Sa=(()=>{class n extends ga{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:ga,useExisting:n}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){1&t&&e.GkF(0,0)},dependencies:[tt],encapsulation:2}),n})(),Za=(()=>{class n extends _a{}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[e._Bn([{provide:_a,useExisting:n}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,a){1&t&&e.GkF(0,0)},dependencies:[tt],encapsulation:2}),n})(),Da=(()=>{class n extends ci{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let i;return function(a){return(i||(i=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[e._Bn([{provide:ci,useExisting:n}]),e.qOj]}),n})(),Bd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Pd,ba.BQ,ba.BQ]}),n})();class Jd extends Me.o2{constructor(i=[]){super(),this._renderData=new ai.X([]),this._filter=new ai.X(""),this._internalPageChanges=new wt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,a)=>{const o=t[a];if((0,_n.t6)(o)){const r=Number(o);return r<9007199254740991?r:o}return o},this.sortData=(t,a)=>{const o=a.active,r=a.direction;return o&&""!=r?t.sort((s,c)=>{let d=this.sortingDataAccessor(s,o),g=this.sortingDataAccessor(c,o);const l=typeof d,p=typeof g;l!==p&&("number"===l&&(d+=""),"number"===p&&(g+=""));let h=0;return null!=d&&null!=g?d>g?h=1:d<g&&(h=-1):null!=d?h=1:null!=g&&(h=-1),h*("asc"==r?1:-1)}):t},this.filterPredicate=(t,a)=>{const o=Object.keys(t).reduce((s,c)=>s+t[c]+"\u25ec","").toLowerCase(),r=a.trim().toLowerCase();return-1!=o.indexOf(r)},this._data=new ai.X(i),this._updateChangeSubscription()}get data(){return this._data.value}set data(i){i=Array.isArray(i)?i:[],this._data.next(i),this._renderChangesSubscription||this._filterData(i)}get filter(){return this._filter.value}set filter(i){this._filter.next(i),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(i){this._sort=i,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(i){this._paginator=i,this._updateChangeSubscription()}_updateChangeSubscription(){const i=this._sort?(0,gr.T)(this._sort.sortChange,this._sort.initialized):(0,oi.of)(null),t=this._paginator?(0,gr.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,oi.of)(null),o=(0,ya.a)([this._data,this._filter]).pipe((0,xa.U)(([c])=>this._filterData(c))),r=(0,ya.a)([o,i]).pipe((0,xa.U)(([c])=>this._orderData(c))),s=(0,ya.a)([r,t]).pipe((0,xa.U)(([c])=>this._pageData(c)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(c=>this._renderData.next(c))}_filterData(i){return this.filteredData=null==this.filter||""===this.filter?i:i.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(i){return this.sort?this.sortData(i.slice(),this.sort):i}_pageData(i){if(!this.paginator)return i;const t=this.paginator.pageIndex*this.paginator.pageSize;return i.slice(t,t+this.paginator.pageSize)}_updatePaginator(i){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=i,t.pageIndex>0)){const a=Math.ceil(t.length/t.pageSize)-1||0,o=Math.min(t.pageIndex,a);o!==t.pageIndex&&(t.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class mr extends Jd{}var yi=T(4144),_r=T(4385),vr=T(4859),$t=T(7974),st=T(6308);function zd(n,i){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Part of speech"),e.qZA())}function $d(n,i){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.partOfSpeechData?null:t.partOfSpeechData.partOfSpeech," ")}}function Qd(n,i){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Word"),e.qZA())}function Wd(n,i){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.partOfSpeechData?null:t.partOfSpeechData.word," ")}}function Kd(n,i){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Translation"),e.qZA())}function Xd(n,i){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.partOfSpeechData?null:t.partOfSpeechData.translation," ")}}function Vd(n,i){1&n&&(e.TgZ(0,"th",14),e._uU(1,"Last Updated"),e.qZA())}function ef(n,i){if(1&n&&(e.TgZ(0,"td",15),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.lastUpdated,"medium")," ")}}function tf(n,i){1&n&&e._UZ(0,"tr",16)}function nf(n,i){1&n&&e._UZ(0,"tr",17)}function af(n,i){if(1&n&&(e.TgZ(0,"tr",18)(1,"td",19),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(5);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}const of=function(){return[5,10,25,100]};let rf=(()=>{class n{constructor(){this.posTableColumns=["pos","word","translation","date"],this.hideTable=!0}ngOnInit(){}ngOnChanges(){this.data&&(this.data.paginator=this.paginator,this.data.sort=this.sort,console.log(this.data))}applyFilter(t){this.data.filter=t.target.value.trim().toLowerCase(),console.log(this.data),this.data.paginator&&this.data.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pos-data-table"]],viewQuery:function(t,a){if(1&t&&(e.Gf($t.NW,5),e.Gf(st.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.paginator=o.first),e.iGM(o=e.CRH())&&(a.sort=o.first)}},inputs:{data:"data"},features:[e.TTD],decls:23,vars:6,consts:[[3,"hidden"],["matInput","","placeholder","Ex. noun",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","pos"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","word"],["matColumnDef","translation"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Filter"),e.qZA(),e.TgZ(4,"input",1,2),e.NdJ("keyup",function(r){return a.applyFilter(r)}),e.qZA()(),e.TgZ(6,"table",3),e.ynx(7,4),e.YNc(8,zd,2,0,"th",5),e.YNc(9,$d,2,1,"td",6),e.BQk(),e.ynx(10,7),e.YNc(11,Qd,2,0,"th",5),e.YNc(12,Wd,2,1,"td",6),e.BQk(),e.ynx(13,8),e.YNc(14,Kd,2,0,"th",5),e.YNc(15,Xd,2,1,"td",6),e.BQk(),e.ynx(16,9),e.YNc(17,Vd,2,0,"th",5),e.YNc(18,ef,3,4,"td",6),e.BQk(),e.YNc(19,tf,1,0,"tr",10),e.YNc(20,nf,1,0,"tr",11),e.YNc(21,af,3,1,"tr",12),e.qZA(),e._UZ(22,"mat-paginator",13),e.qZA()),2&t&&(e.Q6J("hidden",a.hideTable),e.xp6(6),e.Q6J("dataSource",a.data),e.xp6(13),e.Q6J("matHeaderRowDef",a.posTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.posTableColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(5,of)))},dependencies:[Te.KE,Te.hX,Ca,mi,wa,_i,gi,Ta,vi,bi,Sa,Za,Da,yi.Nt,$t.NW,st.YE,st.nU,H.uU],styles:["table[_ngcontent-%COMP%]{width:100%;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:space-evenly!important}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();function sf(n,i){1&n&&(e.TgZ(0,"th",16),e._uU(1,"Type"),e.qZA())}function cf(n,i){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(null==t.prompt?null:t.prompt.topic)}}function lf(n,i){1&n&&(e.TgZ(0,"th",16),e._uU(1,"Level"),e.qZA())}function df(n,i){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null!=t.prompt&&t.prompt.level?t.prompt.level:"---"," ")}}function ff(n,i){1&n&&(e.TgZ(0,"th",16),e._uU(1,"Dialect"),e.qZA())}function uf(n,i){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null!=t.prompt&&t.prompt.dialect?t.prompt.dialect:"---"," ")}}function pf(n,i){1&n&&(e.TgZ(0,"th",16),e._uU(1,"Text"),e.qZA())}function hf(n,i){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t.prompt?null:t.prompt.text," ")}}function gf(n,i){1&n&&(e.TgZ(0,"th",16),e._uU(1,"Last Updated"),e.qZA())}function mf(n,i){if(1&n&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.lastUpdated,"medium")," ")}}function _f(n,i){1&n&&e._UZ(0,"tr",19)}function vf(n,i){1&n&&e._UZ(0,"tr",20)}function bf(n,i){if(1&n&&(e.TgZ(0,"tr",21)(1,"td",22),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(5);e.xp6(2),e.hij(' No data matching the filter "',t.value,'" ')}}const yf=function(){return[5,10,25,100]};let xf=(()=>{class n{constructor(){this.promptTableColumns=["topic","level","dialect","text","date"],this.hideTable=!0}ngOnInit(){}ngOnChanges(){this.data&&(this.data.paginator=this.paginator,this.data.sort=this.sort)}applyFilter(t){this.data.filter=t.target.value.trim().toLowerCase(),this.data.paginator&&this.data.paginator.firstPage()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-prompt-data-table"]],viewQuery:function(t,a){if(1&t&&(e.Gf($t.NW,5),e.Gf(st.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.paginator=o.first),e.iGM(o=e.CRH())&&(a.sort=o.first)}},inputs:{data:"data"},features:[e.TTD],decls:26,vars:6,consts:[[3,"hidden"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","topic"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","level"],["matColumnDef","dialect"],["matColumnDef","text"],["mat-cell","","class","example-container",4,"matCellDef"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"example-container"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","5",1,"mat-cell"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"mat-form-field")(2,"mat-label"),e._uU(3,"Filter"),e.qZA(),e.TgZ(4,"input",1,2),e.NdJ("keyup",function(r){return a.applyFilter(r)}),e.qZA()(),e.TgZ(6,"table",3),e.ynx(7,4),e.YNc(8,sf,2,0,"th",5),e.YNc(9,cf,2,1,"td",6),e.BQk(),e.ynx(10,7),e.YNc(11,lf,2,0,"th",5),e.YNc(12,df,2,1,"td",6),e.BQk(),e.ynx(13,8),e.YNc(14,ff,2,0,"th",5),e.YNc(15,uf,2,1,"td",6),e.BQk(),e.ynx(16,9),e.YNc(17,pf,2,0,"th",5),e.YNc(18,hf,2,1,"td",10),e.BQk(),e.ynx(19,11),e.YNc(20,gf,2,0,"th",5),e.YNc(21,mf,3,4,"td",6),e.BQk(),e.YNc(22,_f,1,0,"tr",12),e.YNc(23,vf,1,0,"tr",13),e.YNc(24,bf,3,1,"tr",14),e.qZA(),e._UZ(25,"mat-paginator",15),e.qZA()),2&t&&(e.Q6J("hidden",a.hideTable),e.xp6(6),e.Q6J("dataSource",a.data),e.xp6(16),e.Q6J("matHeaderRowDef",a.promptTableColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.promptTableColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(5,yf)))},dependencies:[Te.KE,Te.hX,Ca,mi,wa,_i,gi,Ta,vi,bi,Sa,Za,Da,yi.Nt,$t.NW,st.YE,st.nU,H.uU],styles:["table[_ngcontent-%COMP%]{width:100%;text-align:left}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left!important;vertical-align:middle!important}.mat-sort-header-container[_ngcontent-%COMP%]{justify-content:space-evenly!important}.example-container[_ngcontent-%COMP%]{overflow-x:scroll;max-width:60px;text-align:left!important}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]}),n})();const Cf=["promptDataTable"],wf=["posDataTable"];function Tf(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij("",t," ")}}function Sf(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Tf,2,1,"div",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errorMessages)}}function Zf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",10)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"Part of Speech"),e.qZA(),e.TgZ(5,"mat-select",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedPOS=o)}),e.TgZ(6,"mat-option",11),e._uU(7),e.qZA(),e.TgZ(8,"mat-option",12),e._uU(9),e.qZA(),e.TgZ(10,"mat-option",13),e._uU(11),e.qZA(),e.TgZ(12,"mat-option",14),e._uU(13),e.qZA(),e.TgZ(14,"mat-option",15),e._uU(15),e.qZA(),e.TgZ(16,"mat-option",16),e._uU(17),e.qZA(),e.TgZ(18,"mat-option",17),e._uU(19),e.qZA(),e.TgZ(20,"mat-option",18),e._uU(21),e.qZA()()(),e.TgZ(22,"div",19),e._uU(23," POS entries can be added one at a time, or you can add several at once with each entry on a new line (enter key after each one). Enter the word and the translation separated by a ':' Example: "),e.qZA(),e.TgZ(24,"div"),e._uU(25," an t-aerfort : the airport"),e.qZA(),e.TgZ(26,"div"),e._uU(27," an teach : the house"),e.qZA(),e.TgZ(28,"mat-form-field",20)(29,"mat-label"),e._uU(30,"Word/Translation Entry"),e.qZA(),e.TgZ(31,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.posInput=o)}),e.qZA()(),e.YNc(32,Sf,2,1,"div",22),e.TgZ(33,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addPOSContent())}),e._uU(34," Add "),e.qZA()(),e.TgZ(35,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleTable("pos"))}),e._uU(36),e.qZA()()}if(2&n){const t=e.oxw(),a=e.MAs(16);e.xp6(5),e.Q6J("ngModel",t.selectedPOS),e.xp6(2),e.Oqu(t.ts.l.noun),e.xp6(2),e.Oqu(t.ts.l.verb),e.xp6(2),e.Oqu(t.ts.l.adjective),e.xp6(2),e.Oqu(t.ts.l.preposition),e.xp6(2),e.Oqu(t.ts.l.adverb),e.xp6(2),e.Oqu(t.ts.l.pronoun),e.xp6(2),e.Oqu(t.ts.l.article),e.xp6(2),e.Oqu(t.ts.l.conjunction),e.xp6(10),e.Q6J("ngModel",t.posInput),e.xp6(1),e.Q6J("ngIf",t.errorMessages.length>0),e.xp6(4),e.hij(" ",a.hideTable?"Show Data":"Hide Data"," ")}}function Df(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",2)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"mat-select",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedDialect=o)}),e.TgZ(4,"mat-option",34),e._uU(5),e.qZA(),e.TgZ(6,"mat-option",35),e._uU(7),e.qZA(),e.TgZ(8,"mat-option",36),e._uU(9),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.ts.l.choose_dialect),e.xp6(1),e.Q6J("ngModel",t.selectedDialect),e.xp6(2),e.Oqu(t.ts.l.munster),e.xp6(2),e.Oqu(t.ts.l.connacht),e.xp6(2),e.Oqu(t.ts.l.ulster)}}function Af(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",2)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"mat-select",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedLevel=o)}),e.TgZ(4,"mat-option",37),e._uU(5),e.qZA(),e.TgZ(6,"mat-option",38),e._uU(7),e.qZA(),e.TgZ(8,"mat-option",39),e._uU(9),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.ts.l.choose_level),e.xp6(1),e.Q6J("ngModel",t.selectedLevel),e.xp6(2),e.hij(" ",t.ts.l.level_preferences[0]," "),e.xp6(2),e.hij(" ",t.ts.l.level_preferences[1]," "),e.xp6(2),e.hij(" ",t.ts.l.level_preferences[2]," ")}}function Mf(n,i){1&n&&(e.TgZ(0,"div",19),e._uU(1," Prompt texts can be added one at a time, or you can add several at once with each prompt on a new line (enter key after each one) "),e.qZA())}function Of(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",20)(1,"mat-label"),e._uU(2,"Prompt Text"),e.qZA(),e.TgZ(3,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.promptText=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.promptText)}}function kf(n,i){1&n&&(e.TgZ(0,"div",19),e._uU(1," Please only add one character, setting, and theme at a time "),e.qZA())}function Rf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",20)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedCharacter=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.ts.l.character),e.xp6(1),e.Q6J("ngModel",t.selectedCharacter)}}function Pf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",20)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedSetting=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.ts.l.setting),e.xp6(1),e.Q6J("ngModel",t.selectedSetting)}}function qf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",20)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"textarea",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.selectedTheme=o)}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.ts.l.theme),e.xp6(1),e.Q6J("ngModel",t.selectedTheme)}}function Uf(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij("",t," ")}}function Nf(n,i){if(1&n&&(e.TgZ(0,"div",24),e.YNc(1,Uf,2,1,"div",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.errorMessages)}}function Ef(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",10)(2,"mat-form-field",2)(3,"mat-label"),e._uU(4,"Prompt Generator"),e.qZA(),e.TgZ(5,"mat-select",3),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedPromptGenerator=o)}),e.TgZ(6,"mat-option",26),e._uU(7),e.qZA(),e.TgZ(8,"mat-option",27),e._uU(9),e.qZA(),e.TgZ(10,"mat-option",28),e._uU(11),e.qZA(),e.TgZ(12,"mat-option",29),e._uU(13),e.qZA(),e.TgZ(14,"mat-option",30),e._uU(15),e.qZA()()(),e.YNc(16,Df,10,5,"mat-form-field",31),e.YNc(17,Af,10,5,"mat-form-field",31),e.YNc(18,Mf,2,0,"div",32),e.YNc(19,Of,4,1,"mat-form-field",33),e.YNc(20,kf,2,0,"div",32),e.YNc(21,Rf,4,2,"mat-form-field",33),e.YNc(22,Pf,4,2,"mat-form-field",33),e.YNc(23,qf,4,2,"mat-form-field",33),e.YNc(24,Nf,2,1,"div",22),e.TgZ(25,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addPromptContent())}),e._uU(26," Add "),e.qZA()(),e.TgZ(27,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleTable("prompt"))}),e._uU(28),e.qZA()()}if(2&n){const t=e.oxw(),a=e.MAs(14);e.xp6(5),e.Q6J("ngModel",t.selectedPromptGenerator),e.xp6(2),e.Oqu(t.ts.l.exam_prompts),e.xp6(2),e.Oqu(t.ts.l.proverb_prompts),e.xp6(2),e.Oqu(t.ts.l.lara_prompts),e.xp6(2),e.Oqu(t.ts.l.combination_generator),e.xp6(2),e.Oqu(t.ts.l.general_prompts),e.xp6(1),e.Q6J("ngIf","proverb"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"==t.selectedPromptGenerator||"exam"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"!==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"!==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf","combination"==t.selectedPromptGenerator),e.xp6(1),e.Q6J("ngIf",t.errorMessages.length>0),e.xp6(4),e.hij(" ",a.hideTable?"Show Data":"Hide Data"," ")}}let Ff=(()=>{class n{constructor(t,a,o){this.auth=t,this.http=a,this.ts=o,this.selectedContent="",this.selectedPOS="",this.promptText="",this.posInput="",this.selectedPromptGenerator="",this.selectedDialect="",this.selectedLevel="",this.selectedCharacter="",this.selectedSetting="",this.selectedTheme="",this.errorMessages=[]}ngOnInit(){this.getData("partOfSpeech"),this.getData("prompt")}getData(t){const a={Authorization:"Bearer "+this.auth.getToken()};this.http.get(ke.Z.baseurl+"prompt/getData/"+t,{headers:a}).subscribe({next:o=>{"partOfSpeech"==t?this.posDataSource=new mr(o):this.promptDataSource=new mr(o)},error:o=>{console.log(o)}})}addPOSContent(){var t=this;return(0,le.Z)(function*(){if(t.errorMessages=[],!t.selectedPOS||!t.posInput)return void t.errorMessages.push("Please fill in all information");const a={Authorization:"Bearer "+t.auth.getToken()},o={type:t.selectedContent,partOfSpeechData:{partOfSpeech:t.selectedPOS}};let r=t.posInput.split(/\r?\n/);console.log(r);for(let s of r)if(s.length>0){let[c,d]=s.split(":");o.partOfSpeechData.word=c.trim(),o.partOfSpeechData.translation=d.trim();try{yield(0,de.z)(t.http.post(ke.Z.baseurl+"prompt/addContent/",o,{headers:a}))}catch(g){console.log(g.error),t.errorMessages.push(`Entry already exists: ${JSON.stringify(g.error.data)} `)}}t.selectedPOS="",t.posInput="",t.getData("partOfSpeech")})()}addPromptContent(){var t=this;return(0,le.Z)(function*(){if(t.errorMessages=[],!t.selectedPromptGenerator)return t.errorMessages.push("Please select a generator"),void console.log(t.errorMessages);if(!("proverb"!=t.selectedPromptGenerator||t.selectedDialect&&t.promptText))return void t.errorMessages.push("Missing information");if(!("exam"!=t.selectedPromptGenerator||t.selectedLevel&&t.promptText))return void t.errorMessages.push("Missing information");if(!("combination"!=t.selectedPromptGenerator||t.selectedLevel&&t.selectedCharacter&&t.selectedSetting&&t.selectedTheme))return void t.errorMessages.push("Missing information");const a={Authorization:"Bearer "+t.auth.getToken()},o={type:t.selectedContent,prompt:{topic:t.selectedPromptGenerator}};if(t.selectedDialect&&(o.prompt.dialect=t.selectedDialect),t.selectedLevel&&(o.prompt.level=t.selectedLevel),t.promptText){let r=t.promptText.split(/\r?\n/);for(let s of r)if(s.length>0){o.prompt.text=s;try{yield(0,de.z)(t.http.post(ke.Z.baseurl+"prompt/addContent/",o,{headers:a}))}catch(c){console.log(c.error),t.errorMessages.push(`Entry already exists: ${JSON.stringify(c.error.data)} `)}}}else{o.prompt.combinationData={},t.selectedCharacter&&(o.prompt.combinationData.character=t.selectedCharacter),t.selectedSetting&&(o.prompt.combinationData.setting=t.selectedSetting),t.selectedTheme&&(o.prompt.combinationData.theme=t.selectedTheme);try{yield(0,de.z)(t.http.post(ke.Z.baseurl+"prompt/addContent/",o,{headers:a}))}catch(r){console.log(r.error),t.errorMessages.push(`Entry already exists: ${JSON.stringify(r.error.data)} `)}}0==t.errorMessages.length&&(t.selectedPromptGenerator="",t.promptText="",t.selectedDialect="",t.selectedLevel="",t.selectedCharacter="",t.selectedSetting="",t.selectedTheme="",t.getData("prompt"))})()}toggleTable(t){"pos"==t?this.posDataTable.hideTable=!this.posDataTable.hideTable:this.promptDataTable.hideTable=!this.promptDataTable.hideTable}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(or.$),e.Y36($e.eN),e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-content"]],viewQuery:function(t,a){if(1&t&&(e.Gf(Cf,5),e.Gf(wf,5)),2&t){let o;e.iGM(o=e.CRH())&&(a.promptDataTable=o.first),e.iGM(o=e.CRH())&&(a.posDataTable=o.first)}},decls:17,vars:5,consts:[[1,"mainContainer"],[1,"headerTitle"],["appearance","fill"],[3,"ngModel","ngModelChange"],["value","partOfSpeech"],["value","prompt"],[4,"ngIf"],[3,"data"],["promptDataTable",""],["posDataTable",""],[1,"posFields"],["value","noun"],["value","verb"],["value","adjective"],["value","preposition"],["value","adverb"],["value","pronoun"],["value","article"],["value","conjunction"],[2,"width","50%","padding","10px"],["appearance","fill",1,"inputText"],["matInput","",3,"ngModel","ngModelChange"],["class","errorText",4,"ngIf"],["mat-raised-button","",1,"viewDataBtn",3,"click"],[1,"errorText"],[4,"ngFor","ngForOf"],["value","exam"],["value","proverb"],["value","lara"],["value","combination"],["value","general"],["appearance","fill",4,"ngIf"],["style","width: 50%; padding: 10px",4,"ngIf"],["appearance","fill","class","inputText",4,"ngIf"],["value","munster"],["value","connacht"],["value","ulster"],["value","jc"],["value","lcol"],["value","lchl"]],template:function(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Add Data to DB"),e.qZA(),e.TgZ(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"Select Topic"),e.qZA(),e.TgZ(6,"mat-select",3),e.NdJ("ngModelChange",function(s){return a.selectedContent=s})("ngModelChange",function(){e.CHM(o);const s=e.MAs(16),c=e.MAs(14);return s.hideTable=!0,e.KtG(c.hideTable=!0)}),e.TgZ(7,"mat-option",4),e._uU(8,"Part of Speech Data"),e.qZA(),e.TgZ(9,"mat-option",5),e._uU(10,"Prompt Data"),e.qZA()()(),e.YNc(11,Zf,37,12,"div",6),e.YNc(12,Ef,29,16,"div",6),e.qZA(),e._UZ(13,"app-prompt-data-table",7,8)(15,"app-pos-data-table",7,9)}2&t&&(e.xp6(6),e.Q6J("ngModel",a.selectedContent),e.xp6(5),e.Q6J("ngIf","partOfSpeech"==a.selectedContent),e.xp6(1),e.Q6J("ngIf","prompt"==a.selectedContent),e.xp6(1),e.Q6J("data",a.promptDataSource),e.xp6(2),e.Q6J("data",a.posDataSource))},dependencies:[H.sg,H.O5,$.Fj,$.JJ,$.On,Te.KE,Te.hX,yi.Nt,_r.gD,ba.ey,vr.lW,rf,xf],styles:[".headerTitle[_ngcontent-%COMP%]{font-size:16pt;padding-top:10px;padding-bottom:10px}.mainContainer[_ngcontent-%COMP%]{min-height:50vh;max-height:80vh;padding:20px}.posFields[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;flex-direction:column}.errorText[_ngcontent-%COMP%]{color:red;padding:10px}.inputText[_ngcontent-%COMP%]{width:70%}.viewDataBtn[_ngcontent-%COMP%]{background-color:var(--scealai-green);color:#fff;float:left;margin-left:20px}"]}),n})();var Lf=T(1245),If=T(530);function Yf(n,i){1&n&&(e.TgZ(0,"span",20),e._uU(1,"s"),e.qZA())}function Hf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.goToClassroom(r._id))}),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div",22),e._uU(4),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.title),e.xp6(2),e.Oqu(t.studentIds.length)}}function jf(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",18),e._uU(3),e.YNc(4,Yf,2,0,"span",14),e._uU(5),e.qZA(),e.TgZ(6,"div",16),e.YNc(7,Hf,5,2,"div",19),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.user.username,"'"),e.xp6(1),e.Q6J("ngIf","s"!==t.user.username[t.user.username.length-1]),e.xp6(1),e.hij(" ",t.ts.l.classrooms," "),e.xp6(2),e.Q6J("ngForOf",t.classrooms)}}function Bf(n,i){1&n&&(e.TgZ(0,"span",20),e._uU(1,"s"),e.qZA())}function Gf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.goToStory(r._id))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Jf(n,i){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",18),e._uU(3),e.YNc(4,Bf,2,0,"span",14),e._uU(5),e.qZA(),e.TgZ(6,"div",16),e.YNc(7,Gf,2,1,"div",19),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.user.username,"'"),e.xp6(1),e.Q6J("ngIf","s"!==(null==t.user?null:t.user.username[t.user.username.length-1])),e.xp6(1),e.hij(" ",t.ts.l.stories," "),e.xp6(2),e.Q6J("ngForOf",t.stories)}}function zf(n,i){1&n&&(e.TgZ(0,"span",20),e._uU(1,"s"),e.qZA())}function $f(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.minimiseEvents())}),e._UZ(1,"i",24),e.qZA()}}function Qf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.maximiseEvents())}),e._UZ(1,"i",25),e.qZA()}}function Wf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"b"),e._uU(2,"Story id"),e.qZA(),e.TgZ(3,"div",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw(3);return e.KtG(r.goToStory(o.storyData._id))}),e._uU(4),e._UZ(5,"i",39),e.qZA()()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(4),e.Oqu(t.storyData._id)}}function Kf(n,i){if(1&n&&(e.TgZ(0,"div",37)(1,"b"),e._uU(2,"Story text"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(3),e.Oqu(t.storyData.text)}}function Xf(n,i){if(1&n&&(e.TgZ(0,"div",35)(1,"b"),e._uU(2),e.qZA(),e._uU(3),e.YNc(4,Wf,6,1,"div",36),e.YNc(5,Kf,4,1,"div",36),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw(3);e.xp6(2),e.Oqu(a.ts.l.ISODate),e.xp6(1),e.hij("",t.date," "),e.xp6(1),e.Q6J("ngIf",null==t.storyData?null:t.storyData._id),e.xp6(1),e.Q6J("ngIf",null==t.storyData?null:t.storyData.text)}}function Vf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",31),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.eventSelected[r._id]=!s.eventSelected[r._id])}),e.TgZ(1,"div",32)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",33),e._uU(5),e.qZA()(),e.YNc(6,Xf,6,4,"div",34),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw(3);e.xp6(3),e.Oqu(t.type),e.xp6(2),e.Oqu(a.getTimeFromDate(t.date)),e.xp6(1),e.Q6J("ngIf",a.eventSelected[t._id])}}function eu(n,i){if(1&n&&(e.TgZ(0,"div",26)(1,"div",27),e._UZ(2,"div",28),e.TgZ(3,"div",29),e._uU(4),e.qZA(),e._UZ(5,"div",28),e.qZA(),e.YNc(6,Vf,7,3,"div",30),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(4),e.Oqu(a.getFormattedDateOfInitialElementFor(t)),e.xp6(2),e.Q6J("ngForOf",t)}}function tu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e._uU(2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"b"),e._uU(6),e.qZA(),e.TgZ(7,"textarea",5),e._uU(8),e.qZA()()(),e.TgZ(9,"div",3)(10,"div",4)(11,"b"),e._uU(12),e.qZA(),e.TgZ(13,"textarea",5),e._uU(14),e.qZA()()(),e.TgZ(15,"div",6)(16,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openDeleteDialog())}),e._uU(17),e.qZA()(),e.TgZ(18,"div",8),e.YNc(19,jf,8,4,"div",9),e.YNc(20,Jf,8,4,"div",9),e.TgZ(21,"div",10)(22,"div",11)(23,"div",12),e._UZ(24,"div",13),e.TgZ(25,"div"),e._uU(26),e.YNc(27,zf,2,0,"span",14),e._uU(28),e.qZA(),e.YNc(29,$f,2,0,"div",15),e.YNc(30,Qf,2,0,"div",15),e.qZA(),e.TgZ(31,"div",16),e.YNc(32,eu,7,2,"div",17),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.AsE("",t.ts.l.profile_summary,": '",t.user.username,"'"),e.xp6(4),e.hij("",t.ts.l.username,":"),e.xp6(2),e.Oqu(t.user.username),e.xp6(4),e.hij("",t.ts.l.role,":"),e.xp6(2),e.Oqu(t.user.role),e.xp6(3),e.hij(" ",t.ts.l.delete_this_account," "),e.xp6(2),e.Q6J("ngIf","TEACHER"===(null==t.user?null:t.user.role)),e.xp6(1),e.Q6J("ngIf","STUDENT"===(null==t.user?null:t.user.role)),e.xp6(6),e.hij(" ",t.user.username,"'"),e.xp6(1),e.Q6J("ngIf","s"!==(null==t.user?null:t.user.username[t.user.username.length-1])),e.xp6(1),e.hij(" ",t.ts.l.activity," "),e.xp6(1),e.Q6J("ngIf",t.maximised),e.xp6(1),e.Q6J("ngIf",!t.maximised),e.xp6(2),e.Q6J("ngForOf",t.eventDates)}}let nu=(()=>{class n{constructor(t,a,o,r,s,c,d,g,l,p,h,v){this.route=t,this.http=a,this.storyService=o,this.router=r,this.classroomService=s,this.engagement=c,this.ts=d,this.messageService=g,this.profileService=l,this.userService=p,this.recordingService=h,this.dialog=v,this.eventSelected={},this.allEvents=[],this.maximised=!1,this.baseUrl=ke.Z.baseurl}ngOnInit(){this.getUserId().then(t=>{this.http.get(this.baseUrl+"user/viewUser",{headers:{_id:t.id.toString()}}).subscribe(a=>{this.user=a,"STUDENT"===this.user.role?this.getStories():"TEACHER"===this.user.role&&this.getClassrooms(),this.engagement.getEventsForUser(this.user._id).subscribe(o=>{let r=o;this.eventDates=[],this.eventDates.push([o[0]]),r.forEach(s=>{if(r.indexOf(s)>0){let c=new Date(s.date);this.roundDate(new Date(this.eventDates[this.eventDates.length-1][0].date)).toString()===this.roundDate(c).toString()?this.eventDates[this.eventDates.length-1].push(s):this.eventDates.push([s])}this.eventSelected[s._id]=!1,this.allEvents.push(s)})})})})}roundDate(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}formatDate(t){let a=t.getDate(),o=t.getMonth()+1,r=t.getFullYear(),s=a.toString(),c=o.toString();return a<10&&(s="0"+a),o<10&&(c="0"+o),s+"/"+c+"/"+r}getTimeFromDate(t){let a=new Date(t),o=a.getHours().toString(),r=a.getMinutes().toString(),s=a.getSeconds().toString();return a.getHours()<10&&(o="0"+o),a.getMinutes()<10&&(r="0"+r),a.getSeconds()<10&&(s="0"+s),o+":"+r+":"+s}getFormattedDateOfInitialElementFor(t){return this.formatDate(new Date(t[0].date))}eventIsSelected(t){return this.eventSelected[t._id]}minimiseEvents(){this.allEvents.forEach(t=>{this.eventSelected[t._id]=!1}),this.maximised=!1}maximiseEvents(){this.allEvents.forEach(t=>{this.eventSelected[t._id]=!0}),this.maximised=!0}getUserId(){return new Promise((t,a)=>{this.route.params.subscribe(o=>{t(o)})})}getStories(){this.storyService.getStoriesFor(this.user.username).subscribe(t=>{this.stories=t})}getClassrooms(){this.classroomService.getClassroomsForTeacher(this.user._id).subscribe(t=>{this.classrooms=t})}goToStory(t){this.router.navigateByUrl("admin/story/"+t.toString())}goToClassroom(t){this.router.navigateByUrl("admin/classroom/"+t)}deleteAccount(){!this.user||("STUDENT"===this.user.role&&(this.classroomService.getClassroomOfStudent(this.user._id).subscribe(t=>{t&&this.classroomService.removeStudentFromClassroom(t._id,this.user._id).subscribe(()=>{})}),this.storyService.getStoriesFor(this.user.username).subscribe(t=>{for(let a of t)this.recordingService.deleteStoryRecordingAudio(a._id).subscribe(()=>{}),this.recordingService.deleteStoryRecording(a._id).subscribe(()=>{})}),this.storyService.deleteAllStories(this.user._id).subscribe(()=>{})),"TEACHER"===this.user.role&&this.classroomService.deleteClassroomsForTeachers(this.user._id).subscribe(()=>{}),this.messageService.deleteAllMessages(this.user._id).subscribe(()=>{}),this.profileService.deleteProfile(this.user._id).subscribe(()=>{}),this.userService.deleteUser(this.user._id).subscribe(()=>{}),this.router.navigateByUrl("admin/find-user"))}openDeleteDialog(){this.dialogRef=this.dialog.open(ct.p,{data:{title:this.ts.l.are_you_sure,message:this.ts.l.this_includes_story_data,type:"simpleConfirm",confirmText:this.ts.l.yes,cancelText:this.ts.l.no},width:"50%"}),this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=void 0,t&&this.deleteAccount()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xe.gz),e.Y36($e.eN),e.Y36(Dt.N),e.Y36(xe.F0),e.Y36(At.u),e.Y36(ni.M),e.Y36(Oe.D),e.Y36(Lf.e),e.Y36(Dn.H),e.Y36(lt.K),e.Y36(If.s),e.Y36(Sn.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"generateCodeTitle"],[1,"userInfoDisplay"],[1,"userInfo"],["readonly","",1,"userInfoTextarea"],[1,"buttonContainer"],[1,"btn","deleteAccountButton",3,"click"],[1,"contentBody"],["class","teacherAccountsContainer",4,"ngIf"],[1,"teacherAccountsContainer"],[1,"teacherAccountsDisplay"],[1,"teacherAccountsHeader","eventContainerHeader"],[2,"width","20px"],["style","margin-right: 8px;",4,"ngIf"],["class","maximiseIconContainer",3,"click",4,"ngIf"],[1,"teacherAccountsBody"],["class","",4,"ngFor","ngForOf"],[1,"teacherAccountsHeader"],["class","activeTeacherCodeContainer whiteBtn",3,"click",4,"ngFor","ngForOf"],[2,"margin-right","8px"],[1,"activeTeacherCodeContainer","whiteBtn",3,"click"],[1,"studentCount"],[1,"maximiseIconContainer",3,"click"],[1,"fas","fa-minus","maximiseIcon"],[1,"fas","fa-plus","maximiseIcon"],[1,""],[1,"dateTextContainer"],[1,"dateLine"],[1,"dateText"],["class","activeTeacherCodeContainer eventContainer whiteBtn",3,"click",4,"ngFor","ngForOf"],[1,"activeTeacherCodeContainer","eventContainer","whiteBtn",3,"click"],[1,"eventHeader"],[1,"eventTime"],["class","eventBody mainEventBody",4,"ngIf"],[1,"eventBody","mainEventBody"],["class","eventBody",4,"ngIf"],[1,"eventBody"],[1,"storyLink",3,"click"],[1,"fas","fa-link","storyLinkIcon"]],template:function(t,a){1&t&&e.YNc(0,tu,33,15,"div",0),2&t&&e.Q6J("ngIf",a.user)},dependencies:[H.sg,H.O5],styles:[".content[_ngcontent-%COMP%]{width:90%;margin-left:5%;padding-top:3vh;height:80vh;display:flex;flex-direction:column}.generateCodeTitle[_ngcontent-%COMP%]{font-size:14pt;display:flex;justify-content:center}.userInfoDisplay[_ngcontent-%COMP%]{width:30%;margin-left:30%;margin-top:2vh}.userInfo[_ngcontent-%COMP%]{float:right;display:flex;align-items:center}.userInfoTextarea[_ngcontent-%COMP%]{background-color:var(--scealai-gray)}.buttonContainer[_ngcontent-%COMP%]{padding-top:15px}.deleteAccountButton[_ngcontent-%COMP%]{background-color:var(--delete-red);font-size:12pt;border-radius:10px}.deleteAccountButton[_ngcontent-%COMP%]:hover{background-color:var(--delete-red-hover);transition:.5s}.contentBody[_ngcontent-%COMP%]{justify-content:space-evenly}.teacherAccountsContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:40%}.teacherAccountsDisplay[_ngcontent-%COMP%]{margin-top:4vh;width:100%;height:45vh;background-color:var(--scealai-gray);border-radius:5px}.teacherAccountsHeader[_ngcontent-%COMP%]{font-size:14pt;height:5vh;display:flex;align-items:center;justify-content:center;color:#fff;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0}.teacherAccountsBody[_ngcontent-%COMP%]{padding:10px 10px 0;text-align:left;overflow:auto;height:40vh}.activeTeacherCodeContainer[_ngcontent-%COMP%]{background-color:#fff;padding:5px;border-radius:5px;margin-bottom:10px;display:flex}.whiteBtn[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--scealai-med-brown-hover);cursor:pointer}.studentCount[_ngcontent-%COMP%]{margin-left:auto}.eventContainerHeader[_ngcontent-%COMP%]{justify-content:space-between}.maximiseIconContainer[_ngcontent-%COMP%]{margin-right:8px}.dateTextContainer[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;color:#777;margin-bottom:10px}.dateText[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}.dateLine[_ngcontent-%COMP%]{height:1px;background-color:#777;width:50%}.eventContainer[_ngcontent-%COMP%]{flex-direction:column}.eventHeader[_ngcontent-%COMP%]{display:flex}.eventTime[_ngcontent-%COMP%]{margin-left:auto}.eventBody[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mainEventBody[_ngcontent-%COMP%]{border-top:1px solid var(--scealai-gray)}.storyLink[_ngcontent-%COMP%]{color:#000;color:inherit}.storyLink[_ngcontent-%COMP%]:hover{text-decoration:none;color:#53ff81;text-decoration:underline}.storyLinkIcon[_ngcontent-%COMP%]{margin-left:5px}"]}),n})();function iu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.goToStudent(r._id))}),e.TgZ(1,"div"),e._uU(2),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.username)}}let au=(()=>{class n{constructor(t,a,o,r){this.route=t,this.classroomService=a,this.router=o,this.userService=r,this.students=[]}ngOnInit(){this.getClassroom()}getClassroomId(){var t=this;return(0,le.Z)(function*(){const a=yield(0,de.z)(t.route.params);if(a.id)return a.id;throw new Error("classroom id not in route params")})()}getClassroom(){var t=this;return(0,le.Z)(function*(){const a=yield t.getClassroomId();t.classroom=yield(0,de.z)(t.classroomService.getClassroom(a)),t.getStudents()})()}getStudents(){for(let t of this.classroom.studentIds)this.userService.getUserById(t).subscribe({next:a=>this.students.push(a),error:()=>console.log(t+" does not exist")})}goToStudent(t){this.router.navigateByUrl("/admin/user/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xe.gz),e.Y36(At.u),e.Y36(xe.F0),e.Y36(lt.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-classroom"]],decls:5,vars:2,consts:[[1,"adminClassContainer"],[1,"classHeader"],[1,"classBody"],["class","classroomCard",3,"click",4,"ngFor","ngForOf"],[1,"classroomCard",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,iu,3,1,"div",3),e.qZA()()),2&t&&(e.xp6(2),e.hij(" ",null==a.classroom?null:a.classroom.title," "),e.xp6(2),e.Q6J("ngForOf",a.students))},dependencies:[H.sg],styles:[".adminClassContainer[_ngcontent-%COMP%]{width:90%;margin-left:5%;background-color:var(--scealai-gray);border-radius:5px;margin-top:20px;height:65vh}.classHeader[_ngcontent-%COMP%]{padding-left:12px;font-size:14pt}"]}),n})();var br=T(1481);function ou(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"textarea",18),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.story.feedback.text=o)})("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.feedbackSent=!1)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.MGl("placeholder","Leave some feedback on ",t.authorPossessive," story"),e.Q6J("ngModel",t.story.feedback.text)}}function ru(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"i",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.ts.l.seen_by," ",null==t.story?null:t.story.author," ")}}function su(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",t.ts.l.not_seen_by," ",null==t.story?null:t.story.author,"")}}function cu(n,i){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,ru,3,2,"span",16),e.YNc(2,su,2,2,"span",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.story.feedback.seenByStudent),e.xp6(1),e.Q6J("ngIf",!t.story.feedback.seenByStudent)}}function lu(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"audio",21,22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.audioSource,e.LSH)}}let du=(()=>{class n{constructor(t,a,o,r,s,c){this.route=t,this.http=a,this.sanitizer=o,this.storyService=r,this.router=s,this.ts=c,this.baseUrl=ke.Z.baseurl}ngOnInit(){this.getParams().then(t=>{this.http.get(this.baseUrl+"story/viewStory/"+t.id.toString()).subscribe(a=>{this.story=a[0],this.getFeedbackAudio()})})}getParams(){return new Promise((t,a)=>{this.route.params.subscribe(o=>{t(o)})})}getFeedbackAudio(){this.storyService.getFeedbackAudio(this.story._id).subscribe(t=>{"audio/mp3"==t.type&&(this.audioSource=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t)))})}goToStoryHistory(){this.router.navigateByUrl("/admin/story-history/"+this.story._id)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(xe.gz),e.Y36($e.eN),e.Y36(br.H7),e.Y36(Dt.N),e.Y36(xe.F0),e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-story"]],decls:37,vars:16,consts:[[1,"contentContainer"],[1,"adminClassBody"],[1,"storyTextContainer"],[1,"storyTextHeader"],[1,"storyText"],[1,"greenBtn",3,"click"],[1,"storyInfoContainer"],[1,"storyInfoBody"],[1,"userInfo"],["readonly","",1,"userInfoTextarea"],[1,"feedbackContainer"],[1,"feedbackHeader"],["class","feedbackBody",4,"ngIf"],[1,"feedbackFooter"],["class","seenByStudent",4,"ngIf"],[1,"feedbackBtnContainer"],[4,"ngIf"],[1,"feedbackBody"],[1,"feedbackTextarea",3,"placeholder","ngModel","ngModelChange","input"],[1,"seenByStudent"],[1,"fas","fa-check"],["id","audio","controls","",1,"audioPlayer",3,"src"],["audioTag",""]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.goToStoryHistory()}),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",3),e._uU(11),e.qZA(),e.TgZ(12,"div",7)(13,"div",8),e._uU(14),e.TgZ(15,"textarea",9),e._uU(16),e.qZA()(),e.TgZ(17,"div",8),e._uU(18),e.TgZ(19,"textarea",9),e._uU(20),e.qZA()(),e.TgZ(21,"div",8),e._uU(22),e.TgZ(23,"textarea",9),e._uU(24),e.qZA()(),e.TgZ(25,"div",8),e._uU(26),e.TgZ(27,"textarea",9),e._uU(28),e.qZA()(),e.TgZ(29,"div",10)(30,"div",11),e._uU(31),e.qZA(),e.YNc(32,ou,2,2,"div",12),e.TgZ(33,"div",13),e.YNc(34,cu,3,2,"div",14),e.qZA()(),e.TgZ(35,"div",15),e.YNc(36,lu,3,1,"div",16),e.qZA()()()()()),2&t&&(e.xp6(4),e.Oqu(a.ts.l.text),e.xp6(2),e.Oqu(null==a.story?null:a.story.text),e.xp6(2),e.Oqu(a.ts.l.story_history),e.xp6(3),e.Oqu(a.ts.l.information),e.xp6(3),e.hij("",a.ts.l.title,": "),e.xp6(2),e.Oqu(null==a.story?null:a.story.title),e.xp6(2),e.hij("",a.ts.l.author_admin,": "),e.xp6(2),e.Oqu(null==a.story?null:a.story.author),e.xp6(2),e.hij("",a.ts.l.creation_date,": "),e.xp6(2),e.Oqu(null==a.story?null:a.story.date),e.xp6(2),e.hij("",a.ts.l.dialect,": "),e.xp6(2),e.Oqu(null==a.story?null:a.story.dialect),e.xp6(3),e.Oqu(a.ts.l.feedback),e.xp6(1),e.Q6J("ngIf",a.story),e.xp6(2),e.Q6J("ngIf",a.story),e.xp6(2),e.Q6J("ngIf",a.audioSource))},dependencies:[H.O5,$.Fj,$.JJ,$.On],styles:[".adminClassBody[_ngcontent-%COMP%]{display:flex;padding:0 5px 5px;width:100%}.storyTextContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--scealai-gray);margin-top:2vh;margin-left:5px;height:68vh;width:50%;border-radius:5px}.storyText[_ngcontent-%COMP%]{text-align:left;padding:4px;overflow:auto;white-space:pre-wrap;background-color:#fff;border-radius:5px;margin:8px;height:55vh}.greenBtn[_ngcontent-%COMP%]{margin-left:7px;margin-right:7px;margin-top:-3px;color:#fff;background-color:var(--scealai-green);border-radius:5px}.greenBtn[_ngcontent-%COMP%]:hover{background-color:var(--scealai-dark-green);transition:.5s}.storyInfoContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--scealai-gray);margin-top:2vh;margin-left:1%;height:68vh;width:48%;border-radius:5px}.storyTextHeader[_ngcontent-%COMP%]{width:100%;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0;color:#fff;display:flex;padding:4px 4px 4px 8px;font-size:12pt;justify-content:center}.storyInfoBody[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:8px;padding-right:8px}.userInfo[_ngcontent-%COMP%]{float:right;display:flex;align-items:center;padding-top:8px;width:100%;white-space:nowrap}.userInfoTextarea[_ngcontent-%COMP%]{width:100%}.feedbackContainer[_ngcontent-%COMP%]{width:100%;background-color:#fff;margin-top:2vh;border-radius:5px;display:flex;flex-direction:column;height:28vh}.feedbackHeader[_ngcontent-%COMP%]{width:100%;background-color:var(--scealai-dark-green);border-radius:5px 5px 0 0;color:#fff;padding:4px}.feedbackBody[_ngcontent-%COMP%]{padding:4px;text-align:left;overflow:auto}.feedbackTextarea[_ngcontent-%COMP%]{border:none;width:100%;height:75px;resize:none}.feedbackFooter[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding:4px;border-top:1px solid var(--scealai-gray);border-radius:5px;margin-top:auto}.seenByStudent[_ngcontent-%COMP%]{font-size:10pt;color:var(--scealai-light-gray);margin-left:4px}.feedbackBtnContainer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.audioPlayer[_ngcontent-%COMP%]{width:450px;height:32px;margin-top:7px}"]}),n})();var fu=T(6832);function uu(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e._uU(3),e.qZA(),e.TgZ(4,"div",8),e._uU(5),e.qZA()(),e.TgZ(6,"div",9),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.KtG(r.isHighlighted=!r.isHighlighted)}),e._UZ(7,"i",10),e.qZA(),e._UZ(8,"div",11),e.qZA()}if(2&n){const t=i.$implicit,a=e.oxw();e.xp6(3),e.Oqu(a.formatDate(t.event.date)),e.xp6(2),e.Oqu(t.event.type),e.xp6(1),e.Gre("highlightIcon ",a.getHighlightIconClass(t),""),e.xp6(2),e.Q6J("innerHtml",t.isHighlighted?t.textHighlighted:t.textNotHighlighted,e.oJD)}}let pu=(()=>{class n{constructor(t,a,o,r,s,c,d){this.engagement=t,this.route=a,this.http=o,this.storyService=r,this.router=s,this.sanitizer=c,this.ts=d,this.highlightedTexts=[],this.entries=[],this.highlightIconClass=""}ngOnInit(){this.getParams().then(t=>{let a=t.id.toString();this.engagement.getEventsForStory(a).subscribe(o=>{let r;this.events=o,this.events.forEach(s=>{let c=new hu;c.event=s;let d=s.storyData;c.textHighlighted=d.text,c.textNotHighlighted=d.text,r&&(c.textHighlighted=this.highlightDifference(r.text.toString(),d.text.toString())),r=d,c.isHighlighted=!1,this.entries.push(c)})})})}highlightDifference(t,a){let s="notHighlighted",c="";return fu.diffChars(t,a).forEach(function(g){s=g.added?"highlightedGreen":g.removed?"highlightedRed":"notHighlighted";let l=document.createElement("span");l.classList.add(s),l.appendChild(document.createTextNode(g.value));let p=document.createElement("span");p.appendChild(l),c+=p.innerHTML}),this.sanitizer.bypassSecurityTrustHtml(c)}toggleHighlights(){this.entries.forEach(t=>{t.isHighlighted=!t.isHighlighted}),this.highlightIconClass=""===this.highlightIconClass?"iconHighlighted":""}getParams(){return new Promise((t,a)=>{this.route.params.subscribe(o=>{t(o)})})}formatDate(t){let a=new Date(t),o=a.getDate(),r=a.getMonth()+1,s=a.getFullYear(),c=o.toString(),d=r.toString();o<10&&(c="0"+o),r<10&&(d="0"+r);let g=a.getHours().toString(),l=a.getMinutes().toString(),p=a.getSeconds().toString();return a.getHours()<10&&(g="0"+g),a.getMinutes()<10&&(l="0"+l),a.getSeconds()<10&&(p="0"+p),c+"-"+d+"-"+s+" "+g+":"+l+":"+p}getHighlightIconClass(t){return t.isHighlighted?"iconHighlighted":""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ni.M),e.Y36(xe.gz),e.Y36($e.eN),e.Y36(Dt.N),e.Y36(xe.F0),e.Y36(br.H7),e.Y36(Oe.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-story-history"]],decls:6,vars:2,consts:[["id","display"],[1,"storyHistoryHeader"],[1,"fas","fa-info-circle"],[1,"storyContainer"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"eventEntry"],[1,"eventDate"],[1,"eventType"],[3,"click"],[1,"fas","fa-highlighter"],[1,"textEntry",3,"innerHtml"]],template:function(t,a){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2),e._UZ(3,"i",2),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,uu,9,6,"div",4),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",a.ts.l.history_of_title," "),e.xp6(3),e.Q6J("ngForOf",a.entries))},dependencies:[H.sg],styles:[".storyHistoryHeader[_ngcontent-%COMP%]{color:#fff;background-color:var(--scealai-dark-green);width:60%;margin-left:20%;border-radius:5px 5px 0 0;font-size:12pt;padding:4px;margin-top:2vh}.storyContainer[_ngcontent-%COMP%]{width:60%;margin-left:20%;background-color:#d1d1d1;border-radius:0 0 5px 5px;height:63vh;padding:8px 8px 0;overflow:auto}.entry[_ngcontent-%COMP%]{margin-bottom:8px;padding:8px;background-color:#777;border-radius:5px}.eventEntry[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;margin-bottom:8px}.eventDate[_ngcontent-%COMP%]{width:50%;background-color:#fff;border-radius:10px 0 0 10px}.eventType[_ngcontent-%COMP%]{width:50%;background-color:var(--scealai-green);color:#fff;border-radius:0 10px 10px 0}.highlightIcon[_ngcontent-%COMP%]{float:right;margin-right:8px;margin-top:5px;color:var(--scealai-dark-green);opacity:.3}.highlightIcon[_ngcontent-%COMP%]:hover{color:var(--scealai-green);opacity:1;transition:.5s;cursor:pointer}.iconHighlighted[_ngcontent-%COMP%]{color:var(--scealai-green);opacity:1}.iconHighlighted[_ngcontent-%COMP%]:hover{color:var(--scealai-dark-green);transition:1s}.textEntry[_ngcontent-%COMP%]{width:100%;text-align:left;padding:4px;border-radius:5px;background-color:#fff}[_nghost-%COMP%]     .highlightedGreen{background-color:#aafdc0}[_nghost-%COMP%]     .highlightedRed{background-color:#fdaaaa}[_nghost-%COMP%]     .notHighlighted{background-color:none}"]}),n})();class hu{}const gu=[{path:"",pathMatch:"full",component:wn},{path:"teachers",pathMatch:"full",component:Ci},{path:"find-user",pathMatch:"full",component:Zt},{path:"database-stats",pathMatch:"full",component:fl},{path:"profile-stats",pathMatch:"full",component:ad},{path:"feature-stats",pathMatch:"full",component:hd},{path:"add-content",pathMatch:"full",component:Ff},{path:"user/:id",pathMatch:"full",component:nu},{path:"classroom/:id",pathMatch:"full",component:au},{path:"story/:id",pathMatch:"full",component:du},{path:"story-history/:id",pathMatch:"full",component:pu}];let mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[xe.Bz.forChild(gu),$.u5,xe.Bz]}),n})();var _u=T(3869);let vu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[$t.NW,st.YE,qe.FA],imports:[H.ez,mu,$.u5,$.UX,Te.lN,Bd,yi.c,$t.TU,st.JX,Bt.To,_r.LD,yt.QW,vr.ot,qe.FA,_u.F]}),n})()},6832:function(yr,Cn){!function(T){"use strict";function H(){}function $(u,f,m,_,x){for(var b=0,S=f.length,D=0,M=0;b<S;b++){var A=f[b];if(A.removed){if(A.value=u.join(_.slice(M,M+A.count)),M+=A.count,b&&f[b-1].added){var X=f[b-1];f[b-1]=f[b],f[b]=X}}else{if(!A.added&&x){var Y=m.slice(D,D+A.count);Y=Y.map(function(V,re){var I=_[M+re];return I.length>V.length?I:V}),A.value=u.join(Y)}else A.value=u.join(m.slice(D,D+A.count));D+=A.count,A.added||(M+=A.count)}}var E=f[S-1];return S>1&&"string"==typeof E.value&&(E.added||E.removed)&&u.equals("",E.value)&&(f[S-2].value+=E.value,f.pop()),f}function xe(u){return{newPos:u.newPos,components:u.components.slice(0)}}H.prototype={diff:function(f,m){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=_.callback;"function"==typeof _&&(x=_,_={}),this.options=_;var b=this;function S(I){return x?(setTimeout(function(){x(void 0,I)},0),!0):I}f=this.castInput(f),m=this.castInput(m),f=this.removeEmpty(this.tokenize(f));var D=(m=this.removeEmpty(this.tokenize(m))).length,M=f.length,A=1,Y=D+M,X=[{newPos:-1,components:[]}],E=this.extractCommon(X[0],m,f,0);if(X[0].newPos+1>=D&&E+1>=M)return S([{value:this.join(m),count:m.length}]);function V(){for(var I=-1*A;I<=A;I+=2){var ue=void 0,pe=X[I-1],he=X[I+1],me=(he?he.newPos:0)-I;pe&&(X[I-1]=void 0);var se=pe&&pe.newPos+1<D,Ee=he&&0<=me&&me<M;if(se||Ee){if(!se||Ee&&pe.newPos<he.newPos?(ue=xe(he),b.pushComponent(ue.components,void 0,!0)):((ue=pe).newPos++,b.pushComponent(ue.components,!0,void 0)),me=b.extractCommon(ue,m,f,I),ue.newPos+1>=D&&me+1>=M)return S($(b,ue.components,m,f,b.useLongestToken));X[I]=ue}else X[I]=void 0}A++}if(x)!function I(){setTimeout(function(){if(A>Y)return x();V()||I()},0)}();else for(;A<=Y;){var re=V();if(re)return re}},pushComponent:function(f,m,_){var x=f[f.length-1];x&&x.added===m&&x.removed===_?f[f.length-1]={count:x.count+1,added:m,removed:_}:f.push({count:1,added:m,removed:_})},extractCommon:function(f,m,_,x){for(var b=m.length,S=_.length,D=f.newPos,M=D-x,A=0;D+1<b&&M+1<S&&this.equals(m[D+1],_[M+1]);)D++,M++,A++;return A&&f.components.push({count:A}),f.newPos=D,M},equals:function(f,m){return this.options.comparator?this.options.comparator(f,m):f===m||this.options.ignoreCase&&f.toLowerCase()===m.toLowerCase()},removeEmpty:function(f){for(var m=[],_=0;_<f.length;_++)f[_]&&m.push(f[_]);return m},castInput:function(f){return f},tokenize:function(f){return f.split("")},join:function(f){return f.join("")}};var Oe=new H;function wn(u,f){if("function"==typeof u)f.callback=u;else if(u)for(var m in u)u.hasOwnProperty(m)&&(f[m]=u[m]);return f}var Tn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ke=/\S/,ct=new H;ct.equals=function(u,f){return this.options.ignoreCase&&(u=u.toLowerCase(),f=f.toLowerCase()),u===f||this.options.ignoreWhitespace&&!ke.test(u)&&!ke.test(f)},ct.tokenize=function(u){for(var f=u.split(/(\s+|[()[\]{}'"]|\b)/),m=0;m<f.length-1;m++)!f[m+1]&&f[m+2]&&Tn.test(f[m])&&Tn.test(f[m+2])&&(f[m]+=f[m+2],f.splice(m+1,2),m--);return f};var Ct=new H;function Zn(u,f,m){return Ct.diff(u,f,m)}Ct.tokenize=function(u){var f=[],m=u.split(/(\n|\r\n)/);m[m.length-1]||m.pop();for(var _=0;_<m.length;_++){var x=m[_];_%2&&!this.options.newlineIsToken?f[f.length-1]+=x:(this.options.ignoreWhitespace&&(x=x.trim()),f.push(x))}return f};var wi=new H;wi.tokenize=function(u){return u.split(/(\S.+?[.!?])(?=\s+|$)/)};var lt=new H;function Tt(u){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function Ne(u){return function Wt(u){if(Array.isArray(u)){for(var f=0,m=new Array(u.length);f<u.length;f++)m[f]=u[f];return m}}(u)||function Si(u){if(Symbol.iterator in Object(u)||"[object Arguments]"===Object.prototype.toString.call(u))return Array.from(u)}(u)||function Zi(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}lt.tokenize=function(u){return u.split(/([{}:;,]|\s+)/)};var Di=Object.prototype.toString,at=new H;function St(u,f,m,_,x){var b,S;for(f=f||[],m=m||[],_&&(u=_(x,u)),b=0;b<f.length;b+=1)if(f[b]===u)return m[b];if("[object Array]"===Di.call(u)){for(f.push(u),S=new Array(u.length),m.push(S),b=0;b<u.length;b+=1)S[b]=St(u[b],f,m,_,x);return f.pop(),m.pop(),S}if(u&&u.toJSON&&(u=u.toJSON()),"object"===Tt(u)&&null!==u){f.push(u),m.push(S={});var M,D=[];for(M in u)u.hasOwnProperty(M)&&D.push(M);for(D.sort(),b=0;b<D.length;b+=1)S[M=D[b]]=St(u[M],f,m,_,M);f.pop(),m.pop()}else S=u;return S}at.useLongestToken=!0,at.tokenize=Ct.tokenize,at.castInput=function(u){var f=this.options,m=f.undefinedReplacement,_=f.stringifyReplacer,x=void 0===_?function(b,S){return typeof S>"u"?m:S}:_;return"string"==typeof u?u:JSON.stringify(St(u,null,null,x),x,"  ")},at.equals=function(u,f){return H.prototype.equals.call(at,u.replace(/,([\r\n])/g,"$1"),f.replace(/,([\r\n])/g,"$1"))};var Zt=new H;function de(u){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=u.split(/\r\n|[\n\v\f\r\x85]/),_=u.match(/\r\n|[\n\v\f\r\x85]/g)||[],x=[],b=0;function S(){var A={};for(x.push(A);b<m.length;){var Y=m[b];if(/^(\-\-\-|\+\+\+|@@)\s/.test(Y))break;var X=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(Y);X&&(A.index=X[1]),b++}for(D(A),D(A),A.hunks=[];b<m.length;){var E=m[b];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(E))break;if(/^@@/.test(E))A.hunks.push(M());else{if(E&&f.strict)throw new Error("Unknown line "+(b+1)+" "+JSON.stringify(E));b++}}}function D(A){var Y=/^(---|\+\+\+)\s+(.*)$/.exec(m[b]);if(Y){var X="---"===Y[1]?"old":"new",E=Y[2].split("\t",2),V=E[0].replace(/\\\\/g,"\\");/^".*"$/.test(V)&&(V=V.substr(1,V.length-2)),A[X+"FileName"]=V,A[X+"Header"]=(E[1]||"").trim(),b++}}function M(){for(var A=b,X=m[b++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),E={oldStart:+X[1],oldLines:+X[2]||1,newStart:+X[3],newLines:+X[4]||1,lines:[],linedelimiters:[]},V=0,re=0;b<m.length&&!(0===m[b].indexOf("--- ")&&b+2<m.length&&0===m[b+1].indexOf("+++ ")&&0===m[b+2].indexOf("@@"));b++){var I=0==m[b].length&&b!=m.length-1?" ":m[b][0];if("+"!==I&&"-"!==I&&" "!==I&&"\\"!==I)break;E.lines.push(m[b]),E.linedelimiters.push(_[b]||"\n"),"+"===I?V++:"-"===I?re++:" "===I&&(V++,re++)}if(!V&&1===E.newLines&&(E.newLines=0),!re&&1===E.oldLines&&(E.oldLines=0),f.strict){if(V!==E.newLines)throw new Error("Added line count did not match for hunk at line "+(A+1));if(re!==E.oldLines)throw new Error("Removed line count did not match for hunk at line "+(A+1))}return E}for(;b<m.length;)S();return x}function Dt(u,f,m){var _=!0,x=!1,b=!1,S=1;return function D(){if(_&&!b){if(x?S++:_=!1,u+S<=m)return S;b=!0}if(!x)return b||(_=!0),f<=u-S?-S++:(x=!0,D())}}function At(u,f){var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof f&&(f=de(f)),Array.isArray(f)){if(f.length>1)throw new Error("applyPatch only works with a single input.");f=f[0]}var X,E,_=u.split(/\r\n|[\n\v\f\r\x85]/),x=u.match(/\r\n|[\n\v\f\r\x85]/g)||[],b=f.hunks,S=m.compareLine||function(kt,Rt,Pt,We){return Rt===We},D=0,M=m.fuzzFactor||0,A=0,Y=0;function V(kt,Rt){for(var Pt=0;Pt<kt.lines.length;Pt++){var We=kt.lines[Pt],Ke=We.length>0?We[0]:" ",qt=We.length>0?We.substr(1):We;if(" "===Ke||"-"===Ke){if(!S(Rt+1,_[Rt],Ke,qt)&&++D>M)return!1;Rt++}}return!0}for(var re=0;re<b.length;re++){for(var I=b[re],pe=0,he=Y+I.oldStart-1,me=Dt(he,A,_.length-I.oldLines);void 0!==pe;pe=me())if(V(I,he+pe)){I.offset=Y+=pe;break}if(void 0===pe)return!1;A=I.offset+I.oldStart+I.oldLines}for(var se=0,Ee=0;Ee<b.length;Ee++){var we=b[Ee],Ze=we.oldStart+we.offset+se-1;se+=we.newLines-we.oldLines,Ze<0&&(Ze=0);for(var Fe=0;Fe<we.lines.length;Fe++){var Le=we.lines[Fe],Ie=Le.length>0?Le[0]:" ",Ot=Le.length>0?Le.substr(1):Le,en=we.linedelimiters[Fe];if(" "===Ie)Ze++;else if("-"===Ie)_.splice(Ze,1),x.splice(Ze,1);else if("+"===Ie)_.splice(Ze,0,Ot),x.splice(Ze,0,en),Ze++;else if("\\"===Ie){var ft=we.lines[Fe-1]?we.lines[Fe-1][0]:null;"+"===ft?X=!0:"-"===ft&&(E=!0)}}}if(X)for(;!_[_.length-1];)_.pop(),x.pop();else E&&(_.push(""),x.push("\n"));for(var je=0;je<_.length-1;je++)_[je]=_[je]+x[je];return _.join("")}function ee(u,f,m,_,x,b,S){S||(S={}),typeof S.context>"u"&&(S.context=4);var D=Zn(m,_,S);function M(pe){return pe.map(function(he){return" "+he})}D.push({value:"",lines:[]});for(var A=[],Y=0,X=0,E=[],V=1,re=1,I=function(he){var me=D[he],se=me.lines||me.value.replace(/\n$/,"").split("\n");if(me.lines=se,me.added||me.removed){var Ee;if(!Y){var we=D[he-1];Y=V,X=re,we&&(E=S.context>0?M(we.lines.slice(-S.context)):[],Y-=E.length,X-=E.length)}(Ee=E).push.apply(Ee,Ne(se.map(function(je){return(me.added?"+":"-")+je}))),me.added?re+=se.length:V+=se.length}else{if(Y)if(se.length<=2*S.context&&he<D.length-2){var Ze;(Ze=E).push.apply(Ze,Ne(M(se)))}else{var Fe,Le=Math.min(se.length,S.context);(Fe=E).push.apply(Fe,Ne(M(se.slice(0,Le))));var Ie={oldStart:Y,oldLines:V-Y+Le,newStart:X,newLines:re-X+Le,lines:E};if(he>=D.length-2&&se.length<=S.context){var Ot=/\n$/.test(m),en=/\n$/.test(_),ft=0==se.length&&E.length>Ie.oldLines;!Ot&&ft&&E.splice(Ie.oldLines,0,"\\ No newline at end of file"),(!Ot&&!ft||!en)&&E.push("\\ No newline at end of file")}A.push(Ie),Y=0,X=0,E=[]}V+=se.length,re+=se.length}},ue=0;ue<D.length;ue++)I(ue);return{oldFileName:u,newFileName:f,oldHeader:x,newHeader:b,hunks:A}}function Mi(u,f,m,_,x,b,S){var D=ee(u,f,m,_,x,b,S),M=[];u==f&&M.push("Index: "+u),M.push("==================================================================="),M.push("--- "+D.oldFileName+(typeof D.oldHeader>"u"?"":"\t"+D.oldHeader)),M.push("+++ "+D.newFileName+(typeof D.newHeader>"u"?"":"\t"+D.newHeader));for(var A=0;A<D.hunks.length;A++){var Y=D.hunks[A];M.push("@@ -"+Y.oldStart+","+Y.oldLines+" +"+Y.newStart+","+Y.newLines+" @@"),M.push.apply(M,Y.lines)}return M.join("\n")+"\n"}function F(u,f){if(f.length>u.length)return!1;for(var m=0;m<f.length;m++)if(f[m]!==u[m])return!1;return!0}function ae(u){var f=fe(u.lines),m=f.oldLines,_=f.newLines;void 0!==m?u.oldLines=m:delete u.oldLines,void 0!==_?u.newLines=_:delete u.newLines}function be(u,f){if("string"==typeof u){if(/^@@/m.test(u)||/^Index:/m.test(u))return de(u)[0];if(!f)throw new Error("Must provide a base reference or pass in a patch");return ee(void 0,void 0,f,u)}return u}function ge(u){return u.newFileName&&u.newFileName!==u.oldFileName}function z(u,f,m){return f===m?f:(u.conflict=!0,{mine:f,theirs:m})}function G(u,f){return u.oldStart<f.oldStart&&u.oldStart+u.oldLines<f.oldStart}function Qe(u,f){return{oldStart:u.oldStart,oldLines:u.oldLines,newStart:u.newStart+f,newLines:u.newLines,lines:u.lines}}function Re(u,f,m,_,x){var b={offset:f,lines:m,index:0},S={offset:_,lines:x,index:0};for(Oi(u,b,S),Oi(u,S,b);b.index<b.lines.length&&S.index<S.lines.length;){var D=b.lines[b.index],M=S.lines[S.index];if("-"!==D[0]&&"+"!==D[0]||"-"!==M[0]&&"+"!==M[0])if("+"===D[0]&&" "===M[0]){var A;(A=u.lines).push.apply(A,Ne(Pe(b)))}else if("+"===M[0]&&" "===D[0]){var Y;(Y=u.lines).push.apply(Y,Ne(Pe(S)))}else"-"===D[0]&&" "===M[0]?dt(u,b,S):"-"===M[0]&&" "===D[0]?dt(u,S,b,!0):D===M?(u.lines.push(D),b.index++,S.index++):Mt(u,Pe(b),Pe(S));else N(u,b,S)}ki(u,b),ki(u,S),ae(u)}function N(u,f,m){var _=Pe(f),x=Pe(m);if(q(_)&&q(x)){var b,S;if(F(_,x)&&Ce(m,_,_.length-x.length))return void(b=u.lines).push.apply(b,Ne(_));if(F(x,_)&&Ce(f,x,x.length-_.length))return void(S=u.lines).push.apply(S,Ne(x))}else if(function Kt(u,f){return u.length===f.length&&F(u,f)}(_,x)){var D;return void(D=u.lines).push.apply(D,Ne(_))}Mt(u,_,x)}function dt(u,f,m,_){var S,x=Pe(f),b=function Xt(u,f){for(var m=[],_=[],x=0,b=!1,S=!1;x<f.length&&u.index<u.lines.length;){var D=u.lines[u.index],M=f[x];if("+"===M[0])break;if(b=b||" "!==D[0],_.push(M),x++,"+"===D[0])for(S=!0;"+"===D[0];)m.push(D),D=u.lines[++u.index];M.substr(1)===D.substr(1)?(m.push(D),u.index++):S=!0}if("+"===(f[x]||"")[0]&&b&&(S=!0),S)return m;for(;x<f.length;)_.push(f[x++]);return{merged:_,changes:m}}(m,x);b.merged?(S=u.lines).push.apply(S,Ne(b.merged)):Mt(u,_?b:x,_?x:b)}function Mt(u,f,m){u.conflict=!0,u.lines.push({conflict:!0,mine:f,theirs:m})}function Oi(u,f,m){for(;f.offset<m.offset&&f.index<f.lines.length;){var _=f.lines[f.index++];u.lines.push(_),f.offset++}}function ki(u,f){for(;f.index<f.lines.length;){var m=f.lines[f.index++];u.lines.push(m)}}function Pe(u){for(var f=[],m=u.lines[u.index][0];u.index<u.lines.length;){var _=u.lines[u.index];if("-"===m&&"+"===_[0]&&(m="+"),m!==_[0])break;f.push(_),u.index++}return f}function q(u){return u.reduce(function(f,m){return f&&"-"===m[0]},!0)}function Ce(u,f,m){for(var _=0;_<m;_++){var x=f[f.length-m+_].substr(1);if(u.lines[u.index+_]!==" "+x)return!1}return u.index+=m,!0}function fe(u){var f=0,m=0;return u.forEach(function(_){if("string"!=typeof _){var x=fe(_.mine),b=fe(_.theirs);void 0!==f&&(x.oldLines===b.oldLines?f+=x.oldLines:f=void 0),void 0!==m&&(x.newLines===b.newLines?m+=x.newLines:m=void 0)}else void 0!==m&&("+"===_[0]||" "===_[0])&&m++,void 0!==f&&("-"===_[0]||" "===_[0])&&f++}),{oldLines:f,newLines:m}}function Se(u){var f=u;return(f=(f=(f=f.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}Zt.tokenize=function(u){return u.slice()},Zt.join=Zt.removeEmpty=function(u){return u},T.Diff=H,T.diffChars=function e(u,f,m){return Oe.diff(u,f,m)},T.diffWords=function $e(u,f,m){return m=wn(m,{ignoreWhitespace:!0}),ct.diff(u,f,m)},T.diffWordsWithSpace=function Sn(u,f,m){return ct.diff(u,f,m)},T.diffLines=Zn,T.diffTrimmedLines=function Ci(u,f,m){var _=wn(m,{ignoreWhitespace:!0});return Ct.diff(u,f,_)},T.diffSentences=function Ti(u,f,m){return wi.diff(u,f,m)},T.diffCss=function wt(u,f,m){return lt.diff(u,f,m)},T.diffJson=function Ai(u,f,m){return at.diff(u,f,m)},T.diffArrays=function le(u,f,m){return Zt.diff(u,f,m)},T.structuredPatch=ee,T.createTwoFilesPatch=Mi,T.createPatch=function R(u,f,m,_,x,b){return Mi(u,u,f,m,_,x,b)},T.applyPatch=At,T.applyPatches=function Dn(u,f){"string"==typeof u&&(u=de(u));var m=0;!function _(){var x=u[m++];if(!x)return f.complete();f.loadFile(x,function(b,S){if(b)return f.complete(b);var D=At(S,x,f);f.patched(x,D,function(M){if(M)return f.complete(M);_()})})}()},T.parsePatch=de,T.merge=function An(u,f,m){u=be(u,m),f=be(f,m);var _={};(u.index||f.index)&&(_.index=u.index||f.index),(u.newFileName||f.newFileName)&&(ge(u)?ge(f)?(_.oldFileName=z(_,u.oldFileName,f.oldFileName),_.newFileName=z(_,u.newFileName,f.newFileName),_.oldHeader=z(_,u.oldHeader,f.oldHeader),_.newHeader=z(_,u.newHeader,f.newHeader)):(_.oldFileName=u.oldFileName,_.newFileName=u.newFileName,_.oldHeader=u.oldHeader,_.newHeader=u.newHeader):(_.oldFileName=f.oldFileName||u.oldFileName,_.newFileName=f.newFileName||u.newFileName,_.oldHeader=f.oldHeader||u.oldHeader,_.newHeader=f.newHeader||u.newHeader)),_.hunks=[];for(var x=0,b=0,S=0,D=0;x<u.hunks.length||b<f.hunks.length;){var M=u.hunks[x]||{oldStart:1/0},A=f.hunks[b]||{oldStart:1/0};if(G(M,A))_.hunks.push(Qe(M,S)),x++,D+=M.newLines-M.oldLines;else if(G(A,M))_.hunks.push(Qe(A,D)),b++,S+=A.newLines-A.oldLines;else{var Y={oldStart:Math.min(M.oldStart,A.oldStart),oldLines:0,newStart:Math.min(M.newStart+S,A.oldStart+D),newLines:0,lines:[]};Re(Y,M.oldStart,M.lines,A.oldStart,A.lines),b++,x++,_.hunks.push(Y)}}return _},T.convertChangesToDMP=function Vt(u){for(var m,f=[],x=0;x<u.length;x++)f.push([(m=u[x]).added?1:m.removed?-1:0,m.value]);return f},T.convertChangesToXML=function Mn(u){for(var f=[],m=0;m<u.length;m++){var _=u[m];_.added?f.push("<ins>"):_.removed&&f.push("<del>"),f.push(Se(_.value)),_.added?f.push("</ins>"):_.removed&&f.push("</del>")}return f.join("")},T.canonicalize=St,Object.defineProperty(T,"__esModule",{value:!0})}(Cn)}}]);